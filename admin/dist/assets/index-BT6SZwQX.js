(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Jp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var em={exports:{}},fa={},tm={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var co=Symbol.for("react.element"),xx=Symbol.for("react.portal"),wx=Symbol.for("react.fragment"),Nx=Symbol.for("react.strict_mode"),Sx=Symbol.for("react.profiler"),Ex=Symbol.for("react.provider"),jx=Symbol.for("react.context"),kx=Symbol.for("react.forward_ref"),Cx=Symbol.for("react.suspense"),_x=Symbol.for("react.memo"),Tx=Symbol.for("react.lazy"),Vf=Symbol.iterator;function bx(e){return e===null||typeof e!="object"?null:(e=Vf&&e[Vf]||e["@@iterator"],typeof e=="function"?e:null)}var nm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rm=Object.assign,sm={};function Ks(e,t,n){this.props=e,this.context=t,this.refs=sm,this.updater=n||nm}Ks.prototype.isReactComponent={};Ks.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ks.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function im(){}im.prototype=Ks.prototype;function Ku(e,t,n){this.props=e,this.context=t,this.refs=sm,this.updater=n||nm}var Zu=Ku.prototype=new im;Zu.constructor=Ku;rm(Zu,Ks.prototype);Zu.isPureReactComponent=!0;var Bf=Array.isArray,om=Object.prototype.hasOwnProperty,qu={current:null},lm={key:!0,ref:!0,__self:!0,__source:!0};function am(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)om.call(t,r)&&!lm.hasOwnProperty(r)&&(s[r]=t[r]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+2];s.children=u}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)s[r]===void 0&&(s[r]=c[r]);return{$$typeof:co,type:e,key:i,ref:o,props:s,_owner:qu.current}}function Mx(e,t){return{$$typeof:co,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ju(e){return typeof e=="object"&&e!==null&&e.$$typeof===co}function Ax(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Hf=/\/+/g;function qa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ax(""+e.key):t.toString(36)}function ml(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case co:case xx:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+qa(o,0):r,Bf(s)?(n="",e!=null&&(n=e.replace(Hf,"$&/")+"/"),ml(s,t,n,"",function(d){return d})):s!=null&&(Ju(s)&&(s=Mx(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Hf,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Bf(e))for(var c=0;c<e.length;c++){i=e[c];var u=r+qa(i,c);o+=ml(i,t,n,u,s)}else if(u=bx(e),typeof u=="function")for(e=u.call(e),c=0;!(i=e.next()).done;)i=i.value,u=r+qa(i,c++),o+=ml(i,t,n,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Oo(e,t,n){if(e==null)return e;var r=[],s=0;return ml(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Ix(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ot={current:null},gl={transition:null},Rx={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:gl,ReactCurrentOwner:qu};function cm(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Oo,forEach:function(e,t,n){Oo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Oo(e,function(){t++}),t},toArray:function(e){return Oo(e,function(t){return t})||[]},only:function(e){if(!Ju(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};le.Component=Ks;le.Fragment=wx;le.Profiler=Sx;le.PureComponent=Ku;le.StrictMode=Nx;le.Suspense=Cx;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rx;le.act=cm;le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=rm({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=qu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)om.call(t,u)&&!lm.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&c!==void 0?c[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:co,type:e.type,key:s,ref:i,props:r,_owner:o}};le.createContext=function(e){return e={$$typeof:jx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ex,_context:e},e.Consumer=e};le.createElement=am;le.createFactory=function(e){var t=am.bind(null,e);return t.type=e,t};le.createRef=function(){return{current:null}};le.forwardRef=function(e){return{$$typeof:kx,render:e}};le.isValidElement=Ju;le.lazy=function(e){return{$$typeof:Tx,_payload:{_status:-1,_result:e},_init:Ix}};le.memo=function(e,t){return{$$typeof:_x,type:e,compare:t===void 0?null:t}};le.startTransition=function(e){var t=gl.transition;gl.transition={};try{e()}finally{gl.transition=t}};le.unstable_act=cm;le.useCallback=function(e,t){return ot.current.useCallback(e,t)};le.useContext=function(e){return ot.current.useContext(e)};le.useDebugValue=function(){};le.useDeferredValue=function(e){return ot.current.useDeferredValue(e)};le.useEffect=function(e,t){return ot.current.useEffect(e,t)};le.useId=function(){return ot.current.useId()};le.useImperativeHandle=function(e,t,n){return ot.current.useImperativeHandle(e,t,n)};le.useInsertionEffect=function(e,t){return ot.current.useInsertionEffect(e,t)};le.useLayoutEffect=function(e,t){return ot.current.useLayoutEffect(e,t)};le.useMemo=function(e,t){return ot.current.useMemo(e,t)};le.useReducer=function(e,t,n){return ot.current.useReducer(e,t,n)};le.useRef=function(e){return ot.current.useRef(e)};le.useState=function(e){return ot.current.useState(e)};le.useSyncExternalStore=function(e,t,n){return ot.current.useSyncExternalStore(e,t,n)};le.useTransition=function(){return ot.current.useTransition()};le.version="18.3.1";tm.exports=le;var w=tm.exports;const z=Jp(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Px=w,$x=Symbol.for("react.element"),zx=Symbol.for("react.fragment"),Dx=Object.prototype.hasOwnProperty,Lx=Px.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fx={key:!0,ref:!0,__self:!0,__source:!0};function um(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Dx.call(t,r)&&!Fx.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:$x,type:e,key:i,ref:o,props:s,_owner:Lx.current}}fa.Fragment=zx;fa.jsx=um;fa.jsxs=um;em.exports=fa;var a=em.exports,dm={exports:{}},Tt={},fm={exports:{}},hm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,k){var I=A.length;A.push(k);e:for(;0<I;){var L=I-1>>>1,O=A[L];if(0<s(O,k))A[L]=k,A[I]=O,I=L;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var k=A[0],I=A.pop();if(I!==k){A[0]=I;e:for(var L=0,O=A.length,G=O>>>1;L<G;){var Y=2*(L+1)-1,Z=A[Y],ee=Y+1,te=A[ee];if(0>s(Z,I))ee<O&&0>s(te,Z)?(A[L]=te,A[ee]=I,L=ee):(A[L]=Z,A[Y]=I,L=Y);else if(ee<O&&0>s(te,I))A[L]=te,A[ee]=I,L=ee;else break e}}return k}function s(A,k){var I=A.sortIndex-k.sortIndex;return I!==0?I:A.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var u=[],d=[],f=1,h=null,m=3,y=!1,j=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(A){for(var k=n(d);k!==null;){if(k.callback===null)r(d);else if(k.startTime<=A)r(d),k.sortIndex=k.expirationTime,t(u,k);else break;k=n(d)}}function N(A){if(E=!1,x(A),!j)if(n(u)!==null)j=!0,M(T);else{var k=n(d);k!==null&&B(N,k.startTime-A)}}function T(A,k){j=!1,E&&(E=!1,g(P),P=-1),y=!0;var I=m;try{for(x(k),h=n(u);h!==null&&(!(h.expirationTime>k)||A&&!H());){var L=h.callback;if(typeof L=="function"){h.callback=null,m=h.priorityLevel;var O=L(h.expirationTime<=k);k=e.unstable_now(),typeof O=="function"?h.callback=O:h===n(u)&&r(u),x(k)}else r(u);h=n(u)}if(h!==null)var G=!0;else{var Y=n(d);Y!==null&&B(N,Y.startTime-k),G=!1}return G}finally{h=null,m=I,y=!1}}var b=!1,R=null,P=-1,D=5,F=-1;function H(){return!(e.unstable_now()-F<D)}function X(){if(R!==null){var A=e.unstable_now();F=A;var k=!0;try{k=R(!0,A)}finally{k?W():(b=!1,R=null)}}else b=!1}var W;if(typeof v=="function")W=function(){v(X)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,$=S.port2;S.port1.onmessage=X,W=function(){$.postMessage(null)}}else W=function(){C(X,0)};function M(A){R=A,b||(b=!0,W())}function B(A,k){P=C(function(){A(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){j||y||(j=!0,M(T))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(A){switch(m){case 1:case 2:case 3:var k=3;break;default:k=m}var I=m;m=k;try{return A()}finally{m=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,k){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var I=m;m=A;try{return k()}finally{m=I}},e.unstable_scheduleCallback=function(A,k,I){var L=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?L+I:L):I=L,A){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=I+O,A={id:f++,callback:k,priorityLevel:A,startTime:I,expirationTime:O,sortIndex:-1},I>L?(A.sortIndex=I,t(d,A),n(u)===null&&A===n(d)&&(E?(g(P),P=-1):E=!0,B(N,I-L))):(A.sortIndex=O,t(u,A),j||y||(j=!0,M(T))),A},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(A){var k=m;return function(){var I=m;m=k;try{return A.apply(this,arguments)}finally{m=I}}}})(hm);fm.exports=hm;var Ox=fm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vx=w,Ct=Ox;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pm=new Set,Li={};function Jr(e,t){Fs(e,t),Fs(e+"Capture",t)}function Fs(e,t){for(Li[e]=t,e=0;e<t.length;e++)pm.add(t[e])}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vc=Object.prototype.hasOwnProperty,Bx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uf={},Wf={};function Hx(e){return Vc.call(Wf,e)?!0:Vc.call(Uf,e)?!1:Bx.test(e)?Wf[e]=!0:(Uf[e]=!0,!1)}function Ux(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Wx(e,t,n,r){if(t===null||typeof t>"u"||Ux(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function lt(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ge[e]=new lt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ge[t]=new lt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ge[e]=new lt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ge[e]=new lt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ge[e]=new lt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ge[e]=new lt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ge[e]=new lt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ge[e]=new lt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ge[e]=new lt(e,5,!1,e.toLowerCase(),null,!1,!1)});var ed=/[\-:]([a-z])/g;function td(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ed,td);Ge[t]=new lt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ed,td);Ge[t]=new lt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ed,td);Ge[t]=new lt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ge[e]=new lt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ge.xlinkHref=new lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ge[e]=new lt(e,1,!1,e.toLowerCase(),null,!0,!0)});function nd(e,t,n,r){var s=Ge.hasOwnProperty(t)?Ge[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Wx(t,n,s,r)&&(n=null),r||s===null?Hx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ln=Vx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vo=Symbol.for("react.element"),gs=Symbol.for("react.portal"),vs=Symbol.for("react.fragment"),rd=Symbol.for("react.strict_mode"),Bc=Symbol.for("react.profiler"),mm=Symbol.for("react.provider"),gm=Symbol.for("react.context"),sd=Symbol.for("react.forward_ref"),Hc=Symbol.for("react.suspense"),Uc=Symbol.for("react.suspense_list"),id=Symbol.for("react.memo"),Kn=Symbol.for("react.lazy"),vm=Symbol.for("react.offscreen"),Xf=Symbol.iterator;function li(e){return e===null||typeof e!="object"?null:(e=Xf&&e[Xf]||e["@@iterator"],typeof e=="function"?e:null)}var Ce=Object.assign,Ja;function Ni(e){if(Ja===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ja=t&&t[1]||""}return`
`+Ja+e}var ec=!1;function tc(e,t){if(!e||ec)return"";ec=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,c=i.length-1;1<=o&&0<=c&&s[o]!==i[c];)c--;for(;1<=o&&0<=c;o--,c--)if(s[o]!==i[c]){if(o!==1||c!==1)do if(o--,c--,0>c||s[o]!==i[c]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=c);break}}}finally{ec=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ni(e):""}function Xx(e){switch(e.tag){case 5:return Ni(e.type);case 16:return Ni("Lazy");case 13:return Ni("Suspense");case 19:return Ni("SuspenseList");case 0:case 2:case 15:return e=tc(e.type,!1),e;case 11:return e=tc(e.type.render,!1),e;case 1:return e=tc(e.type,!0),e;default:return""}}function Wc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vs:return"Fragment";case gs:return"Portal";case Bc:return"Profiler";case rd:return"StrictMode";case Hc:return"Suspense";case Uc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case gm:return(e.displayName||"Context")+".Consumer";case mm:return(e._context.displayName||"Context")+".Provider";case sd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case id:return t=e.displayName||null,t!==null?t:Wc(e.type)||"Memo";case Kn:t=e._payload,e=e._init;try{return Wc(e(t))}catch{}}return null}function Qx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wc(t);case 8:return t===rd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ym(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yx(e){var t=ym(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bo(e){e._valueTracker||(e._valueTracker=Yx(e))}function xm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ym(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Il(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xc(e,t){var n=t.checked;return Ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Qf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=mr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function wm(e,t){t=t.checked,t!=null&&nd(e,"checked",t,!1)}function Qc(e,t){wm(e,t);var n=mr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Yc(e,t.type,n):t.hasOwnProperty("defaultValue")&&Yc(e,t.type,mr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Yc(e,t,n){(t!=="number"||Il(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Si=Array.isArray;function bs(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+mr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Gc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Gf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(Si(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:mr(n)}}function Nm(e,t){var n=mr(t.value),r=mr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Kf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ho,Em=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ho=Ho||document.createElement("div"),Ho.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ho.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var bi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gx=["Webkit","ms","Moz","O"];Object.keys(bi).forEach(function(e){Gx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bi[t]=bi[e]})});function jm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||bi.hasOwnProperty(e)&&bi[e]?(""+t).trim():t+"px"}function km(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=jm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Kx=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zc(e,t){if(t){if(Kx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function qc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jc=null;function od(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var eu=null,Ms=null,As=null;function Zf(e){if(e=ho(e)){if(typeof eu!="function")throw Error(U(280));var t=e.stateNode;t&&(t=va(t),eu(e.stateNode,e.type,t))}}function Cm(e){Ms?As?As.push(e):As=[e]:Ms=e}function _m(){if(Ms){var e=Ms,t=As;if(As=Ms=null,Zf(e),t)for(e=0;e<t.length;e++)Zf(t[e])}}function Tm(e,t){return e(t)}function bm(){}var nc=!1;function Mm(e,t,n){if(nc)return e(t,n);nc=!0;try{return Tm(e,t,n)}finally{nc=!1,(Ms!==null||As!==null)&&(bm(),_m())}}function Oi(e,t){var n=e.stateNode;if(n===null)return null;var r=va(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var tu=!1;if(In)try{var ai={};Object.defineProperty(ai,"passive",{get:function(){tu=!0}}),window.addEventListener("test",ai,ai),window.removeEventListener("test",ai,ai)}catch{tu=!1}function Zx(e,t,n,r,s,i,o,c,u){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(f){this.onError(f)}}var Mi=!1,Rl=null,Pl=!1,nu=null,qx={onError:function(e){Mi=!0,Rl=e}};function Jx(e,t,n,r,s,i,o,c,u){Mi=!1,Rl=null,Zx.apply(qx,arguments)}function ew(e,t,n,r,s,i,o,c,u){if(Jx.apply(this,arguments),Mi){if(Mi){var d=Rl;Mi=!1,Rl=null}else throw Error(U(198));Pl||(Pl=!0,nu=d)}}function es(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Am(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qf(e){if(es(e)!==e)throw Error(U(188))}function tw(e){var t=e.alternate;if(!t){if(t=es(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return qf(s),e;if(i===r)return qf(s),t;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function Im(e){return e=tw(e),e!==null?Rm(e):null}function Rm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Rm(e);if(t!==null)return t;e=e.sibling}return null}var Pm=Ct.unstable_scheduleCallback,Jf=Ct.unstable_cancelCallback,nw=Ct.unstable_shouldYield,rw=Ct.unstable_requestPaint,Ae=Ct.unstable_now,sw=Ct.unstable_getCurrentPriorityLevel,ld=Ct.unstable_ImmediatePriority,$m=Ct.unstable_UserBlockingPriority,$l=Ct.unstable_NormalPriority,iw=Ct.unstable_LowPriority,zm=Ct.unstable_IdlePriority,ha=null,gn=null;function ow(e){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(ha,e,void 0,(e.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:cw,lw=Math.log,aw=Math.LN2;function cw(e){return e>>>=0,e===0?32:31-(lw(e)/aw|0)|0}var Uo=64,Wo=4194304;function Ei(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var c=o&~s;c!==0?r=Ei(c):(i&=o,i!==0&&(r=Ei(i)))}else o=n&~s,o!==0?r=Ei(o):i!==0&&(r=Ei(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-tn(t),s=1<<n,r|=e[n],t&=~s;return r}function uw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dw(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-tn(i),c=1<<o,u=s[o];u===-1?(!(c&n)||c&r)&&(s[o]=uw(c,t)):u<=t&&(e.expiredLanes|=c),i&=~c}}function ru(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Dm(){var e=Uo;return Uo<<=1,!(Uo&4194240)&&(Uo=64),e}function rc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function uo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tn(t),e[t]=n}function fw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-tn(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function ad(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-tn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var pe=0;function Lm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Fm,cd,Om,Vm,Bm,su=!1,Xo=[],ir=null,or=null,lr=null,Vi=new Map,Bi=new Map,er=[],hw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eh(e,t){switch(e){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Vi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bi.delete(t.pointerId)}}function ci(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ho(t),t!==null&&cd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function pw(e,t,n,r,s){switch(t){case"focusin":return ir=ci(ir,e,t,n,r,s),!0;case"dragenter":return or=ci(or,e,t,n,r,s),!0;case"mouseover":return lr=ci(lr,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Vi.set(i,ci(Vi.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Bi.set(i,ci(Bi.get(i)||null,e,t,n,r,s)),!0}return!1}function Hm(e){var t=zr(e.target);if(t!==null){var n=es(t);if(n!==null){if(t=n.tag,t===13){if(t=Am(n),t!==null){e.blockedOn=t,Bm(e.priority,function(){Om(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=iu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Jc=r,n.target.dispatchEvent(r),Jc=null}else return t=ho(n),t!==null&&cd(t),e.blockedOn=n,!1;t.shift()}return!0}function th(e,t,n){vl(e)&&n.delete(t)}function mw(){su=!1,ir!==null&&vl(ir)&&(ir=null),or!==null&&vl(or)&&(or=null),lr!==null&&vl(lr)&&(lr=null),Vi.forEach(th),Bi.forEach(th)}function ui(e,t){e.blockedOn===t&&(e.blockedOn=null,su||(su=!0,Ct.unstable_scheduleCallback(Ct.unstable_NormalPriority,mw)))}function Hi(e){function t(s){return ui(s,e)}if(0<Xo.length){ui(Xo[0],e);for(var n=1;n<Xo.length;n++){var r=Xo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ir!==null&&ui(ir,e),or!==null&&ui(or,e),lr!==null&&ui(lr,e),Vi.forEach(t),Bi.forEach(t),n=0;n<er.length;n++)r=er[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<er.length&&(n=er[0],n.blockedOn===null);)Hm(n),n.blockedOn===null&&er.shift()}var Is=Ln.ReactCurrentBatchConfig,Dl=!0;function gw(e,t,n,r){var s=pe,i=Is.transition;Is.transition=null;try{pe=1,ud(e,t,n,r)}finally{pe=s,Is.transition=i}}function vw(e,t,n,r){var s=pe,i=Is.transition;Is.transition=null;try{pe=4,ud(e,t,n,r)}finally{pe=s,Is.transition=i}}function ud(e,t,n,r){if(Dl){var s=iu(e,t,n,r);if(s===null)hc(e,t,r,Ll,n),eh(e,r);else if(pw(s,e,t,n,r))r.stopPropagation();else if(eh(e,r),t&4&&-1<hw.indexOf(e)){for(;s!==null;){var i=ho(s);if(i!==null&&Fm(i),i=iu(e,t,n,r),i===null&&hc(e,t,r,Ll,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else hc(e,t,r,null,n)}}var Ll=null;function iu(e,t,n,r){if(Ll=null,e=od(r),e=zr(e),e!==null)if(t=es(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Am(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ll=e,null}function Um(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sw()){case ld:return 1;case $m:return 4;case $l:case iw:return 16;case zm:return 536870912;default:return 16}default:return 16}}var rr=null,dd=null,yl=null;function Wm(){if(yl)return yl;var e,t=dd,n=t.length,r,s="value"in rr?rr.value:rr.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return yl=s.slice(e,1<r?1-r:void 0)}function xl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qo(){return!0}function nh(){return!1}function bt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Qo:nh,this.isPropagationStopped=nh,this}return Ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qo)},persist:function(){},isPersistent:Qo}),t}var Zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fd=bt(Zs),fo=Ce({},Zs,{view:0,detail:0}),yw=bt(fo),sc,ic,di,pa=Ce({},fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(sc=e.screenX-di.screenX,ic=e.screenY-di.screenY):ic=sc=0,di=e),sc)},movementY:function(e){return"movementY"in e?e.movementY:ic}}),rh=bt(pa),xw=Ce({},pa,{dataTransfer:0}),ww=bt(xw),Nw=Ce({},fo,{relatedTarget:0}),oc=bt(Nw),Sw=Ce({},Zs,{animationName:0,elapsedTime:0,pseudoElement:0}),Ew=bt(Sw),jw=Ce({},Zs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kw=bt(jw),Cw=Ce({},Zs,{data:0}),sh=bt(Cw),_w={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bw[e])?!!t[e]:!1}function hd(){return Mw}var Aw=Ce({},fo,{key:function(e){if(e.key){var t=_w[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hd,charCode:function(e){return e.type==="keypress"?xl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Iw=bt(Aw),Rw=Ce({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ih=bt(Rw),Pw=Ce({},fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hd}),$w=bt(Pw),zw=Ce({},Zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dw=bt(zw),Lw=Ce({},pa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fw=bt(Lw),Ow=[9,13,27,32],pd=In&&"CompositionEvent"in window,Ai=null;In&&"documentMode"in document&&(Ai=document.documentMode);var Vw=In&&"TextEvent"in window&&!Ai,Xm=In&&(!pd||Ai&&8<Ai&&11>=Ai),oh=" ",lh=!1;function Qm(e,t){switch(e){case"keyup":return Ow.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ym(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ys=!1;function Bw(e,t){switch(e){case"compositionend":return Ym(t);case"keypress":return t.which!==32?null:(lh=!0,oh);case"textInput":return e=t.data,e===oh&&lh?null:e;default:return null}}function Hw(e,t){if(ys)return e==="compositionend"||!pd&&Qm(e,t)?(e=Wm(),yl=dd=rr=null,ys=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xm&&t.locale!=="ko"?null:t.data;default:return null}}var Uw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ah(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Uw[e.type]:t==="textarea"}function Gm(e,t,n,r){Cm(r),t=Fl(t,"onChange"),0<t.length&&(n=new fd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ii=null,Ui=null;function Ww(e){og(e,0)}function ma(e){var t=Ns(e);if(xm(t))return e}function Xw(e,t){if(e==="change")return t}var Km=!1;if(In){var lc;if(In){var ac="oninput"in document;if(!ac){var ch=document.createElement("div");ch.setAttribute("oninput","return;"),ac=typeof ch.oninput=="function"}lc=ac}else lc=!1;Km=lc&&(!document.documentMode||9<document.documentMode)}function uh(){Ii&&(Ii.detachEvent("onpropertychange",Zm),Ui=Ii=null)}function Zm(e){if(e.propertyName==="value"&&ma(Ui)){var t=[];Gm(t,Ui,e,od(e)),Mm(Ww,t)}}function Qw(e,t,n){e==="focusin"?(uh(),Ii=t,Ui=n,Ii.attachEvent("onpropertychange",Zm)):e==="focusout"&&uh()}function Yw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ma(Ui)}function Gw(e,t){if(e==="click")return ma(t)}function Kw(e,t){if(e==="input"||e==="change")return ma(t)}function Zw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sn=typeof Object.is=="function"?Object.is:Zw;function Wi(e,t){if(sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Vc.call(t,s)||!sn(e[s],t[s]))return!1}return!0}function dh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fh(e,t){var n=dh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dh(n)}}function qm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Jm(){for(var e=window,t=Il();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Il(e.document)}return t}function md(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qw(e){var t=Jm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&qm(n.ownerDocument.documentElement,n)){if(r!==null&&md(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=fh(n,i);var o=fh(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Jw=In&&"documentMode"in document&&11>=document.documentMode,xs=null,ou=null,Ri=null,lu=!1;function hh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lu||xs==null||xs!==Il(r)||(r=xs,"selectionStart"in r&&md(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ri&&Wi(Ri,r)||(Ri=r,r=Fl(ou,"onSelect"),0<r.length&&(t=new fd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=xs)))}function Yo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ws={animationend:Yo("Animation","AnimationEnd"),animationiteration:Yo("Animation","AnimationIteration"),animationstart:Yo("Animation","AnimationStart"),transitionend:Yo("Transition","TransitionEnd")},cc={},eg={};In&&(eg=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function ga(e){if(cc[e])return cc[e];if(!ws[e])return e;var t=ws[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in eg)return cc[e]=t[n];return e}var tg=ga("animationend"),ng=ga("animationiteration"),rg=ga("animationstart"),sg=ga("transitionend"),ig=new Map,ph="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vr(e,t){ig.set(e,t),Jr(t,[e])}for(var uc=0;uc<ph.length;uc++){var dc=ph[uc],e1=dc.toLowerCase(),t1=dc[0].toUpperCase()+dc.slice(1);vr(e1,"on"+t1)}vr(tg,"onAnimationEnd");vr(ng,"onAnimationIteration");vr(rg,"onAnimationStart");vr("dblclick","onDoubleClick");vr("focusin","onFocus");vr("focusout","onBlur");vr(sg,"onTransitionEnd");Fs("onMouseEnter",["mouseout","mouseover"]);Fs("onMouseLeave",["mouseout","mouseover"]);Fs("onPointerEnter",["pointerout","pointerover"]);Fs("onPointerLeave",["pointerout","pointerover"]);Jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ji));function mh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ew(r,t,void 0,e),e.currentTarget=null}function og(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var c=r[o],u=c.instance,d=c.currentTarget;if(c=c.listener,u!==i&&s.isPropagationStopped())break e;mh(s,c,d),i=u}else for(o=0;o<r.length;o++){if(c=r[o],u=c.instance,d=c.currentTarget,c=c.listener,u!==i&&s.isPropagationStopped())break e;mh(s,c,d),i=u}}}if(Pl)throw e=nu,Pl=!1,nu=null,e}function we(e,t){var n=t[fu];n===void 0&&(n=t[fu]=new Set);var r=e+"__bubble";n.has(r)||(lg(t,e,2,!1),n.add(r))}function fc(e,t,n){var r=0;t&&(r|=4),lg(n,e,r,t)}var Go="_reactListening"+Math.random().toString(36).slice(2);function Xi(e){if(!e[Go]){e[Go]=!0,pm.forEach(function(n){n!=="selectionchange"&&(n1.has(n)||fc(n,!1,e),fc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Go]||(t[Go]=!0,fc("selectionchange",!1,t))}}function lg(e,t,n,r){switch(Um(t)){case 1:var s=gw;break;case 4:s=vw;break;default:s=ud}n=s.bind(null,t,n,e),s=void 0,!tu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function hc(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var c=r.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;c!==null;){if(o=zr(c),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}c=c.parentNode}}r=r.return}Mm(function(){var d=i,f=od(n),h=[];e:{var m=ig.get(e);if(m!==void 0){var y=fd,j=e;switch(e){case"keypress":if(xl(n)===0)break e;case"keydown":case"keyup":y=Iw;break;case"focusin":j="focus",y=oc;break;case"focusout":j="blur",y=oc;break;case"beforeblur":case"afterblur":y=oc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=rh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=ww;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=$w;break;case tg:case ng:case rg:y=Ew;break;case sg:y=Dw;break;case"scroll":y=yw;break;case"wheel":y=Fw;break;case"copy":case"cut":case"paste":y=kw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=ih}var E=(t&4)!==0,C=!E&&e==="scroll",g=E?m!==null?m+"Capture":null:m;E=[];for(var v=d,x;v!==null;){x=v;var N=x.stateNode;if(x.tag===5&&N!==null&&(x=N,g!==null&&(N=Oi(v,g),N!=null&&E.push(Qi(v,N,x)))),C)break;v=v.return}0<E.length&&(m=new y(m,j,null,n,f),h.push({event:m,listeners:E}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&n!==Jc&&(j=n.relatedTarget||n.fromElement)&&(zr(j)||j[Rn]))break e;if((y||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,y?(j=n.relatedTarget||n.toElement,y=d,j=j?zr(j):null,j!==null&&(C=es(j),j!==C||j.tag!==5&&j.tag!==6)&&(j=null)):(y=null,j=d),y!==j)){if(E=rh,N="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(E=ih,N="onPointerLeave",g="onPointerEnter",v="pointer"),C=y==null?m:Ns(y),x=j==null?m:Ns(j),m=new E(N,v+"leave",y,n,f),m.target=C,m.relatedTarget=x,N=null,zr(f)===d&&(E=new E(g,v+"enter",j,n,f),E.target=x,E.relatedTarget=C,N=E),C=N,y&&j)t:{for(E=y,g=j,v=0,x=E;x;x=ds(x))v++;for(x=0,N=g;N;N=ds(N))x++;for(;0<v-x;)E=ds(E),v--;for(;0<x-v;)g=ds(g),x--;for(;v--;){if(E===g||g!==null&&E===g.alternate)break t;E=ds(E),g=ds(g)}E=null}else E=null;y!==null&&gh(h,m,y,E,!1),j!==null&&C!==null&&gh(h,C,j,E,!0)}}e:{if(m=d?Ns(d):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var T=Xw;else if(ah(m))if(Km)T=Kw;else{T=Yw;var b=Qw}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(T=Gw);if(T&&(T=T(e,d))){Gm(h,T,n,f);break e}b&&b(e,m,d),e==="focusout"&&(b=m._wrapperState)&&b.controlled&&m.type==="number"&&Yc(m,"number",m.value)}switch(b=d?Ns(d):window,e){case"focusin":(ah(b)||b.contentEditable==="true")&&(xs=b,ou=d,Ri=null);break;case"focusout":Ri=ou=xs=null;break;case"mousedown":lu=!0;break;case"contextmenu":case"mouseup":case"dragend":lu=!1,hh(h,n,f);break;case"selectionchange":if(Jw)break;case"keydown":case"keyup":hh(h,n,f)}var R;if(pd)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else ys?Qm(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Xm&&n.locale!=="ko"&&(ys||P!=="onCompositionStart"?P==="onCompositionEnd"&&ys&&(R=Wm()):(rr=f,dd="value"in rr?rr.value:rr.textContent,ys=!0)),b=Fl(d,P),0<b.length&&(P=new sh(P,e,null,n,f),h.push({event:P,listeners:b}),R?P.data=R:(R=Ym(n),R!==null&&(P.data=R)))),(R=Vw?Bw(e,n):Hw(e,n))&&(d=Fl(d,"onBeforeInput"),0<d.length&&(f=new sh("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:d}),f.data=R))}og(h,t)})}function Qi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Oi(e,n),i!=null&&r.unshift(Qi(e,i,s)),i=Oi(e,t),i!=null&&r.push(Qi(e,i,s))),e=e.return}return r}function ds(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gh(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var c=n,u=c.alternate,d=c.stateNode;if(u!==null&&u===r)break;c.tag===5&&d!==null&&(c=d,s?(u=Oi(n,i),u!=null&&o.unshift(Qi(n,u,c))):s||(u=Oi(n,i),u!=null&&o.push(Qi(n,u,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var r1=/\r\n?/g,s1=/\u0000|\uFFFD/g;function vh(e){return(typeof e=="string"?e:""+e).replace(r1,`
`).replace(s1,"")}function Ko(e,t,n){if(t=vh(t),vh(e)!==t&&n)throw Error(U(425))}function Ol(){}var au=null,cu=null;function uu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var du=typeof setTimeout=="function"?setTimeout:void 0,i1=typeof clearTimeout=="function"?clearTimeout:void 0,yh=typeof Promise=="function"?Promise:void 0,o1=typeof queueMicrotask=="function"?queueMicrotask:typeof yh<"u"?function(e){return yh.resolve(null).then(e).catch(l1)}:du;function l1(e){setTimeout(function(){throw e})}function pc(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Hi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Hi(t)}function ar(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qs=Math.random().toString(36).slice(2),mn="__reactFiber$"+qs,Yi="__reactProps$"+qs,Rn="__reactContainer$"+qs,fu="__reactEvents$"+qs,a1="__reactListeners$"+qs,c1="__reactHandles$"+qs;function zr(e){var t=e[mn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Rn]||n[mn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=xh(e);e!==null;){if(n=e[mn])return n;e=xh(e)}return t}e=n,n=e.parentNode}return null}function ho(e){return e=e[mn]||e[Rn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ns(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function va(e){return e[Yi]||null}var hu=[],Ss=-1;function yr(e){return{current:e}}function Ne(e){0>Ss||(e.current=hu[Ss],hu[Ss]=null,Ss--)}function ge(e,t){Ss++,hu[Ss]=e.current,e.current=t}var gr={},et=yr(gr),pt=yr(!1),Xr=gr;function Os(e,t){var n=e.type.contextTypes;if(!n)return gr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function mt(e){return e=e.childContextTypes,e!=null}function Vl(){Ne(pt),Ne(et)}function wh(e,t,n){if(et.current!==gr)throw Error(U(168));ge(et,t),ge(pt,n)}function ag(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(U(108,Qx(e)||"Unknown",s));return Ce({},n,r)}function Bl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gr,Xr=et.current,ge(et,e),ge(pt,pt.current),!0}function Nh(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=ag(e,t,Xr),r.__reactInternalMemoizedMergedChildContext=e,Ne(pt),Ne(et),ge(et,e)):Ne(pt),ge(pt,n)}var Cn=null,ya=!1,mc=!1;function cg(e){Cn===null?Cn=[e]:Cn.push(e)}function u1(e){ya=!0,cg(e)}function xr(){if(!mc&&Cn!==null){mc=!0;var e=0,t=pe;try{var n=Cn;for(pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Cn=null,ya=!1}catch(s){throw Cn!==null&&(Cn=Cn.slice(e+1)),Pm(ld,xr),s}finally{pe=t,mc=!1}}return null}var Es=[],js=0,Hl=null,Ul=0,zt=[],Dt=0,Qr=null,_n=1,Tn="";function Rr(e,t){Es[js++]=Ul,Es[js++]=Hl,Hl=e,Ul=t}function ug(e,t,n){zt[Dt++]=_n,zt[Dt++]=Tn,zt[Dt++]=Qr,Qr=e;var r=_n;e=Tn;var s=32-tn(r)-1;r&=~(1<<s),n+=1;var i=32-tn(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,_n=1<<32-tn(t)+s|n<<s|r,Tn=i+e}else _n=1<<i|n<<s|r,Tn=e}function gd(e){e.return!==null&&(Rr(e,1),ug(e,1,0))}function vd(e){for(;e===Hl;)Hl=Es[--js],Es[js]=null,Ul=Es[--js],Es[js]=null;for(;e===Qr;)Qr=zt[--Dt],zt[Dt]=null,Tn=zt[--Dt],zt[Dt]=null,_n=zt[--Dt],zt[Dt]=null}var kt=null,jt=null,Ee=!1,Jt=null;function dg(e,t){var n=Ft(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Sh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kt=e,jt=ar(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kt=e,jt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Qr!==null?{id:_n,overflow:Tn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ft(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,kt=e,jt=null,!0):!1;default:return!1}}function pu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mu(e){if(Ee){var t=jt;if(t){var n=t;if(!Sh(e,t)){if(pu(e))throw Error(U(418));t=ar(n.nextSibling);var r=kt;t&&Sh(e,t)?dg(r,n):(e.flags=e.flags&-4097|2,Ee=!1,kt=e)}}else{if(pu(e))throw Error(U(418));e.flags=e.flags&-4097|2,Ee=!1,kt=e}}}function Eh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function Zo(e){if(e!==kt)return!1;if(!Ee)return Eh(e),Ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!uu(e.type,e.memoizedProps)),t&&(t=jt)){if(pu(e))throw fg(),Error(U(418));for(;t;)dg(e,t),t=ar(t.nextSibling)}if(Eh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){jt=ar(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}jt=null}}else jt=kt?ar(e.stateNode.nextSibling):null;return!0}function fg(){for(var e=jt;e;)e=ar(e.nextSibling)}function Vs(){jt=kt=null,Ee=!1}function yd(e){Jt===null?Jt=[e]:Jt.push(e)}var d1=Ln.ReactCurrentBatchConfig;function fi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var c=s.refs;o===null?delete c[i]:c[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function qo(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function jh(e){var t=e._init;return t(e._payload)}function hg(e){function t(g,v){if(e){var x=g.deletions;x===null?(g.deletions=[v],g.flags|=16):x.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=fr(g,v),g.index=0,g.sibling=null,g}function i(g,v,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<v?(g.flags|=2,v):x):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function c(g,v,x,N){return v===null||v.tag!==6?(v=Sc(x,g.mode,N),v.return=g,v):(v=s(v,x),v.return=g,v)}function u(g,v,x,N){var T=x.type;return T===vs?f(g,v,x.props.children,N,x.key):v!==null&&(v.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Kn&&jh(T)===v.type)?(N=s(v,x.props),N.ref=fi(g,v,x),N.return=g,N):(N=Cl(x.type,x.key,x.props,null,g.mode,N),N.ref=fi(g,v,x),N.return=g,N)}function d(g,v,x,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Ec(x,g.mode,N),v.return=g,v):(v=s(v,x.children||[]),v.return=g,v)}function f(g,v,x,N,T){return v===null||v.tag!==7?(v=Br(x,g.mode,N,T),v.return=g,v):(v=s(v,x),v.return=g,v)}function h(g,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Sc(""+v,g.mode,x),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Vo:return x=Cl(v.type,v.key,v.props,null,g.mode,x),x.ref=fi(g,null,v),x.return=g,x;case gs:return v=Ec(v,g.mode,x),v.return=g,v;case Kn:var N=v._init;return h(g,N(v._payload),x)}if(Si(v)||li(v))return v=Br(v,g.mode,x,null),v.return=g,v;qo(g,v)}return null}function m(g,v,x,N){var T=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return T!==null?null:c(g,v,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Vo:return x.key===T?u(g,v,x,N):null;case gs:return x.key===T?d(g,v,x,N):null;case Kn:return T=x._init,m(g,v,T(x._payload),N)}if(Si(x)||li(x))return T!==null?null:f(g,v,x,N,null);qo(g,x)}return null}function y(g,v,x,N,T){if(typeof N=="string"&&N!==""||typeof N=="number")return g=g.get(x)||null,c(v,g,""+N,T);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Vo:return g=g.get(N.key===null?x:N.key)||null,u(v,g,N,T);case gs:return g=g.get(N.key===null?x:N.key)||null,d(v,g,N,T);case Kn:var b=N._init;return y(g,v,x,b(N._payload),T)}if(Si(N)||li(N))return g=g.get(x)||null,f(v,g,N,T,null);qo(v,N)}return null}function j(g,v,x,N){for(var T=null,b=null,R=v,P=v=0,D=null;R!==null&&P<x.length;P++){R.index>P?(D=R,R=null):D=R.sibling;var F=m(g,R,x[P],N);if(F===null){R===null&&(R=D);break}e&&R&&F.alternate===null&&t(g,R),v=i(F,v,P),b===null?T=F:b.sibling=F,b=F,R=D}if(P===x.length)return n(g,R),Ee&&Rr(g,P),T;if(R===null){for(;P<x.length;P++)R=h(g,x[P],N),R!==null&&(v=i(R,v,P),b===null?T=R:b.sibling=R,b=R);return Ee&&Rr(g,P),T}for(R=r(g,R);P<x.length;P++)D=y(R,g,P,x[P],N),D!==null&&(e&&D.alternate!==null&&R.delete(D.key===null?P:D.key),v=i(D,v,P),b===null?T=D:b.sibling=D,b=D);return e&&R.forEach(function(H){return t(g,H)}),Ee&&Rr(g,P),T}function E(g,v,x,N){var T=li(x);if(typeof T!="function")throw Error(U(150));if(x=T.call(x),x==null)throw Error(U(151));for(var b=T=null,R=v,P=v=0,D=null,F=x.next();R!==null&&!F.done;P++,F=x.next()){R.index>P?(D=R,R=null):D=R.sibling;var H=m(g,R,F.value,N);if(H===null){R===null&&(R=D);break}e&&R&&H.alternate===null&&t(g,R),v=i(H,v,P),b===null?T=H:b.sibling=H,b=H,R=D}if(F.done)return n(g,R),Ee&&Rr(g,P),T;if(R===null){for(;!F.done;P++,F=x.next())F=h(g,F.value,N),F!==null&&(v=i(F,v,P),b===null?T=F:b.sibling=F,b=F);return Ee&&Rr(g,P),T}for(R=r(g,R);!F.done;P++,F=x.next())F=y(R,g,P,F.value,N),F!==null&&(e&&F.alternate!==null&&R.delete(F.key===null?P:F.key),v=i(F,v,P),b===null?T=F:b.sibling=F,b=F);return e&&R.forEach(function(X){return t(g,X)}),Ee&&Rr(g,P),T}function C(g,v,x,N){if(typeof x=="object"&&x!==null&&x.type===vs&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Vo:e:{for(var T=x.key,b=v;b!==null;){if(b.key===T){if(T=x.type,T===vs){if(b.tag===7){n(g,b.sibling),v=s(b,x.props.children),v.return=g,g=v;break e}}else if(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Kn&&jh(T)===b.type){n(g,b.sibling),v=s(b,x.props),v.ref=fi(g,b,x),v.return=g,g=v;break e}n(g,b);break}else t(g,b);b=b.sibling}x.type===vs?(v=Br(x.props.children,g.mode,N,x.key),v.return=g,g=v):(N=Cl(x.type,x.key,x.props,null,g.mode,N),N.ref=fi(g,v,x),N.return=g,g=N)}return o(g);case gs:e:{for(b=x.key;v!==null;){if(v.key===b)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(g,v.sibling),v=s(v,x.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=Ec(x,g.mode,N),v.return=g,g=v}return o(g);case Kn:return b=x._init,C(g,v,b(x._payload),N)}if(Si(x))return j(g,v,x,N);if(li(x))return E(g,v,x,N);qo(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(g,v.sibling),v=s(v,x),v.return=g,g=v):(n(g,v),v=Sc(x,g.mode,N),v.return=g,g=v),o(g)):n(g,v)}return C}var Bs=hg(!0),pg=hg(!1),Wl=yr(null),Xl=null,ks=null,xd=null;function wd(){xd=ks=Xl=null}function Nd(e){var t=Wl.current;Ne(Wl),e._currentValue=t}function gu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Rs(e,t){Xl=e,xd=ks=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ft=!0),e.firstContext=null)}function Bt(e){var t=e._currentValue;if(xd!==e)if(e={context:e,memoizedValue:t,next:null},ks===null){if(Xl===null)throw Error(U(308));ks=e,Xl.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var Dr=null;function Sd(e){Dr===null?Dr=[e]:Dr.push(e)}function mg(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Sd(t)):(n.next=s.next,s.next=n),t.interleaved=n,Pn(e,r)}function Pn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Zn=!1;function Ed(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Pn(e,n)}return s=r.interleaved,s===null?(t.next=t,Sd(r)):(t.next=s.next,s.next=t),r.interleaved=t,Pn(e,n)}function wl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ad(e,n)}}function kh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ql(e,t,n,r){var s=e.updateQueue;Zn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var u=c,d=u.next;u.next=null,o===null?i=d:o.next=d,o=u;var f=e.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==o&&(c===null?f.firstBaseUpdate=d:c.next=d,f.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;o=0,f=d=u=null,c=i;do{var m=c.lane,y=c.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:y,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var j=e,E=c;switch(m=t,y=n,E.tag){case 1:if(j=E.payload,typeof j=="function"){h=j.call(y,h,m);break e}h=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=E.payload,m=typeof j=="function"?j.call(y,h,m):j,m==null)break e;h=Ce({},h,m);break e;case 2:Zn=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[c]:m.push(c))}else y={eventTime:y,lane:m,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(d=f=y,u=h):f=f.next=y,o|=m;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;m=c,c=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(f===null&&(u=h),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Gr|=o,e.lanes=o,e.memoizedState=h}}function Ch(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var po={},vn=yr(po),Gi=yr(po),Ki=yr(po);function Lr(e){if(e===po)throw Error(U(174));return e}function jd(e,t){switch(ge(Ki,t),ge(Gi,e),ge(vn,po),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Kc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Kc(t,e)}Ne(vn),ge(vn,t)}function Hs(){Ne(vn),Ne(Gi),Ne(Ki)}function vg(e){Lr(Ki.current);var t=Lr(vn.current),n=Kc(t,e.type);t!==n&&(ge(Gi,e),ge(vn,n))}function kd(e){Gi.current===e&&(Ne(vn),Ne(Gi))}var je=yr(0);function Yl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gc=[];function Cd(){for(var e=0;e<gc.length;e++)gc[e]._workInProgressVersionPrimary=null;gc.length=0}var Nl=Ln.ReactCurrentDispatcher,vc=Ln.ReactCurrentBatchConfig,Yr=0,ke=null,De=null,Be=null,Gl=!1,Pi=!1,Zi=0,f1=0;function Ze(){throw Error(U(321))}function _d(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sn(e[n],t[n]))return!1;return!0}function Td(e,t,n,r,s,i){if(Yr=i,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Nl.current=e===null||e.memoizedState===null?g1:v1,e=n(r,s),Pi){i=0;do{if(Pi=!1,Zi=0,25<=i)throw Error(U(301));i+=1,Be=De=null,t.updateQueue=null,Nl.current=y1,e=n(r,s)}while(Pi)}if(Nl.current=Kl,t=De!==null&&De.next!==null,Yr=0,Be=De=ke=null,Gl=!1,t)throw Error(U(300));return e}function bd(){var e=Zi!==0;return Zi=0,e}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?ke.memoizedState=Be=e:Be=Be.next=e,Be}function Ht(){if(De===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Be===null?ke.memoizedState:Be.next;if(t!==null)Be=t,De=e;else{if(e===null)throw Error(U(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Be===null?ke.memoizedState=Be=e:Be=Be.next=e}return Be}function qi(e,t){return typeof t=="function"?t(e):t}function yc(e){var t=Ht(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=De,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var c=o=null,u=null,d=i;do{var f=d.lane;if((Yr&f)===f)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(c=u=h,o=r):u=u.next=h,ke.lanes|=f,Gr|=f}d=d.next}while(d!==null&&d!==i);u===null?o=r:u.next=c,sn(r,t.memoizedState)||(ft=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ke.lanes|=i,Gr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xc(e){var t=Ht(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);sn(i,t.memoizedState)||(ft=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function yg(){}function xg(e,t){var n=ke,r=Ht(),s=t(),i=!sn(r.memoizedState,s);if(i&&(r.memoizedState=s,ft=!0),r=r.queue,Md(Sg.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Be!==null&&Be.memoizedState.tag&1){if(n.flags|=2048,Ji(9,Ng.bind(null,n,r,s,t),void 0,null),He===null)throw Error(U(349));Yr&30||wg(n,t,s)}return s}function wg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ng(e,t,n,r){t.value=n,t.getSnapshot=r,Eg(t)&&jg(e)}function Sg(e,t,n){return n(function(){Eg(t)&&jg(e)})}function Eg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sn(e,n)}catch{return!0}}function jg(e){var t=Pn(e,1);t!==null&&nn(t,e,1,-1)}function _h(e){var t=hn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e},t.queue=e,e=e.dispatch=m1.bind(null,ke,e),[t.memoizedState,e]}function Ji(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function kg(){return Ht().memoizedState}function Sl(e,t,n,r){var s=hn();ke.flags|=e,s.memoizedState=Ji(1|t,n,void 0,r===void 0?null:r)}function xa(e,t,n,r){var s=Ht();r=r===void 0?null:r;var i=void 0;if(De!==null){var o=De.memoizedState;if(i=o.destroy,r!==null&&_d(r,o.deps)){s.memoizedState=Ji(t,n,i,r);return}}ke.flags|=e,s.memoizedState=Ji(1|t,n,i,r)}function Th(e,t){return Sl(8390656,8,e,t)}function Md(e,t){return xa(2048,8,e,t)}function Cg(e,t){return xa(4,2,e,t)}function _g(e,t){return xa(4,4,e,t)}function Tg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bg(e,t,n){return n=n!=null?n.concat([e]):null,xa(4,4,Tg.bind(null,t,e),n)}function Ad(){}function Mg(e,t){var n=Ht();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_d(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ag(e,t){var n=Ht();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_d(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ig(e,t,n){return Yr&21?(sn(n,t)||(n=Dm(),ke.lanes|=n,Gr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ft=!0),e.memoizedState=n)}function h1(e,t){var n=pe;pe=n!==0&&4>n?n:4,e(!0);var r=vc.transition;vc.transition={};try{e(!1),t()}finally{pe=n,vc.transition=r}}function Rg(){return Ht().memoizedState}function p1(e,t,n){var r=dr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Pg(e))$g(t,n);else if(n=mg(e,t,n,r),n!==null){var s=it();nn(n,e,r,s),zg(n,t,r)}}function m1(e,t,n){var r=dr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Pg(e))$g(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,c=i(o,n);if(s.hasEagerState=!0,s.eagerState=c,sn(c,o)){var u=t.interleaved;u===null?(s.next=s,Sd(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=mg(e,t,s,r),n!==null&&(s=it(),nn(n,e,r,s),zg(n,t,r))}}function Pg(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function $g(e,t){Pi=Gl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ad(e,n)}}var Kl={readContext:Bt,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},g1={readContext:Bt,useCallback:function(e,t){return hn().memoizedState=[e,t===void 0?null:t],e},useContext:Bt,useEffect:Th,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Sl(4194308,4,Tg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Sl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Sl(4,2,e,t)},useMemo:function(e,t){var n=hn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=hn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=p1.bind(null,ke,e),[r.memoizedState,e]},useRef:function(e){var t=hn();return e={current:e},t.memoizedState=e},useState:_h,useDebugValue:Ad,useDeferredValue:function(e){return hn().memoizedState=e},useTransition:function(){var e=_h(!1),t=e[0];return e=h1.bind(null,e[1]),hn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ke,s=hn();if(Ee){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),He===null)throw Error(U(349));Yr&30||wg(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Th(Sg.bind(null,r,i,e),[e]),r.flags|=2048,Ji(9,Ng.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=hn(),t=He.identifierPrefix;if(Ee){var n=Tn,r=_n;n=(r&~(1<<32-tn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Zi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=f1++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},v1={readContext:Bt,useCallback:Mg,useContext:Bt,useEffect:Md,useImperativeHandle:bg,useInsertionEffect:Cg,useLayoutEffect:_g,useMemo:Ag,useReducer:yc,useRef:kg,useState:function(){return yc(qi)},useDebugValue:Ad,useDeferredValue:function(e){var t=Ht();return Ig(t,De.memoizedState,e)},useTransition:function(){var e=yc(qi)[0],t=Ht().memoizedState;return[e,t]},useMutableSource:yg,useSyncExternalStore:xg,useId:Rg,unstable_isNewReconciler:!1},y1={readContext:Bt,useCallback:Mg,useContext:Bt,useEffect:Md,useImperativeHandle:bg,useInsertionEffect:Cg,useLayoutEffect:_g,useMemo:Ag,useReducer:xc,useRef:kg,useState:function(){return xc(qi)},useDebugValue:Ad,useDeferredValue:function(e){var t=Ht();return De===null?t.memoizedState=e:Ig(t,De.memoizedState,e)},useTransition:function(){var e=xc(qi)[0],t=Ht().memoizedState;return[e,t]},useMutableSource:yg,useSyncExternalStore:xg,useId:Rg,unstable_isNewReconciler:!1};function Kt(e,t){if(e&&e.defaultProps){t=Ce({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function vu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ce({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var wa={isMounted:function(e){return(e=e._reactInternals)?es(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=it(),s=dr(e),i=Mn(r,s);i.payload=t,n!=null&&(i.callback=n),t=cr(e,i,s),t!==null&&(nn(t,e,s,r),wl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=it(),s=dr(e),i=Mn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=cr(e,i,s),t!==null&&(nn(t,e,s,r),wl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=it(),r=dr(e),s=Mn(n,r);s.tag=2,t!=null&&(s.callback=t),t=cr(e,s,r),t!==null&&(nn(t,e,r,n),wl(t,e,r))}};function bh(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Wi(n,r)||!Wi(s,i):!0}function Dg(e,t,n){var r=!1,s=gr,i=t.contextType;return typeof i=="object"&&i!==null?i=Bt(i):(s=mt(t)?Xr:et.current,r=t.contextTypes,i=(r=r!=null)?Os(e,s):gr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Mh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wa.enqueueReplaceState(t,t.state,null)}function yu(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ed(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Bt(i):(i=mt(t)?Xr:et.current,s.context=Os(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(vu(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&wa.enqueueReplaceState(s,s.state,null),Ql(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Us(e,t){try{var n="",r=t;do n+=Xx(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function wc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function xu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var x1=typeof WeakMap=="function"?WeakMap:Map;function Lg(e,t,n){n=Mn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,bu=r),xu(e,t)},n}function Fg(e,t,n){n=Mn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){xu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){xu(e,t),typeof r!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Ah(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new x1;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=R1.bind(null,e,t,n),t.then(e,e))}function Ih(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Rh(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Mn(-1,1),t.tag=2,cr(n,t,1))),n.lanes|=1),e)}var w1=Ln.ReactCurrentOwner,ft=!1;function st(e,t,n,r){t.child=e===null?pg(t,null,n,r):Bs(t,e.child,n,r)}function Ph(e,t,n,r,s){n=n.render;var i=t.ref;return Rs(t,s),r=Td(e,t,n,r,i,s),n=bd(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,$n(e,t,s)):(Ee&&n&&gd(t),t.flags|=1,st(e,t,r,s),t.child)}function $h(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Fd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Og(e,t,i,r,s)):(e=Cl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Wi,n(o,r)&&e.ref===t.ref)return $n(e,t,s)}return t.flags|=1,e=fr(i,r),e.ref=t.ref,e.return=t,t.child=e}function Og(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Wi(i,r)&&e.ref===t.ref)if(ft=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(ft=!0);else return t.lanes=e.lanes,$n(e,t,s)}return wu(e,t,n,r,s)}function Vg(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(_s,Et),Et|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ge(_s,Et),Et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ge(_s,Et),Et|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ge(_s,Et),Et|=r;return st(e,t,s,n),t.child}function Bg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function wu(e,t,n,r,s){var i=mt(n)?Xr:et.current;return i=Os(t,i),Rs(t,s),n=Td(e,t,n,r,i,s),r=bd(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,$n(e,t,s)):(Ee&&r&&gd(t),t.flags|=1,st(e,t,n,s),t.child)}function zh(e,t,n,r,s){if(mt(n)){var i=!0;Bl(t)}else i=!1;if(Rs(t,s),t.stateNode===null)El(e,t),Dg(t,n,r),yu(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,c=t.memoizedProps;o.props=c;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Bt(d):(d=mt(n)?Xr:et.current,d=Os(t,d));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==r||u!==d)&&Mh(t,o,r,d),Zn=!1;var m=t.memoizedState;o.state=m,Ql(t,r,o,s),u=t.memoizedState,c!==r||m!==u||pt.current||Zn?(typeof f=="function"&&(vu(t,n,f,r),u=t.memoizedState),(c=Zn||bh(t,n,c,r,m,u,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=d,r=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,gg(e,t),c=t.memoizedProps,d=t.type===t.elementType?c:Kt(t.type,c),o.props=d,h=t.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Bt(u):(u=mt(n)?Xr:et.current,u=Os(t,u));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==h||m!==u)&&Mh(t,o,r,u),Zn=!1,m=t.memoizedState,o.state=m,Ql(t,r,o,s);var j=t.memoizedState;c!==h||m!==j||pt.current||Zn?(typeof y=="function"&&(vu(t,n,y,r),j=t.memoizedState),(d=Zn||bh(t,n,d,r,m,j,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,j,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,j,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=j),o.props=r,o.state=j,o.context=u,r=d):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,i,s)}function Nu(e,t,n,r,s,i){Bg(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Nh(t,n,!1),$n(e,t,i);r=t.stateNode,w1.current=t;var c=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Bs(t,e.child,null,i),t.child=Bs(t,null,c,i)):st(e,t,c,i),t.memoizedState=r.state,s&&Nh(t,n,!0),t.child}function Hg(e){var t=e.stateNode;t.pendingContext?wh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wh(e,t.context,!1),jd(e,t.containerInfo)}function Dh(e,t,n,r,s){return Vs(),yd(s),t.flags|=256,st(e,t,n,r),t.child}var Su={dehydrated:null,treeContext:null,retryLane:0};function Eu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ug(e,t,n){var r=t.pendingProps,s=je.current,i=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ge(je,s&1),e===null)return mu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ea(o,r,0,null),e=Br(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Eu(n),t.memoizedState=Su,e):Id(t,o));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return N1(e,t,o,r,c,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,c=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=fr(s,u),r.subtreeFlags=s.subtreeFlags&14680064),c!==null?i=fr(c,i):(i=Br(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Eu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Su,r}return i=e.child,e=i.sibling,r=fr(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Id(e,t){return t=Ea({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Jo(e,t,n,r){return r!==null&&yd(r),Bs(t,e.child,null,n),e=Id(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function N1(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=wc(Error(U(422))),Jo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Ea({mode:"visible",children:r.children},s,0,null),i=Br(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Bs(t,e.child,null,o),t.child.memoizedState=Eu(o),t.memoizedState=Su,i);if(!(t.mode&1))return Jo(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var c=r.dgst;return r=c,i=Error(U(419)),r=wc(i,r,void 0),Jo(e,t,o,r)}if(c=(o&e.childLanes)!==0,ft||c){if(r=He,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Pn(e,s),nn(r,e,s,-1))}return Ld(),r=wc(Error(U(421))),Jo(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=P1.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,jt=ar(s.nextSibling),kt=t,Ee=!0,Jt=null,e!==null&&(zt[Dt++]=_n,zt[Dt++]=Tn,zt[Dt++]=Qr,_n=e.id,Tn=e.overflow,Qr=t),t=Id(t,r.children),t.flags|=4096,t)}function Lh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),gu(e.return,t,n)}function Nc(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Wg(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(st(e,t,r.children,n),r=je.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lh(e,n,t);else if(e.tag===19)Lh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ge(je,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Yl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Nc(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Yl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Nc(t,!0,n,null,i);break;case"together":Nc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function El(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $n(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=fr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function S1(e,t,n){switch(t.tag){case 3:Hg(t),Vs();break;case 5:vg(t);break;case 1:mt(t.type)&&Bl(t);break;case 4:jd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ge(Wl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ge(je,je.current&1),t.flags|=128,null):n&t.child.childLanes?Ug(e,t,n):(ge(je,je.current&1),e=$n(e,t,n),e!==null?e.sibling:null);ge(je,je.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Wg(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ge(je,je.current),r)break;return null;case 22:case 23:return t.lanes=0,Vg(e,t,n)}return $n(e,t,n)}var Xg,ju,Qg,Yg;Xg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ju=function(){};Qg=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Lr(vn.current);var i=null;switch(n){case"input":s=Xc(e,s),r=Xc(e,r),i=[];break;case"select":s=Ce({},s,{value:void 0}),r=Ce({},r,{value:void 0}),i=[];break;case"textarea":s=Gc(e,s),r=Gc(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ol)}Zc(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var c=s[d];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Li.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var u=r[d];if(c=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&u!==c&&(u!=null||c!=null))if(d==="style")if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Li.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&we("scroll",e),i||c===u||(i=[])):(i=i||[]).push(d,u))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Yg=function(e,t,n,r){n!==r&&(t.flags|=4)};function hi(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function E1(e,t,n){var r=t.pendingProps;switch(vd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return mt(t.type)&&Vl(),qe(t),null;case 3:return r=t.stateNode,Hs(),Ne(pt),Ne(et),Cd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Zo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Jt!==null&&(Iu(Jt),Jt=null))),ju(e,t),qe(t),null;case 5:kd(t);var s=Lr(Ki.current);if(n=t.type,e!==null&&t.stateNode!=null)Qg(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return qe(t),null}if(e=Lr(vn.current),Zo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[mn]=t,r[Yi]=i,e=(t.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(s=0;s<ji.length;s++)we(ji[s],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":Qf(r,i),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},we("invalid",r);break;case"textarea":Gf(r,i),we("invalid",r)}Zc(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var c=i[o];o==="children"?typeof c=="string"?r.textContent!==c&&(i.suppressHydrationWarning!==!0&&Ko(r.textContent,c,e),s=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&Ko(r.textContent,c,e),s=["children",""+c]):Li.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&we("scroll",r)}switch(n){case"input":Bo(r),Yf(r,i,!0);break;case"textarea":Bo(r),Kf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ol)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[mn]=t,e[Yi]=r,Xg(e,t,!1,!1),t.stateNode=e;e:{switch(o=qc(n,r),n){case"dialog":we("cancel",e),we("close",e),s=r;break;case"iframe":case"object":case"embed":we("load",e),s=r;break;case"video":case"audio":for(s=0;s<ji.length;s++)we(ji[s],e);s=r;break;case"source":we("error",e),s=r;break;case"img":case"image":case"link":we("error",e),we("load",e),s=r;break;case"details":we("toggle",e),s=r;break;case"input":Qf(e,r),s=Xc(e,r),we("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ce({},r,{value:void 0}),we("invalid",e);break;case"textarea":Gf(e,r),s=Gc(e,r),we("invalid",e);break;default:s=r}Zc(n,s),c=s;for(i in c)if(c.hasOwnProperty(i)){var u=c[i];i==="style"?km(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Em(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Fi(e,u):typeof u=="number"&&Fi(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Li.hasOwnProperty(i)?u!=null&&i==="onScroll"&&we("scroll",e):u!=null&&nd(e,i,u,o))}switch(n){case"input":Bo(e),Yf(e,r,!1);break;case"textarea":Bo(e),Kf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+mr(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?bs(e,!!r.multiple,i,!1):r.defaultValue!=null&&bs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ol)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qe(t),null;case 6:if(e&&t.stateNode!=null)Yg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=Lr(Ki.current),Lr(vn.current),Zo(t)){if(r=t.stateNode,n=t.memoizedProps,r[mn]=t,(i=r.nodeValue!==n)&&(e=kt,e!==null))switch(e.tag){case 3:Ko(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ko(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mn]=t,t.stateNode=r}return qe(t),null;case 13:if(Ne(je),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&jt!==null&&t.mode&1&&!(t.flags&128))fg(),Vs(),t.flags|=98560,i=!1;else if(i=Zo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(U(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[mn]=t}else Vs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qe(t),i=!1}else Jt!==null&&(Iu(Jt),Jt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||je.current&1?Le===0&&(Le=3):Ld())),t.updateQueue!==null&&(t.flags|=4),qe(t),null);case 4:return Hs(),ju(e,t),e===null&&Xi(t.stateNode.containerInfo),qe(t),null;case 10:return Nd(t.type._context),qe(t),null;case 17:return mt(t.type)&&Vl(),qe(t),null;case 19:if(Ne(je),i=t.memoizedState,i===null)return qe(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)hi(i,!1);else{if(Le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Yl(e),o!==null){for(t.flags|=128,hi(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ge(je,je.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ae()>Ws&&(t.flags|=128,r=!0,hi(i,!1),t.lanes=4194304)}else{if(!r)if(e=Yl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),hi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ee)return qe(t),null}else 2*Ae()-i.renderingStartTime>Ws&&n!==1073741824&&(t.flags|=128,r=!0,hi(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ae(),t.sibling=null,n=je.current,ge(je,r?n&1|2:n&1),t):(qe(t),null);case 22:case 23:return Dd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Et&1073741824&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function j1(e,t){switch(vd(t),t.tag){case 1:return mt(t.type)&&Vl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hs(),Ne(pt),Ne(et),Cd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return kd(t),null;case 13:if(Ne(je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Vs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ne(je),null;case 4:return Hs(),null;case 10:return Nd(t.type._context),null;case 22:case 23:return Dd(),null;case 24:return null;default:return null}}var el=!1,Je=!1,k1=typeof WeakSet=="function"?WeakSet:Set,K=null;function Cs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(e,t,r)}else n.current=null}function ku(e,t,n){try{n()}catch(r){Te(e,t,r)}}var Fh=!1;function C1(e,t){if(au=Dl,e=Jm(),md(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,c=-1,u=-1,d=0,f=0,h=e,m=null;t:for(;;){for(var y;h!==n||s!==0&&h.nodeType!==3||(c=o+s),h!==i||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)m=h,h=y;for(;;){if(h===e)break t;if(m===n&&++d===s&&(c=o),m===i&&++f===r&&(u=o),(y=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=y}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(cu={focusedElem:e,selectionRange:n},Dl=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var E=j.memoizedProps,C=j.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?E:Kt(t.type,E),C);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(N){Te(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return j=Fh,Fh=!1,j}function $i(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ku(t,n,i)}s=s.next}while(s!==r)}}function Na(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Cu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Gg(e){var t=e.alternate;t!==null&&(e.alternate=null,Gg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mn],delete t[Yi],delete t[fu],delete t[a1],delete t[c1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Kg(e){return e.tag===5||e.tag===3||e.tag===4}function Oh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _u(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ol));else if(r!==4&&(e=e.child,e!==null))for(_u(e,t,n),e=e.sibling;e!==null;)_u(e,t,n),e=e.sibling}function Tu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Tu(e,t,n),e=e.sibling;e!==null;)Tu(e,t,n),e=e.sibling}var Qe=null,Zt=!1;function Qn(e,t,n){for(n=n.child;n!==null;)Zg(e,t,n),n=n.sibling}function Zg(e,t,n){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(ha,n)}catch{}switch(n.tag){case 5:Je||Cs(n,t);case 6:var r=Qe,s=Zt;Qe=null,Qn(e,t,n),Qe=r,Zt=s,Qe!==null&&(Zt?(e=Qe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Qe.removeChild(n.stateNode));break;case 18:Qe!==null&&(Zt?(e=Qe,n=n.stateNode,e.nodeType===8?pc(e.parentNode,n):e.nodeType===1&&pc(e,n),Hi(e)):pc(Qe,n.stateNode));break;case 4:r=Qe,s=Zt,Qe=n.stateNode.containerInfo,Zt=!0,Qn(e,t,n),Qe=r,Zt=s;break;case 0:case 11:case 14:case 15:if(!Je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ku(n,t,o),s=s.next}while(s!==r)}Qn(e,t,n);break;case 1:if(!Je&&(Cs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Te(n,t,c)}Qn(e,t,n);break;case 21:Qn(e,t,n);break;case 22:n.mode&1?(Je=(r=Je)||n.memoizedState!==null,Qn(e,t,n),Je=r):Qn(e,t,n);break;default:Qn(e,t,n)}}function Vh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new k1),t.forEach(function(r){var s=$1.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Yt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 5:Qe=c.stateNode,Zt=!1;break e;case 3:Qe=c.stateNode.containerInfo,Zt=!0;break e;case 4:Qe=c.stateNode.containerInfo,Zt=!0;break e}c=c.return}if(Qe===null)throw Error(U(160));Zg(i,o,s),Qe=null,Zt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){Te(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qg(t,e),t=t.sibling}function qg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Yt(t,e),fn(e),r&4){try{$i(3,e,e.return),Na(3,e)}catch(E){Te(e,e.return,E)}try{$i(5,e,e.return)}catch(E){Te(e,e.return,E)}}break;case 1:Yt(t,e),fn(e),r&512&&n!==null&&Cs(n,n.return);break;case 5:if(Yt(t,e),fn(e),r&512&&n!==null&&Cs(n,n.return),e.flags&32){var s=e.stateNode;try{Fi(s,"")}catch(E){Te(e,e.return,E)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,c=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&wm(s,i),qc(c,o);var d=qc(c,i);for(o=0;o<u.length;o+=2){var f=u[o],h=u[o+1];f==="style"?km(s,h):f==="dangerouslySetInnerHTML"?Em(s,h):f==="children"?Fi(s,h):nd(s,f,h,d)}switch(c){case"input":Qc(s,i);break;case"textarea":Nm(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?bs(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?bs(s,!!i.multiple,i.defaultValue,!0):bs(s,!!i.multiple,i.multiple?[]:"",!1))}s[Yi]=i}catch(E){Te(e,e.return,E)}}break;case 6:if(Yt(t,e),fn(e),r&4){if(e.stateNode===null)throw Error(U(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(E){Te(e,e.return,E)}}break;case 3:if(Yt(t,e),fn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hi(t.containerInfo)}catch(E){Te(e,e.return,E)}break;case 4:Yt(t,e),fn(e);break;case 13:Yt(t,e),fn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||($d=Ae())),r&4&&Vh(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Je=(d=Je)||f,Yt(t,e),Je=d):Yt(t,e),fn(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(K=e,f=e.child;f!==null;){for(h=K=f;K!==null;){switch(m=K,y=m.child,m.tag){case 0:case 11:case 14:case 15:$i(4,m,m.return);break;case 1:Cs(m,m.return);var j=m.stateNode;if(typeof j.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(E){Te(r,n,E)}}break;case 5:Cs(m,m.return);break;case 22:if(m.memoizedState!==null){Hh(h);continue}}y!==null?(y.return=m,K=y):Hh(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{s=h.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=jm("display",o))}catch(E){Te(e,e.return,E)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(E){Te(e,e.return,E)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Yt(t,e),fn(e),r&4&&Vh(e);break;case 21:break;default:Yt(t,e),fn(e)}}function fn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Kg(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Fi(s,""),r.flags&=-33);var i=Oh(e);Tu(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,c=Oh(e);_u(e,c,o);break;default:throw Error(U(161))}}catch(u){Te(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _1(e,t,n){K=e,Jg(e)}function Jg(e,t,n){for(var r=(e.mode&1)!==0;K!==null;){var s=K,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||el;if(!o){var c=s.alternate,u=c!==null&&c.memoizedState!==null||Je;c=el;var d=Je;if(el=o,(Je=u)&&!d)for(K=s;K!==null;)o=K,u=o.child,o.tag===22&&o.memoizedState!==null?Uh(s):u!==null?(u.return=o,K=u):Uh(s);for(;i!==null;)K=i,Jg(i),i=i.sibling;K=s,el=c,Je=d}Bh(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,K=i):Bh(e)}}function Bh(e){for(;K!==null;){var t=K;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Je||Na(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Je)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Kt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ch(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ch(t,o,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Hi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Je||t.flags&512&&Cu(t)}catch(m){Te(t,t.return,m)}}if(t===e){K=null;break}if(n=t.sibling,n!==null){n.return=t.return,K=n;break}K=t.return}}function Hh(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var n=t.sibling;if(n!==null){n.return=t.return,K=n;break}K=t.return}}function Uh(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Na(4,t)}catch(u){Te(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){Te(t,s,u)}}var i=t.return;try{Cu(t)}catch(u){Te(t,i,u)}break;case 5:var o=t.return;try{Cu(t)}catch(u){Te(t,o,u)}}}catch(u){Te(t,t.return,u)}if(t===e){K=null;break}var c=t.sibling;if(c!==null){c.return=t.return,K=c;break}K=t.return}}var T1=Math.ceil,Zl=Ln.ReactCurrentDispatcher,Rd=Ln.ReactCurrentOwner,Vt=Ln.ReactCurrentBatchConfig,de=0,He=null,ze=null,Ye=0,Et=0,_s=yr(0),Le=0,eo=null,Gr=0,Sa=0,Pd=0,zi=null,dt=null,$d=0,Ws=1/0,kn=null,ql=!1,bu=null,ur=null,tl=!1,sr=null,Jl=0,Di=0,Mu=null,jl=-1,kl=0;function it(){return de&6?Ae():jl!==-1?jl:jl=Ae()}function dr(e){return e.mode&1?de&2&&Ye!==0?Ye&-Ye:d1.transition!==null?(kl===0&&(kl=Dm()),kl):(e=pe,e!==0||(e=window.event,e=e===void 0?16:Um(e.type)),e):1}function nn(e,t,n,r){if(50<Di)throw Di=0,Mu=null,Error(U(185));uo(e,n,r),(!(de&2)||e!==He)&&(e===He&&(!(de&2)&&(Sa|=n),Le===4&&tr(e,Ye)),gt(e,r),n===1&&de===0&&!(t.mode&1)&&(Ws=Ae()+500,ya&&xr()))}function gt(e,t){var n=e.callbackNode;dw(e,t);var r=zl(e,e===He?Ye:0);if(r===0)n!==null&&Jf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Jf(n),t===1)e.tag===0?u1(Wh.bind(null,e)):cg(Wh.bind(null,e)),o1(function(){!(de&6)&&xr()}),n=null;else{switch(Lm(r)){case 1:n=ld;break;case 4:n=$m;break;case 16:n=$l;break;case 536870912:n=zm;break;default:n=$l}n=lv(n,ev.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ev(e,t){if(jl=-1,kl=0,de&6)throw Error(U(327));var n=e.callbackNode;if(Ps()&&e.callbackNode!==n)return null;var r=zl(e,e===He?Ye:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ea(e,r);else{t=r;var s=de;de|=2;var i=nv();(He!==e||Ye!==t)&&(kn=null,Ws=Ae()+500,Vr(e,t));do try{A1();break}catch(c){tv(e,c)}while(!0);wd(),Zl.current=i,de=s,ze!==null?t=0:(He=null,Ye=0,t=Le)}if(t!==0){if(t===2&&(s=ru(e),s!==0&&(r=s,t=Au(e,s))),t===1)throw n=eo,Vr(e,0),tr(e,r),gt(e,Ae()),n;if(t===6)tr(e,r);else{if(s=e.current.alternate,!(r&30)&&!b1(s)&&(t=ea(e,r),t===2&&(i=ru(e),i!==0&&(r=i,t=Au(e,i))),t===1))throw n=eo,Vr(e,0),tr(e,r),gt(e,Ae()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:Pr(e,dt,kn);break;case 3:if(tr(e,r),(r&130023424)===r&&(t=$d+500-Ae(),10<t)){if(zl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){it(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=du(Pr.bind(null,e,dt,kn),t);break}Pr(e,dt,kn);break;case 4:if(tr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-tn(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*T1(r/1960))-r,10<r){e.timeoutHandle=du(Pr.bind(null,e,dt,kn),r);break}Pr(e,dt,kn);break;case 5:Pr(e,dt,kn);break;default:throw Error(U(329))}}}return gt(e,Ae()),e.callbackNode===n?ev.bind(null,e):null}function Au(e,t){var n=zi;return e.current.memoizedState.isDehydrated&&(Vr(e,t).flags|=256),e=ea(e,t),e!==2&&(t=dt,dt=n,t!==null&&Iu(t)),e}function Iu(e){dt===null?dt=e:dt.push.apply(dt,e)}function b1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!sn(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tr(e,t){for(t&=~Pd,t&=~Sa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tn(t),r=1<<n;e[n]=-1,t&=~r}}function Wh(e){if(de&6)throw Error(U(327));Ps();var t=zl(e,0);if(!(t&1))return gt(e,Ae()),null;var n=ea(e,t);if(e.tag!==0&&n===2){var r=ru(e);r!==0&&(t=r,n=Au(e,r))}if(n===1)throw n=eo,Vr(e,0),tr(e,t),gt(e,Ae()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pr(e,dt,kn),gt(e,Ae()),null}function zd(e,t){var n=de;de|=1;try{return e(t)}finally{de=n,de===0&&(Ws=Ae()+500,ya&&xr())}}function Kr(e){sr!==null&&sr.tag===0&&!(de&6)&&Ps();var t=de;de|=1;var n=Vt.transition,r=pe;try{if(Vt.transition=null,pe=1,e)return e()}finally{pe=r,Vt.transition=n,de=t,!(de&6)&&xr()}}function Dd(){Et=_s.current,Ne(_s)}function Vr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,i1(n)),ze!==null)for(n=ze.return;n!==null;){var r=n;switch(vd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vl();break;case 3:Hs(),Ne(pt),Ne(et),Cd();break;case 5:kd(r);break;case 4:Hs();break;case 13:Ne(je);break;case 19:Ne(je);break;case 10:Nd(r.type._context);break;case 22:case 23:Dd()}n=n.return}if(He=e,ze=e=fr(e.current,null),Ye=Et=t,Le=0,eo=null,Pd=Sa=Gr=0,dt=zi=null,Dr!==null){for(t=0;t<Dr.length;t++)if(n=Dr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Dr=null}return e}function tv(e,t){do{var n=ze;try{if(wd(),Nl.current=Kl,Gl){for(var r=ke.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Gl=!1}if(Yr=0,Be=De=ke=null,Pi=!1,Zi=0,Rd.current=null,n===null||n.return===null){Le=1,eo=t,ze=null;break}e:{var i=e,o=n.return,c=n,u=t;if(t=Ye,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,f=c,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=Ih(o);if(y!==null){y.flags&=-257,Rh(y,o,c,i,t),y.mode&1&&Ah(i,d,t),t=y,u=d;var j=t.updateQueue;if(j===null){var E=new Set;E.add(u),t.updateQueue=E}else j.add(u);break e}else{if(!(t&1)){Ah(i,d,t),Ld();break e}u=Error(U(426))}}else if(Ee&&c.mode&1){var C=Ih(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Rh(C,o,c,i,t),yd(Us(u,c));break e}}i=u=Us(u,c),Le!==4&&(Le=2),zi===null?zi=[i]:zi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Lg(i,u,t);kh(i,g);break e;case 1:c=u;var v=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ur===null||!ur.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=Fg(i,c,t);kh(i,N);break e}}i=i.return}while(i!==null)}sv(n)}catch(T){t=T,ze===n&&n!==null&&(ze=n=n.return);continue}break}while(!0)}function nv(){var e=Zl.current;return Zl.current=Kl,e===null?Kl:e}function Ld(){(Le===0||Le===3||Le===2)&&(Le=4),He===null||!(Gr&268435455)&&!(Sa&268435455)||tr(He,Ye)}function ea(e,t){var n=de;de|=2;var r=nv();(He!==e||Ye!==t)&&(kn=null,Vr(e,t));do try{M1();break}catch(s){tv(e,s)}while(!0);if(wd(),de=n,Zl.current=r,ze!==null)throw Error(U(261));return He=null,Ye=0,Le}function M1(){for(;ze!==null;)rv(ze)}function A1(){for(;ze!==null&&!nw();)rv(ze)}function rv(e){var t=ov(e.alternate,e,Et);e.memoizedProps=e.pendingProps,t===null?sv(e):ze=t,Rd.current=null}function sv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=j1(n,t),n!==null){n.flags&=32767,ze=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Le=6,ze=null;return}}else if(n=E1(n,t,Et),n!==null){ze=n;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);Le===0&&(Le=5)}function Pr(e,t,n){var r=pe,s=Vt.transition;try{Vt.transition=null,pe=1,I1(e,t,n,r)}finally{Vt.transition=s,pe=r}return null}function I1(e,t,n,r){do Ps();while(sr!==null);if(de&6)throw Error(U(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(fw(e,i),e===He&&(ze=He=null,Ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tl||(tl=!0,lv($l,function(){return Ps(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Vt.transition,Vt.transition=null;var o=pe;pe=1;var c=de;de|=4,Rd.current=null,C1(e,n),qg(n,e),qw(cu),Dl=!!au,cu=au=null,e.current=n,_1(n),rw(),de=c,pe=o,Vt.transition=i}else e.current=n;if(tl&&(tl=!1,sr=e,Jl=s),i=e.pendingLanes,i===0&&(ur=null),ow(n.stateNode),gt(e,Ae()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ql)throw ql=!1,e=bu,bu=null,e;return Jl&1&&e.tag!==0&&Ps(),i=e.pendingLanes,i&1?e===Mu?Di++:(Di=0,Mu=e):Di=0,xr(),null}function Ps(){if(sr!==null){var e=Lm(Jl),t=Vt.transition,n=pe;try{if(Vt.transition=null,pe=16>e?16:e,sr===null)var r=!1;else{if(e=sr,sr=null,Jl=0,de&6)throw Error(U(331));var s=de;for(de|=4,K=e.current;K!==null;){var i=K,o=i.child;if(K.flags&16){var c=i.deletions;if(c!==null){for(var u=0;u<c.length;u++){var d=c[u];for(K=d;K!==null;){var f=K;switch(f.tag){case 0:case 11:case 15:$i(8,f,i)}var h=f.child;if(h!==null)h.return=f,K=h;else for(;K!==null;){f=K;var m=f.sibling,y=f.return;if(Gg(f),f===d){K=null;break}if(m!==null){m.return=y,K=m;break}K=y}}}var j=i.alternate;if(j!==null){var E=j.child;if(E!==null){j.child=null;do{var C=E.sibling;E.sibling=null,E=C}while(E!==null)}}K=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,K=o;else e:for(;K!==null;){if(i=K,i.flags&2048)switch(i.tag){case 0:case 11:case 15:$i(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,K=g;break e}K=i.return}}var v=e.current;for(K=v;K!==null;){o=K;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,K=x;else e:for(o=v;K!==null;){if(c=K,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Na(9,c)}}catch(T){Te(c,c.return,T)}if(c===o){K=null;break e}var N=c.sibling;if(N!==null){N.return=c.return,K=N;break e}K=c.return}}if(de=s,xr(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(ha,e)}catch{}r=!0}return r}finally{pe=n,Vt.transition=t}}return!1}function Xh(e,t,n){t=Us(n,t),t=Lg(e,t,1),e=cr(e,t,1),t=it(),e!==null&&(uo(e,1,t),gt(e,t))}function Te(e,t,n){if(e.tag===3)Xh(e,e,n);else for(;t!==null;){if(t.tag===3){Xh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ur===null||!ur.has(r))){e=Us(n,e),e=Fg(t,e,1),t=cr(t,e,1),e=it(),t!==null&&(uo(t,1,e),gt(t,e));break}}t=t.return}}function R1(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=it(),e.pingedLanes|=e.suspendedLanes&n,He===e&&(Ye&n)===n&&(Le===4||Le===3&&(Ye&130023424)===Ye&&500>Ae()-$d?Vr(e,0):Pd|=n),gt(e,t)}function iv(e,t){t===0&&(e.mode&1?(t=Wo,Wo<<=1,!(Wo&130023424)&&(Wo=4194304)):t=1);var n=it();e=Pn(e,t),e!==null&&(uo(e,t,n),gt(e,n))}function P1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),iv(e,n)}function $1(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),iv(e,n)}var ov;ov=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||pt.current)ft=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ft=!1,S1(e,t,n);ft=!!(e.flags&131072)}else ft=!1,Ee&&t.flags&1048576&&ug(t,Ul,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;El(e,t),e=t.pendingProps;var s=Os(t,et.current);Rs(t,n),s=Td(null,t,r,e,s,n);var i=bd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mt(r)?(i=!0,Bl(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ed(t),s.updater=wa,t.stateNode=s,s._reactInternals=t,yu(t,r,e,n),t=Nu(null,t,r,!0,i,n)):(t.tag=0,Ee&&i&&gd(t),st(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(El(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=D1(r),e=Kt(r,e),s){case 0:t=wu(null,t,r,e,n);break e;case 1:t=zh(null,t,r,e,n);break e;case 11:t=Ph(null,t,r,e,n);break e;case 14:t=$h(null,t,r,Kt(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Kt(r,s),wu(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Kt(r,s),zh(e,t,r,s,n);case 3:e:{if(Hg(t),e===null)throw Error(U(387));r=t.pendingProps,i=t.memoizedState,s=i.element,gg(e,t),Ql(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Us(Error(U(423)),t),t=Dh(e,t,r,n,s);break e}else if(r!==s){s=Us(Error(U(424)),t),t=Dh(e,t,r,n,s);break e}else for(jt=ar(t.stateNode.containerInfo.firstChild),kt=t,Ee=!0,Jt=null,n=pg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vs(),r===s){t=$n(e,t,n);break e}st(e,t,r,n)}t=t.child}return t;case 5:return vg(t),e===null&&mu(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,uu(r,s)?o=null:i!==null&&uu(r,i)&&(t.flags|=32),Bg(e,t),st(e,t,o,n),t.child;case 6:return e===null&&mu(t),null;case 13:return Ug(e,t,n);case 4:return jd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Bs(t,null,r,n):st(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Kt(r,s),Ph(e,t,r,s,n);case 7:return st(e,t,t.pendingProps,n),t.child;case 8:return st(e,t,t.pendingProps.children,n),t.child;case 12:return st(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ge(Wl,r._currentValue),r._currentValue=o,i!==null)if(sn(i.value,o)){if(i.children===s.children&&!pt.current){t=$n(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var c=i.dependencies;if(c!==null){o=i.child;for(var u=c.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Mn(-1,n&-n),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),gu(i.return,n,t),c.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),gu(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}st(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Rs(t,n),s=Bt(s),r=r(s),t.flags|=1,st(e,t,r,n),t.child;case 14:return r=t.type,s=Kt(r,t.pendingProps),s=Kt(r.type,s),$h(e,t,r,s,n);case 15:return Og(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Kt(r,s),El(e,t),t.tag=1,mt(r)?(e=!0,Bl(t)):e=!1,Rs(t,n),Dg(t,r,s),yu(t,r,s,n),Nu(null,t,r,!0,e,n);case 19:return Wg(e,t,n);case 22:return Vg(e,t,n)}throw Error(U(156,t.tag))};function lv(e,t){return Pm(e,t)}function z1(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(e,t,n,r){return new z1(e,t,n,r)}function Fd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function D1(e){if(typeof e=="function")return Fd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===sd)return 11;if(e===id)return 14}return 2}function fr(e,t){var n=e.alternate;return n===null?(n=Ft(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Cl(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Fd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case vs:return Br(n.children,s,i,t);case rd:o=8,s|=8;break;case Bc:return e=Ft(12,n,t,s|2),e.elementType=Bc,e.lanes=i,e;case Hc:return e=Ft(13,n,t,s),e.elementType=Hc,e.lanes=i,e;case Uc:return e=Ft(19,n,t,s),e.elementType=Uc,e.lanes=i,e;case vm:return Ea(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mm:o=10;break e;case gm:o=9;break e;case sd:o=11;break e;case id:o=14;break e;case Kn:o=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=Ft(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Br(e,t,n,r){return e=Ft(7,e,r,t),e.lanes=n,e}function Ea(e,t,n,r){return e=Ft(22,e,r,t),e.elementType=vm,e.lanes=n,e.stateNode={isHidden:!1},e}function Sc(e,t,n){return e=Ft(6,e,null,t),e.lanes=n,e}function Ec(e,t,n){return t=Ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function L1(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rc(0),this.expirationTimes=rc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Od(e,t,n,r,s,i,o,c,u){return e=new L1(e,t,n,c,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ft(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ed(i),e}function F1(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function av(e){if(!e)return gr;e=e._reactInternals;e:{if(es(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(mt(n))return ag(e,n,t)}return t}function cv(e,t,n,r,s,i,o,c,u){return e=Od(n,r,!0,e,s,i,o,c,u),e.context=av(null),n=e.current,r=it(),s=dr(n),i=Mn(r,s),i.callback=t??null,cr(n,i,s),e.current.lanes=s,uo(e,s,r),gt(e,r),e}function ja(e,t,n,r){var s=t.current,i=it(),o=dr(s);return n=av(n),t.context===null?t.context=n:t.pendingContext=n,t=Mn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=cr(s,t,o),e!==null&&(nn(e,s,o,i),wl(e,s,o)),o}function ta(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vd(e,t){Qh(e,t),(e=e.alternate)&&Qh(e,t)}function O1(){return null}var uv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bd(e){this._internalRoot=e}ka.prototype.render=Bd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));ja(e,t,null,null)};ka.prototype.unmount=Bd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kr(function(){ja(null,e,null,null)}),t[Rn]=null}};function ka(e){this._internalRoot=e}ka.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<er.length&&t!==0&&t<er[n].priority;n++);er.splice(n,0,e),n===0&&Hm(e)}};function Hd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ca(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yh(){}function V1(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=ta(o);i.call(d)}}var o=cv(t,r,e,0,null,!1,!1,"",Yh);return e._reactRootContainer=o,e[Rn]=o.current,Xi(e.nodeType===8?e.parentNode:e),Kr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var c=r;r=function(){var d=ta(u);c.call(d)}}var u=Od(e,0,!1,null,null,!1,!1,"",Yh);return e._reactRootContainer=u,e[Rn]=u.current,Xi(e.nodeType===8?e.parentNode:e),Kr(function(){ja(t,u,n,r)}),u}function _a(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var c=s;s=function(){var u=ta(o);c.call(u)}}ja(t,o,e,s)}else o=V1(n,t,e,s,r);return ta(o)}Fm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ei(t.pendingLanes);n!==0&&(ad(t,n|1),gt(t,Ae()),!(de&6)&&(Ws=Ae()+500,xr()))}break;case 13:Kr(function(){var r=Pn(e,1);if(r!==null){var s=it();nn(r,e,1,s)}}),Vd(e,1)}};cd=function(e){if(e.tag===13){var t=Pn(e,134217728);if(t!==null){var n=it();nn(t,e,134217728,n)}Vd(e,134217728)}};Om=function(e){if(e.tag===13){var t=dr(e),n=Pn(e,t);if(n!==null){var r=it();nn(n,e,t,r)}Vd(e,t)}};Vm=function(){return pe};Bm=function(e,t){var n=pe;try{return pe=e,t()}finally{pe=n}};eu=function(e,t,n){switch(t){case"input":if(Qc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=va(r);if(!s)throw Error(U(90));xm(r),Qc(r,s)}}}break;case"textarea":Nm(e,n);break;case"select":t=n.value,t!=null&&bs(e,!!n.multiple,t,!1)}};Tm=zd;bm=Kr;var B1={usingClientEntryPoint:!1,Events:[ho,Ns,va,Cm,_m,zd]},pi={findFiberByHostInstance:zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},H1={bundleType:pi.bundleType,version:pi.version,rendererPackageName:pi.rendererPackageName,rendererConfig:pi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Im(e),e===null?null:e.stateNode},findFiberByHostInstance:pi.findFiberByHostInstance||O1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nl.isDisabled&&nl.supportsFiber)try{ha=nl.inject(H1),gn=nl}catch{}}Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B1;Tt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hd(t))throw Error(U(200));return F1(e,t,null,n)};Tt.createRoot=function(e,t){if(!Hd(e))throw Error(U(299));var n=!1,r="",s=uv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Od(e,1,!1,null,null,n,!1,r,s),e[Rn]=t.current,Xi(e.nodeType===8?e.parentNode:e),new Bd(t)};Tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=Im(t),e=e===null?null:e.stateNode,e};Tt.flushSync=function(e){return Kr(e)};Tt.hydrate=function(e,t,n){if(!Ca(t))throw Error(U(200));return _a(null,e,t,!0,n)};Tt.hydrateRoot=function(e,t,n){if(!Hd(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=uv;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=cv(t,null,e,1,n??null,s,!1,i,o),e[Rn]=t.current,Xi(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ka(t)};Tt.render=function(e,t,n){if(!Ca(t))throw Error(U(200));return _a(null,e,t,!1,n)};Tt.unmountComponentAtNode=function(e){if(!Ca(e))throw Error(U(40));return e._reactRootContainer?(Kr(function(){_a(null,null,e,!1,function(){e._reactRootContainer=null,e[Rn]=null})}),!0):!1};Tt.unstable_batchedUpdates=zd;Tt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ca(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return _a(e,t,n,!1,r)};Tt.version="18.3.1-next-f1338f8080-20240426";function dv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dv)}catch(e){console.error(e)}}dv(),dm.exports=Tt;var U1=dm.exports,fv,Gh=U1;fv=Gh.createRoot,Gh.hydrateRoot;function Ke(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Ke(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var hv={exports:{}},pv={},mv={exports:{}},gv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xs=w;function W1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var X1=typeof Object.is=="function"?Object.is:W1,Q1=Xs.useState,Y1=Xs.useEffect,G1=Xs.useLayoutEffect,K1=Xs.useDebugValue;function Z1(e,t){var n=t(),r=Q1({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return G1(function(){s.value=n,s.getSnapshot=t,jc(s)&&i({inst:s})},[e,n,t]),Y1(function(){return jc(s)&&i({inst:s}),e(function(){jc(s)&&i({inst:s})})},[e]),K1(n),n}function jc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!X1(e,n)}catch{return!0}}function q1(e,t){return t()}var J1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?q1:Z1;gv.useSyncExternalStore=Xs.useSyncExternalStore!==void 0?Xs.useSyncExternalStore:J1;mv.exports=gv;var eN=mv.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ta=w,tN=eN;function nN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rN=typeof Object.is=="function"?Object.is:nN,sN=tN.useSyncExternalStore,iN=Ta.useRef,oN=Ta.useEffect,lN=Ta.useMemo,aN=Ta.useDebugValue;pv.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=iN(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=lN(function(){function u(y){if(!d){if(d=!0,f=y,y=r(y),s!==void 0&&o.hasValue){var j=o.value;if(s(j,y))return h=j}return h=y}if(j=h,rN(f,y))return j;var E=r(y);return s!==void 0&&s(j,E)?(f=y,j):(f=y,h=E)}var d=!1,f,h,m=n===void 0?null:n;return[function(){return u(t())},m===null?void 0:function(){return u(m())}]},[t,n,r,s]);var c=sN(e,i[0],i[1]);return oN(function(){o.hasValue=!0,o.value=c},[c]),aN(c),c};hv.exports=pv;var cN=hv.exports;const uN=Jp(cN),dN={},Kh=e=>{let t;const n=new Set,r=(f,h)=>{const m=typeof f=="function"?f(t):f;if(!Object.is(m,t)){const y=t;t=h??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(j=>j(t,y))}},s=()=>t,u={setState:r,getState:s,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(dN?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=t=e(r,s,u);return u},fN=e=>e?Kh(e):Kh,{useDebugValue:hN}=z,{useSyncExternalStoreWithSelector:pN}=uN,mN=e=>e;function vv(e,t=mN,n){const r=pN(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return hN(r),r}const Zh=(e,t)=>{const n=fN(e),r=(s,i=t)=>vv(n,s,i);return Object.assign(r,n),r},gN=(e,t)=>e?Zh(e,t):Zh;function Ue(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var vN={value:()=>{}};function ba(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new _l(n)}function _l(e){this._=e}function yN(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}_l.prototype=ba.prototype={constructor:_l,on:function(e,t){var n=this._,r=yN(e+"",n),s,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((s=(e=r[i]).type)&&(s=xN(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(s=(e=r[i]).type)n[s]=qh(n[s],e.name,t);else if(t==null)for(s in n)n[s]=qh(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new _l(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,i;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,i=r.length;s<i;++s)r[s].value.apply(t,n)}};function xN(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function qh(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=vN,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ru="http://www.w3.org/1999/xhtml";const Jh={svg:"http://www.w3.org/2000/svg",xhtml:Ru,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ma(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Jh.hasOwnProperty(t)?{space:Jh[t],local:e}:e}function wN(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ru&&t.documentElement.namespaceURI===Ru?t.createElement(e):t.createElementNS(n,e)}}function NN(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function yv(e){var t=Ma(e);return(t.local?NN:wN)(t)}function SN(){}function Ud(e){return e==null?SN:function(){return this.querySelector(e)}}function EN(e){typeof e!="function"&&(e=Ud(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,c=r[s]=new Array(o),u,d,f=0;f<o;++f)(u=i[f])&&(d=e.call(u,u.__data__,f,i))&&("__data__"in u&&(d.__data__=u.__data__),c[f]=d);return new _t(r,this._parents)}function jN(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function kN(){return[]}function xv(e){return e==null?kN:function(){return this.querySelectorAll(e)}}function CN(e){return function(){return jN(e.apply(this,arguments))}}function _N(e){typeof e=="function"?e=CN(e):e=xv(e);for(var t=this._groups,n=t.length,r=[],s=[],i=0;i<n;++i)for(var o=t[i],c=o.length,u,d=0;d<c;++d)(u=o[d])&&(r.push(e.call(u,u.__data__,d,o)),s.push(u));return new _t(r,s)}function wv(e){return function(){return this.matches(e)}}function Nv(e){return function(t){return t.matches(e)}}var TN=Array.prototype.find;function bN(e){return function(){return TN.call(this.children,e)}}function MN(){return this.firstElementChild}function AN(e){return this.select(e==null?MN:bN(typeof e=="function"?e:Nv(e)))}var IN=Array.prototype.filter;function RN(){return Array.from(this.children)}function PN(e){return function(){return IN.call(this.children,e)}}function $N(e){return this.selectAll(e==null?RN:PN(typeof e=="function"?e:Nv(e)))}function zN(e){typeof e!="function"&&(e=wv(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,c=r[s]=[],u,d=0;d<o;++d)(u=i[d])&&e.call(u,u.__data__,d,i)&&c.push(u);return new _t(r,this._parents)}function Sv(e){return new Array(e.length)}function DN(){return new _t(this._enter||this._groups.map(Sv),this._parents)}function na(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}na.prototype={constructor:na,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function LN(e){return function(){return e}}function FN(e,t,n,r,s,i){for(var o=0,c,u=t.length,d=i.length;o<d;++o)(c=t[o])?(c.__data__=i[o],r[o]=c):n[o]=new na(e,i[o]);for(;o<u;++o)(c=t[o])&&(s[o]=c)}function ON(e,t,n,r,s,i,o){var c,u,d=new Map,f=t.length,h=i.length,m=new Array(f),y;for(c=0;c<f;++c)(u=t[c])&&(m[c]=y=o.call(u,u.__data__,c,t)+"",d.has(y)?s[c]=u:d.set(y,u));for(c=0;c<h;++c)y=o.call(e,i[c],c,i)+"",(u=d.get(y))?(r[c]=u,u.__data__=i[c],d.delete(y)):n[c]=new na(e,i[c]);for(c=0;c<f;++c)(u=t[c])&&d.get(m[c])===u&&(s[c]=u)}function VN(e){return e.__data__}function BN(e,t){if(!arguments.length)return Array.from(this,VN);var n=t?ON:FN,r=this._parents,s=this._groups;typeof e!="function"&&(e=LN(e));for(var i=s.length,o=new Array(i),c=new Array(i),u=new Array(i),d=0;d<i;++d){var f=r[d],h=s[d],m=h.length,y=HN(e.call(f,f&&f.__data__,d,r)),j=y.length,E=c[d]=new Array(j),C=o[d]=new Array(j),g=u[d]=new Array(m);n(f,h,E,C,g,y,t);for(var v=0,x=0,N,T;v<j;++v)if(N=E[v]){for(v>=x&&(x=v+1);!(T=C[x])&&++x<j;);N._next=T||null}}return o=new _t(o,r),o._enter=c,o._exit=u,o}function HN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function UN(){return new _t(this._exit||this._groups.map(Sv),this._parents)}function WN(e,t,n){var r=this.enter(),s=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?i.remove():n(i),r&&s?r.merge(s).order():s}function XN(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,i=r.length,o=Math.min(s,i),c=new Array(s),u=0;u<o;++u)for(var d=n[u],f=r[u],h=d.length,m=c[u]=new Array(h),y,j=0;j<h;++j)(y=d[j]||f[j])&&(m[j]=y);for(;u<s;++u)c[u]=n[u];return new _t(c,this._parents)}function QN(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,i=r[s],o;--s>=0;)(o=r[s])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function YN(e){e||(e=GN);function t(h,m){return h&&m?e(h.__data__,m.__data__):!h-!m}for(var n=this._groups,r=n.length,s=new Array(r),i=0;i<r;++i){for(var o=n[i],c=o.length,u=s[i]=new Array(c),d,f=0;f<c;++f)(d=o[f])&&(u[f]=d);u.sort(t)}return new _t(s,this._parents).order()}function GN(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function KN(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ZN(){return Array.from(this)}function qN(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length;s<i;++s){var o=r[s];if(o)return o}return null}function JN(){let e=0;for(const t of this)++e;return e}function eS(){return!this.node()}function tS(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],i=0,o=s.length,c;i<o;++i)(c=s[i])&&e.call(c,c.__data__,i,s);return this}function nS(e){return function(){this.removeAttribute(e)}}function rS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function sS(e,t){return function(){this.setAttribute(e,t)}}function iS(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function oS(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function lS(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function aS(e,t){var n=Ma(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?rS:nS:typeof t=="function"?n.local?lS:oS:n.local?iS:sS)(n,t))}function Ev(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function cS(e){return function(){this.style.removeProperty(e)}}function uS(e,t,n){return function(){this.style.setProperty(e,t,n)}}function dS(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function fS(e,t,n){return arguments.length>1?this.each((t==null?cS:typeof t=="function"?dS:uS)(e,t,n??"")):Qs(this.node(),e)}function Qs(e,t){return e.style.getPropertyValue(t)||Ev(e).getComputedStyle(e,null).getPropertyValue(t)}function hS(e){return function(){delete this[e]}}function pS(e,t){return function(){this[e]=t}}function mS(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function gS(e,t){return arguments.length>1?this.each((t==null?hS:typeof t=="function"?mS:pS)(e,t)):this.node()[e]}function jv(e){return e.trim().split(/^|\s+/)}function Wd(e){return e.classList||new kv(e)}function kv(e){this._node=e,this._names=jv(e.getAttribute("class")||"")}kv.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Cv(e,t){for(var n=Wd(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function _v(e,t){for(var n=Wd(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function vS(e){return function(){Cv(this,e)}}function yS(e){return function(){_v(this,e)}}function xS(e,t){return function(){(t.apply(this,arguments)?Cv:_v)(this,e)}}function wS(e,t){var n=jv(e+"");if(arguments.length<2){for(var r=Wd(this.node()),s=-1,i=n.length;++s<i;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?xS:t?vS:yS)(n,t))}function NS(){this.textContent=""}function SS(e){return function(){this.textContent=e}}function ES(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function jS(e){return arguments.length?this.each(e==null?NS:(typeof e=="function"?ES:SS)(e)):this.node().textContent}function kS(){this.innerHTML=""}function CS(e){return function(){this.innerHTML=e}}function _S(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function TS(e){return arguments.length?this.each(e==null?kS:(typeof e=="function"?_S:CS)(e)):this.node().innerHTML}function bS(){this.nextSibling&&this.parentNode.appendChild(this)}function MS(){return this.each(bS)}function AS(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function IS(){return this.each(AS)}function RS(e){var t=typeof e=="function"?e:yv(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function PS(){return null}function $S(e,t){var n=typeof e=="function"?e:yv(e),r=t==null?PS:typeof t=="function"?t:Ud(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function zS(){var e=this.parentNode;e&&e.removeChild(this)}function DS(){return this.each(zS)}function LS(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function FS(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function OS(e){return this.select(e?FS:LS)}function VS(e){return arguments.length?this.property("__data__",e):this.node().__data__}function BS(e){return function(t){e.call(this,t,this.__data__)}}function HS(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function US(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,i;n<s;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function WS(e,t,n){return function(){var r=this.__on,s,i=BS(t);if(r){for(var o=0,c=r.length;o<c;++o)if((s=r[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=n),s.value=t;return}}this.addEventListener(e.type,i,n),s={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(s):this.__on=[s]}}function XS(e,t,n){var r=HS(e+""),s,i=r.length,o;if(arguments.length<2){var c=this.node().__on;if(c){for(var u=0,d=c.length,f;u<d;++u)for(s=0,f=c[u];s<i;++s)if((o=r[s]).type===f.type&&o.name===f.name)return f.value}return}for(c=t?WS:US,s=0;s<i;++s)this.each(c(r[s],t,n));return this}function Tv(e,t,n){var r=Ev(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function QS(e,t){return function(){return Tv(this,e,t)}}function YS(e,t){return function(){return Tv(this,e,t.apply(this,arguments))}}function GS(e,t){return this.each((typeof t=="function"?YS:QS)(e,t))}function*KS(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length,o;s<i;++s)(o=r[s])&&(yield o)}var bv=[null];function _t(e,t){this._groups=e,this._parents=t}function mo(){return new _t([[document.documentElement]],bv)}function ZS(){return this}_t.prototype=mo.prototype={constructor:_t,select:EN,selectAll:_N,selectChild:AN,selectChildren:$N,filter:zN,data:BN,enter:DN,exit:UN,join:WN,merge:XN,selection:ZS,order:QN,sort:YN,call:KN,nodes:ZN,node:qN,size:JN,empty:eS,each:tS,attr:aS,style:fS,property:gS,classed:wS,text:jS,html:TS,raise:MS,lower:IS,append:RS,insert:$S,remove:DS,clone:OS,datum:VS,on:XS,dispatch:GS,[Symbol.iterator]:KS};function Lt(e){return typeof e=="string"?new _t([[document.querySelector(e)]],[document.documentElement]):new _t([[e]],bv)}function qS(e){let t;for(;t=e.sourceEvent;)e=t;return e}function qt(e,t){if(e=qS(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const JS={passive:!1},to={capture:!0,passive:!1};function kc(e){e.stopImmediatePropagation()}function $s(e){e.preventDefault(),e.stopImmediatePropagation()}function Mv(e){var t=e.document.documentElement,n=Lt(e).on("dragstart.drag",$s,to);"onselectstart"in t?n.on("selectstart.drag",$s,to):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Av(e,t){var n=e.document.documentElement,r=Lt(e).on("dragstart.drag",null);t&&(r.on("click.drag",$s,to),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const rl=e=>()=>e;function Pu(e,{sourceEvent:t,subject:n,target:r,identifier:s,active:i,x:o,y:c,dx:u,dy:d,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:f}})}Pu.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function eE(e){return!e.ctrlKey&&!e.button}function tE(){return this.parentNode}function nE(e,t){return t??{x:e.x,y:e.y}}function rE(){return navigator.maxTouchPoints||"ontouchstart"in this}function sE(){var e=eE,t=tE,n=nE,r=rE,s={},i=ba("start","drag","end"),o=0,c,u,d,f,h=0;function m(N){N.on("mousedown.drag",y).filter(r).on("touchstart.drag",C).on("touchmove.drag",g,JS).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(N,T){if(!(f||!e.call(this,N,T))){var b=x(this,t.call(this,N,T),N,T,"mouse");b&&(Lt(N.view).on("mousemove.drag",j,to).on("mouseup.drag",E,to),Mv(N.view),kc(N),d=!1,c=N.clientX,u=N.clientY,b("start",N))}}function j(N){if($s(N),!d){var T=N.clientX-c,b=N.clientY-u;d=T*T+b*b>h}s.mouse("drag",N)}function E(N){Lt(N.view).on("mousemove.drag mouseup.drag",null),Av(N.view,d),$s(N),s.mouse("end",N)}function C(N,T){if(e.call(this,N,T)){var b=N.changedTouches,R=t.call(this,N,T),P=b.length,D,F;for(D=0;D<P;++D)(F=x(this,R,N,T,b[D].identifier,b[D]))&&(kc(N),F("start",N,b[D]))}}function g(N){var T=N.changedTouches,b=T.length,R,P;for(R=0;R<b;++R)(P=s[T[R].identifier])&&($s(N),P("drag",N,T[R]))}function v(N){var T=N.changedTouches,b=T.length,R,P;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),R=0;R<b;++R)(P=s[T[R].identifier])&&(kc(N),P("end",N,T[R]))}function x(N,T,b,R,P,D){var F=i.copy(),H=qt(D||b,T),X,W,S;if((S=n.call(N,new Pu("beforestart",{sourceEvent:b,target:m,identifier:P,active:o,x:H[0],y:H[1],dx:0,dy:0,dispatch:F}),R))!=null)return X=S.x-H[0]||0,W=S.y-H[1]||0,function $(M,B,A){var k=H,I;switch(M){case"start":s[P]=$,I=o++;break;case"end":delete s[P],--o;case"drag":H=qt(A||B,T),I=o;break}F.call(M,N,new Pu(M,{sourceEvent:B,subject:S,target:m,identifier:P,active:I,x:H[0]+X,y:H[1]+W,dx:H[0]-k[0],dy:H[1]-k[1],dispatch:F}),R)}}return m.filter=function(N){return arguments.length?(e=typeof N=="function"?N:rl(!!N),m):e},m.container=function(N){return arguments.length?(t=typeof N=="function"?N:rl(N),m):t},m.subject=function(N){return arguments.length?(n=typeof N=="function"?N:rl(N),m):n},m.touchable=function(N){return arguments.length?(r=typeof N=="function"?N:rl(!!N),m):r},m.on=function(){var N=i.on.apply(i,arguments);return N===i?m:N},m.clickDistance=function(N){return arguments.length?(h=(N=+N)*N,m):Math.sqrt(h)},m}function Xd(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Iv(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function go(){}var no=.7,ra=1/no,zs="\\s*([+-]?\\d+)\\s*",ro="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iE=/^#([0-9a-f]{3,8})$/,oE=new RegExp(`^rgb\\(${zs},${zs},${zs}\\)$`),lE=new RegExp(`^rgb\\(${yn},${yn},${yn}\\)$`),aE=new RegExp(`^rgba\\(${zs},${zs},${zs},${ro}\\)$`),cE=new RegExp(`^rgba\\(${yn},${yn},${yn},${ro}\\)$`),uE=new RegExp(`^hsl\\(${ro},${yn},${yn}\\)$`),dE=new RegExp(`^hsla\\(${ro},${yn},${yn},${ro}\\)$`),ep={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xd(go,so,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:tp,formatHex:tp,formatHex8:fE,formatHsl:hE,formatRgb:np,toString:np});function tp(){return this.rgb().formatHex()}function fE(){return this.rgb().formatHex8()}function hE(){return Rv(this).formatHsl()}function np(){return this.rgb().formatRgb()}function so(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=iE.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?rp(t):n===3?new ht(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?sl(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?sl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=oE.exec(e))?new ht(t[1],t[2],t[3],1):(t=lE.exec(e))?new ht(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=aE.exec(e))?sl(t[1],t[2],t[3],t[4]):(t=cE.exec(e))?sl(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=uE.exec(e))?op(t[1],t[2]/100,t[3]/100,1):(t=dE.exec(e))?op(t[1],t[2]/100,t[3]/100,t[4]):ep.hasOwnProperty(e)?rp(ep[e]):e==="transparent"?new ht(NaN,NaN,NaN,0):null}function rp(e){return new ht(e>>16&255,e>>8&255,e&255,1)}function sl(e,t,n,r){return r<=0&&(e=t=n=NaN),new ht(e,t,n,r)}function pE(e){return e instanceof go||(e=so(e)),e?(e=e.rgb(),new ht(e.r,e.g,e.b,e.opacity)):new ht}function $u(e,t,n,r){return arguments.length===1?pE(e):new ht(e,t,n,r??1)}function ht(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Xd(ht,$u,Iv(go,{brighter(e){return e=e==null?ra:Math.pow(ra,e),new ht(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?no:Math.pow(no,e),new ht(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ht(Hr(this.r),Hr(this.g),Hr(this.b),sa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sp,formatHex:sp,formatHex8:mE,formatRgb:ip,toString:ip}));function sp(){return`#${Fr(this.r)}${Fr(this.g)}${Fr(this.b)}`}function mE(){return`#${Fr(this.r)}${Fr(this.g)}${Fr(this.b)}${Fr((isNaN(this.opacity)?1:this.opacity)*255)}`}function ip(){const e=sa(this.opacity);return`${e===1?"rgb(":"rgba("}${Hr(this.r)}, ${Hr(this.g)}, ${Hr(this.b)}${e===1?")":`, ${e})`}`}function sa(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Hr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Fr(e){return e=Hr(e),(e<16?"0":"")+e.toString(16)}function op(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new en(e,t,n,r)}function Rv(e){if(e instanceof en)return new en(e.h,e.s,e.l,e.opacity);if(e instanceof go||(e=so(e)),!e)return new en;if(e instanceof en)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,c=i-s,u=(i+s)/2;return c?(t===i?o=(n-r)/c+(n<r)*6:n===i?o=(r-t)/c+2:o=(t-n)/c+4,c/=u<.5?i+s:2-i-s,o*=60):c=u>0&&u<1?0:o,new en(o,c,u,e.opacity)}function gE(e,t,n,r){return arguments.length===1?Rv(e):new en(e,t,n,r??1)}function en(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Xd(en,gE,Iv(go,{brighter(e){return e=e==null?ra:Math.pow(ra,e),new en(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?no:Math.pow(no,e),new en(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new ht(Cc(e>=240?e-240:e+120,s,r),Cc(e,s,r),Cc(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new en(lp(this.h),il(this.s),il(this.l),sa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sa(this.opacity);return`${e===1?"hsl(":"hsla("}${lp(this.h)}, ${il(this.s)*100}%, ${il(this.l)*100}%${e===1?")":`, ${e})`}`}}));function lp(e){return e=(e||0)%360,e<0?e+360:e}function il(e){return Math.max(0,Math.min(1,e||0))}function Cc(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Pv=e=>()=>e;function vE(e,t){return function(n){return e+n*t}}function yE(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function xE(e){return(e=+e)==1?$v:function(t,n){return n-t?yE(t,n,e):Pv(isNaN(t)?n:t)}}function $v(e,t){var n=t-e;return n?vE(e,n):Pv(isNaN(e)?t:e)}const ap=function e(t){var n=xE(t);function r(s,i){var o=n((s=$u(s)).r,(i=$u(i)).r),c=n(s.g,i.g),u=n(s.b,i.b),d=$v(s.opacity,i.opacity);return function(f){return s.r=o(f),s.g=c(f),s.b=u(f),s.opacity=d(f),s+""}}return r.gamma=e,r}(1);function qn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var zu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_c=new RegExp(zu.source,"g");function wE(e){return function(){return e}}function NE(e){return function(t){return e(t)+""}}function SE(e,t){var n=zu.lastIndex=_c.lastIndex=0,r,s,i,o=-1,c=[],u=[];for(e=e+"",t=t+"";(r=zu.exec(e))&&(s=_c.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),c[o]?c[o]+=i:c[++o]=i),(r=r[0])===(s=s[0])?c[o]?c[o]+=s:c[++o]=s:(c[++o]=null,u.push({i:o,x:qn(r,s)})),n=_c.lastIndex;return n<t.length&&(i=t.slice(n),c[o]?c[o]+=i:c[++o]=i),c.length<2?u[0]?NE(u[0].x):wE(t):(t=u.length,function(d){for(var f=0,h;f<t;++f)c[(h=u[f]).i]=h.x(d);return c.join("")})}var cp=180/Math.PI,Du={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function zv(e,t,n,r,s,i){var o,c,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,u/=c),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:s,translateY:i,rotate:Math.atan2(t,e)*cp,skewX:Math.atan(u)*cp,scaleX:o,scaleY:c}}var ol;function EE(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Du:zv(t.a,t.b,t.c,t.d,t.e,t.f)}function jE(e){return e==null||(ol||(ol=document.createElementNS("http://www.w3.org/2000/svg","g")),ol.setAttribute("transform",e),!(e=ol.transform.baseVal.consolidate()))?Du:(e=e.matrix,zv(e.a,e.b,e.c,e.d,e.e,e.f))}function Dv(e,t,n,r){function s(d){return d.length?d.pop()+" ":""}function i(d,f,h,m,y,j){if(d!==h||f!==m){var E=y.push("translate(",null,t,null,n);j.push({i:E-4,x:qn(d,h)},{i:E-2,x:qn(f,m)})}else(h||m)&&y.push("translate("+h+t+m+n)}function o(d,f,h,m){d!==f?(d-f>180?f+=360:f-d>180&&(d+=360),m.push({i:h.push(s(h)+"rotate(",null,r)-2,x:qn(d,f)})):f&&h.push(s(h)+"rotate("+f+r)}function c(d,f,h,m){d!==f?m.push({i:h.push(s(h)+"skewX(",null,r)-2,x:qn(d,f)}):f&&h.push(s(h)+"skewX("+f+r)}function u(d,f,h,m,y,j){if(d!==h||f!==m){var E=y.push(s(y)+"scale(",null,",",null,")");j.push({i:E-4,x:qn(d,h)},{i:E-2,x:qn(f,m)})}else(h!==1||m!==1)&&y.push(s(y)+"scale("+h+","+m+")")}return function(d,f){var h=[],m=[];return d=e(d),f=e(f),i(d.translateX,d.translateY,f.translateX,f.translateY,h,m),o(d.rotate,f.rotate,h,m),c(d.skewX,f.skewX,h,m),u(d.scaleX,d.scaleY,f.scaleX,f.scaleY,h,m),d=f=null,function(y){for(var j=-1,E=m.length,C;++j<E;)h[(C=m[j]).i]=C.x(y);return h.join("")}}}var kE=Dv(EE,"px, ","px)","deg)"),CE=Dv(jE,", ",")",")"),_E=1e-12;function up(e){return((e=Math.exp(e))+1/e)/2}function TE(e){return((e=Math.exp(e))-1/e)/2}function bE(e){return((e=Math.exp(2*e))-1)/(e+1)}const ME=function e(t,n,r){function s(i,o){var c=i[0],u=i[1],d=i[2],f=o[0],h=o[1],m=o[2],y=f-c,j=h-u,E=y*y+j*j,C,g;if(E<_E)g=Math.log(m/d)/t,C=function(R){return[c+R*y,u+R*j,d*Math.exp(t*R*g)]};else{var v=Math.sqrt(E),x=(m*m-d*d+r*E)/(2*d*n*v),N=(m*m-d*d-r*E)/(2*m*n*v),T=Math.log(Math.sqrt(x*x+1)-x),b=Math.log(Math.sqrt(N*N+1)-N);g=(b-T)/t,C=function(R){var P=R*g,D=up(T),F=d/(n*v)*(D*bE(t*P+T)-TE(T));return[c+F*y,u+F*j,d*D/up(t*P+T)]}}return C.duration=g*1e3*t/Math.SQRT2,C}return s.rho=function(i){var o=Math.max(.001,+i),c=o*o,u=c*c;return e(o,c,u)},s}(Math.SQRT2,2,4);var Ys=0,ki=0,mi=0,Lv=1e3,ia,Ci,oa=0,Zr=0,Aa=0,io=typeof performance=="object"&&performance.now?performance:Date,Fv=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Qd(){return Zr||(Fv(AE),Zr=io.now()+Aa)}function AE(){Zr=0}function la(){this._call=this._time=this._next=null}la.prototype=Ov.prototype={constructor:la,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Qd():+n)+(t==null?0:+t),!this._next&&Ci!==this&&(Ci?Ci._next=this:ia=this,Ci=this),this._call=e,this._time=n,Lu()},stop:function(){this._call&&(this._call=null,this._time=1/0,Lu())}};function Ov(e,t,n){var r=new la;return r.restart(e,t,n),r}function IE(){Qd(),++Ys;for(var e=ia,t;e;)(t=Zr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ys}function dp(){Zr=(oa=io.now())+Aa,Ys=ki=0;try{IE()}finally{Ys=0,PE(),Zr=0}}function RE(){var e=io.now(),t=e-oa;t>Lv&&(Aa-=t,oa=e)}function PE(){for(var e,t=ia,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ia=n);Ci=e,Lu(r)}function Lu(e){if(!Ys){ki&&(ki=clearTimeout(ki));var t=e-Zr;t>24?(e<1/0&&(ki=setTimeout(dp,e-io.now()-Aa)),mi&&(mi=clearInterval(mi))):(mi||(oa=io.now(),mi=setInterval(RE,Lv)),Ys=1,Fv(dp))}}function fp(e,t,n){var r=new la;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var $E=ba("start","end","cancel","interrupt"),zE=[],Vv=0,hp=1,Fu=2,Tl=3,pp=4,Ou=5,bl=6;function Ia(e,t,n,r,s,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;DE(e,n,{name:t,index:r,group:s,on:$E,tween:zE,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Vv})}function Yd(e,t){var n=on(e,t);if(n.state>Vv)throw new Error("too late; already scheduled");return n}function xn(e,t){var n=on(e,t);if(n.state>Tl)throw new Error("too late; already running");return n}function on(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function DE(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=Ov(i,0,n.time);function i(d){n.state=hp,n.timer.restart(o,n.delay,n.time),n.delay<=d&&o(d-n.delay)}function o(d){var f,h,m,y;if(n.state!==hp)return u();for(f in r)if(y=r[f],y.name===n.name){if(y.state===Tl)return fp(o);y.state===pp?(y.state=bl,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete r[f]):+f<t&&(y.state=bl,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete r[f])}if(fp(function(){n.state===Tl&&(n.state=pp,n.timer.restart(c,n.delay,n.time),c(d))}),n.state=Fu,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Fu){for(n.state=Tl,s=new Array(m=n.tween.length),f=0,h=-1;f<m;++f)(y=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(s[++h]=y);s.length=h+1}}function c(d){for(var f=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(u),n.state=Ou,1),h=-1,m=s.length;++h<m;)s[h].call(e,f);n.state===Ou&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=bl,n.timer.stop(),delete r[t];for(var d in r)return;delete e.__transition}}function Ml(e,t){var n=e.__transition,r,s,i=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){i=!1;continue}s=r.state>Fu&&r.state<Ou,r.state=bl,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}i&&delete e.__transition}}function LE(e){return this.each(function(){Ml(this,e)})}function FE(e,t){var n,r;return function(){var s=xn(this,e),i=s.tween;if(i!==n){r=n=i;for(var o=0,c=r.length;o<c;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}s.tween=r}}function OE(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var i=xn(this,e),o=i.tween;if(o!==r){s=(r=o).slice();for(var c={name:t,value:n},u=0,d=s.length;u<d;++u)if(s[u].name===t){s[u]=c;break}u===d&&s.push(c)}i.tween=s}}function VE(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=on(this.node(),n).tween,s=0,i=r.length,o;s<i;++s)if((o=r[s]).name===e)return o.value;return null}return this.each((t==null?FE:OE)(n,e,t))}function Gd(e,t,n){var r=e._id;return e.each(function(){var s=xn(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return on(s,r).value[t]}}function Bv(e,t){var n;return(typeof t=="number"?qn:t instanceof so?ap:(n=so(t))?(t=n,ap):SE)(e,t)}function BE(e){return function(){this.removeAttribute(e)}}function HE(e){return function(){this.removeAttributeNS(e.space,e.local)}}function UE(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttribute(e);return o===s?null:o===r?i:i=t(r=o,n)}}function WE(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===r?i:i=t(r=o,n)}}function XE(e,t,n){var r,s,i;return function(){var o,c=n(this),u;return c==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=c+"",o===u?null:o===r&&u===s?i:(s=u,i=t(r=o,c)))}}function QE(e,t,n){var r,s,i;return function(){var o,c=n(this),u;return c==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=c+"",o===u?null:o===r&&u===s?i:(s=u,i=t(r=o,c)))}}function YE(e,t){var n=Ma(e),r=n==="transform"?CE:Bv;return this.attrTween(e,typeof t=="function"?(n.local?QE:XE)(n,r,Gd(this,"attr."+e,t)):t==null?(n.local?HE:BE)(n):(n.local?WE:UE)(n,r,t))}function GE(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function KE(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function ZE(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&KE(e,i)),n}return s._value=t,s}function qE(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&GE(e,i)),n}return s._value=t,s}function JE(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Ma(e);return this.tween(n,(r.local?ZE:qE)(r,t))}function ej(e,t){return function(){Yd(this,e).delay=+t.apply(this,arguments)}}function tj(e,t){return t=+t,function(){Yd(this,e).delay=t}}function nj(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ej:tj)(t,e)):on(this.node(),t).delay}function rj(e,t){return function(){xn(this,e).duration=+t.apply(this,arguments)}}function sj(e,t){return t=+t,function(){xn(this,e).duration=t}}function ij(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?rj:sj)(t,e)):on(this.node(),t).duration}function oj(e,t){if(typeof t!="function")throw new Error;return function(){xn(this,e).ease=t}}function lj(e){var t=this._id;return arguments.length?this.each(oj(t,e)):on(this.node(),t).ease}function aj(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;xn(this,e).ease=n}}function cj(e){if(typeof e!="function")throw new Error;return this.each(aj(this._id,e))}function uj(e){typeof e!="function"&&(e=wv(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,c=r[s]=[],u,d=0;d<o;++d)(u=i[d])&&e.call(u,u.__data__,d,i)&&c.push(u);return new zn(r,this._parents,this._name,this._id)}function dj(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,i=Math.min(r,s),o=new Array(r),c=0;c<i;++c)for(var u=t[c],d=n[c],f=u.length,h=o[c]=new Array(f),m,y=0;y<f;++y)(m=u[y]||d[y])&&(h[y]=m);for(;c<r;++c)o[c]=t[c];return new zn(o,this._parents,this._name,this._id)}function fj(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function hj(e,t,n){var r,s,i=fj(t)?Yd:xn;return function(){var o=i(this,e),c=o.on;c!==r&&(s=(r=c).copy()).on(t,n),o.on=s}}function pj(e,t){var n=this._id;return arguments.length<2?on(this.node(),n).on.on(e):this.each(hj(n,e,t))}function mj(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function gj(){return this.on("end.remove",mj(this._id))}function vj(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ud(e));for(var r=this._groups,s=r.length,i=new Array(s),o=0;o<s;++o)for(var c=r[o],u=c.length,d=i[o]=new Array(u),f,h,m=0;m<u;++m)(f=c[m])&&(h=e.call(f,f.__data__,m,c))&&("__data__"in f&&(h.__data__=f.__data__),d[m]=h,Ia(d[m],t,n,m,d,on(f,n)));return new zn(i,this._parents,t,n)}function yj(e){var t=this._name,n=this._id;typeof e!="function"&&(e=xv(e));for(var r=this._groups,s=r.length,i=[],o=[],c=0;c<s;++c)for(var u=r[c],d=u.length,f,h=0;h<d;++h)if(f=u[h]){for(var m=e.call(f,f.__data__,h,u),y,j=on(f,n),E=0,C=m.length;E<C;++E)(y=m[E])&&Ia(y,t,n,E,m,j);i.push(m),o.push(f)}return new zn(i,o,t,n)}var xj=mo.prototype.constructor;function wj(){return new xj(this._groups,this._parents)}function Nj(e,t){var n,r,s;return function(){var i=Qs(this,e),o=(this.style.removeProperty(e),Qs(this,e));return i===o?null:i===n&&o===r?s:s=t(n=i,r=o)}}function Hv(e){return function(){this.style.removeProperty(e)}}function Sj(e,t,n){var r,s=n+"",i;return function(){var o=Qs(this,e);return o===s?null:o===r?i:i=t(r=o,n)}}function Ej(e,t,n){var r,s,i;return function(){var o=Qs(this,e),c=n(this),u=c+"";return c==null&&(u=c=(this.style.removeProperty(e),Qs(this,e))),o===u?null:o===r&&u===s?i:(s=u,i=t(r=o,c))}}function jj(e,t){var n,r,s,i="style."+t,o="end."+i,c;return function(){var u=xn(this,e),d=u.on,f=u.value[i]==null?c||(c=Hv(t)):void 0;(d!==n||s!==f)&&(r=(n=d).copy()).on(o,s=f),u.on=r}}function kj(e,t,n){var r=(e+="")=="transform"?kE:Bv;return t==null?this.styleTween(e,Nj(e,r)).on("end.style."+e,Hv(e)):typeof t=="function"?this.styleTween(e,Ej(e,r,Gd(this,"style."+e,t))).each(jj(this._id,e)):this.styleTween(e,Sj(e,r,t),n).on("end.style."+e,null)}function Cj(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function _j(e,t,n){var r,s;function i(){var o=t.apply(this,arguments);return o!==s&&(r=(s=o)&&Cj(e,o,n)),r}return i._value=t,i}function Tj(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,_j(e,t,n??""))}function bj(e){return function(){this.textContent=e}}function Mj(e){return function(){var t=e(this);this.textContent=t??""}}function Aj(e){return this.tween("text",typeof e=="function"?Mj(Gd(this,"text",e)):bj(e==null?"":e+""))}function Ij(e){return function(t){this.textContent=e.call(this,t)}}function Rj(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&Ij(s)),t}return r._value=e,r}function Pj(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Rj(e))}function $j(){for(var e=this._name,t=this._id,n=Uv(),r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],c=o.length,u,d=0;d<c;++d)if(u=o[d]){var f=on(u,t);Ia(u,e,n,d,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new zn(r,this._parents,e,n)}function zj(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(i,o){var c={value:o},u={value:function(){--s===0&&i()}};n.each(function(){var d=xn(this,r),f=d.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(c),t._.interrupt.push(c),t._.end.push(u)),d.on=t}),s===0&&i()})}var Dj=0;function zn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Uv(){return++Dj}var jn=mo.prototype;zn.prototype={constructor:zn,select:vj,selectAll:yj,selectChild:jn.selectChild,selectChildren:jn.selectChildren,filter:uj,merge:dj,selection:wj,transition:$j,call:jn.call,nodes:jn.nodes,node:jn.node,size:jn.size,empty:jn.empty,each:jn.each,on:pj,attr:YE,attrTween:JE,style:kj,styleTween:Tj,text:Aj,textTween:Pj,remove:gj,tween:VE,delay:nj,duration:ij,ease:lj,easeVarying:cj,end:zj,[Symbol.iterator]:jn[Symbol.iterator]};function Lj(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Fj={time:null,delay:0,duration:250,ease:Lj};function Oj(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Vj(e){var t,n;e instanceof zn?(t=e._id,e=e._name):(t=Uv(),(n=Fj).time=Qd(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],c=o.length,u,d=0;d<c;++d)(u=o[d])&&Ia(u,e,t,d,o,n||Oj(u,t));return new zn(r,this._parents,e,t)}mo.prototype.interrupt=LE;mo.prototype.transition=Vj;const ll=e=>()=>e;function Bj(e,{sourceEvent:t,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function bn(e,t,n){this.k=e,this.x=t,this.y=n}bn.prototype={constructor:bn,scale:function(e){return e===1?this:new bn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new bn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var An=new bn(1,0,0);bn.prototype;function Tc(e){e.stopImmediatePropagation()}function gi(e){e.preventDefault(),e.stopImmediatePropagation()}function Hj(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Uj(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function mp(){return this.__zoom||An}function Wj(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Xj(){return navigator.maxTouchPoints||"ontouchstart"in this}function Qj(e,t,n){var r=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function Wv(){var e=Hj,t=Uj,n=Qj,r=Wj,s=Xj,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],c=250,u=ME,d=ba("start","zoom","end"),f,h,m,y=500,j=150,E=0,C=10;function g(S){S.property("__zoom",mp).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",F).filter(s).on("touchstart.zoom",H).on("touchmove.zoom",X).on("touchend.zoom touchcancel.zoom",W).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(S,$,M,B){var A=S.selection?S.selection():S;A.property("__zoom",mp),S!==A?T(S,$,M,B):A.interrupt().each(function(){b(this,arguments).event(B).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},g.scaleBy=function(S,$,M,B){g.scaleTo(S,function(){var A=this.__zoom.k,k=typeof $=="function"?$.apply(this,arguments):$;return A*k},M,B)},g.scaleTo=function(S,$,M,B){g.transform(S,function(){var A=t.apply(this,arguments),k=this.__zoom,I=M==null?N(A):typeof M=="function"?M.apply(this,arguments):M,L=k.invert(I),O=typeof $=="function"?$.apply(this,arguments):$;return n(x(v(k,O),I,L),A,o)},M,B)},g.translateBy=function(S,$,M,B){g.transform(S,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof M=="function"?M.apply(this,arguments):M),t.apply(this,arguments),o)},null,B)},g.translateTo=function(S,$,M,B,A){g.transform(S,function(){var k=t.apply(this,arguments),I=this.__zoom,L=B==null?N(k):typeof B=="function"?B.apply(this,arguments):B;return n(An.translate(L[0],L[1]).scale(I.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof M=="function"?-M.apply(this,arguments):-M),k,o)},B,A)};function v(S,$){return $=Math.max(i[0],Math.min(i[1],$)),$===S.k?S:new bn($,S.x,S.y)}function x(S,$,M){var B=$[0]-M[0]*S.k,A=$[1]-M[1]*S.k;return B===S.x&&A===S.y?S:new bn(S.k,B,A)}function N(S){return[(+S[0][0]+ +S[1][0])/2,(+S[0][1]+ +S[1][1])/2]}function T(S,$,M,B){S.on("start.zoom",function(){b(this,arguments).event(B).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(B).end()}).tween("zoom",function(){var A=this,k=arguments,I=b(A,k).event(B),L=t.apply(A,k),O=M==null?N(L):typeof M=="function"?M.apply(A,k):M,G=Math.max(L[1][0]-L[0][0],L[1][1]-L[0][1]),Y=A.__zoom,Z=typeof $=="function"?$.apply(A,k):$,ee=u(Y.invert(O).concat(G/Y.k),Z.invert(O).concat(G/Z.k));return function(te){if(te===1)te=Z;else{var ce=ee(te),ue=G/ce[2];te=new bn(ue,O[0]-ce[0]*ue,O[1]-ce[1]*ue)}I.zoom(null,te)}})}function b(S,$,M){return!M&&S.__zooming||new R(S,$)}function R(S,$){this.that=S,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(S,$),this.taps=0}R.prototype={event:function(S){return S&&(this.sourceEvent=S),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(S,$){return this.mouse&&S!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&S!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&S!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(S){var $=Lt(this.that).datum();d.call(S,this.that,new Bj(S,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:d}),$)}};function P(S,...$){if(!e.apply(this,arguments))return;var M=b(this,$).event(S),B=this.__zoom,A=Math.max(i[0],Math.min(i[1],B.k*Math.pow(2,r.apply(this,arguments)))),k=qt(S);if(M.wheel)(M.mouse[0][0]!==k[0]||M.mouse[0][1]!==k[1])&&(M.mouse[1]=B.invert(M.mouse[0]=k)),clearTimeout(M.wheel);else{if(B.k===A)return;M.mouse=[k,B.invert(k)],Ml(this),M.start()}gi(S),M.wheel=setTimeout(I,j),M.zoom("mouse",n(x(v(B,A),M.mouse[0],M.mouse[1]),M.extent,o));function I(){M.wheel=null,M.end()}}function D(S,...$){if(m||!e.apply(this,arguments))return;var M=S.currentTarget,B=b(this,$,!0).event(S),A=Lt(S.view).on("mousemove.zoom",O,!0).on("mouseup.zoom",G,!0),k=qt(S,M),I=S.clientX,L=S.clientY;Mv(S.view),Tc(S),B.mouse=[k,this.__zoom.invert(k)],Ml(this),B.start();function O(Y){if(gi(Y),!B.moved){var Z=Y.clientX-I,ee=Y.clientY-L;B.moved=Z*Z+ee*ee>E}B.event(Y).zoom("mouse",n(x(B.that.__zoom,B.mouse[0]=qt(Y,M),B.mouse[1]),B.extent,o))}function G(Y){A.on("mousemove.zoom mouseup.zoom",null),Av(Y.view,B.moved),gi(Y),B.event(Y).end()}}function F(S,...$){if(e.apply(this,arguments)){var M=this.__zoom,B=qt(S.changedTouches?S.changedTouches[0]:S,this),A=M.invert(B),k=M.k*(S.shiftKey?.5:2),I=n(x(v(M,k),B,A),t.apply(this,$),o);gi(S),c>0?Lt(this).transition().duration(c).call(T,I,B,S):Lt(this).call(g.transform,I,B,S)}}function H(S,...$){if(e.apply(this,arguments)){var M=S.touches,B=M.length,A=b(this,$,S.changedTouches.length===B).event(S),k,I,L,O;for(Tc(S),I=0;I<B;++I)L=M[I],O=qt(L,this),O=[O,this.__zoom.invert(O),L.identifier],A.touch0?!A.touch1&&A.touch0[2]!==O[2]&&(A.touch1=O,A.taps=0):(A.touch0=O,k=!0,A.taps=1+!!f);f&&(f=clearTimeout(f)),k&&(A.taps<2&&(h=O[0],f=setTimeout(function(){f=null},y)),Ml(this),A.start())}}function X(S,...$){if(this.__zooming){var M=b(this,$).event(S),B=S.changedTouches,A=B.length,k,I,L,O;for(gi(S),k=0;k<A;++k)I=B[k],L=qt(I,this),M.touch0&&M.touch0[2]===I.identifier?M.touch0[0]=L:M.touch1&&M.touch1[2]===I.identifier&&(M.touch1[0]=L);if(I=M.that.__zoom,M.touch1){var G=M.touch0[0],Y=M.touch0[1],Z=M.touch1[0],ee=M.touch1[1],te=(te=Z[0]-G[0])*te+(te=Z[1]-G[1])*te,ce=(ce=ee[0]-Y[0])*ce+(ce=ee[1]-Y[1])*ce;I=v(I,Math.sqrt(te/ce)),L=[(G[0]+Z[0])/2,(G[1]+Z[1])/2],O=[(Y[0]+ee[0])/2,(Y[1]+ee[1])/2]}else if(M.touch0)L=M.touch0[0],O=M.touch0[1];else return;M.zoom("touch",n(x(I,L,O),M.extent,o))}}function W(S,...$){if(this.__zooming){var M=b(this,$).event(S),B=S.changedTouches,A=B.length,k,I;for(Tc(S),m&&clearTimeout(m),m=setTimeout(function(){m=null},y),k=0;k<A;++k)I=B[k],M.touch0&&M.touch0[2]===I.identifier?delete M.touch0:M.touch1&&M.touch1[2]===I.identifier&&delete M.touch1;if(M.touch1&&!M.touch0&&(M.touch0=M.touch1,delete M.touch1),M.touch0)M.touch0[1]=this.__zoom.invert(M.touch0[0]);else if(M.end(),M.taps===2&&(I=qt(I,this),Math.hypot(h[0]-I[0],h[1]-I[1])<C)){var L=Lt(this).on("dblclick.zoom");L&&L.apply(this,arguments)}}}return g.wheelDelta=function(S){return arguments.length?(r=typeof S=="function"?S:ll(+S),g):r},g.filter=function(S){return arguments.length?(e=typeof S=="function"?S:ll(!!S),g):e},g.touchable=function(S){return arguments.length?(s=typeof S=="function"?S:ll(!!S),g):s},g.extent=function(S){return arguments.length?(t=typeof S=="function"?S:ll([[+S[0][0],+S[0][1]],[+S[1][0],+S[1][1]]]),g):t},g.scaleExtent=function(S){return arguments.length?(i[0]=+S[0],i[1]=+S[1],g):[i[0],i[1]]},g.translateExtent=function(S){return arguments.length?(o[0][0]=+S[0][0],o[1][0]=+S[1][0],o[0][1]=+S[0][1],o[1][1]=+S[1][1],g):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},g.constrain=function(S){return arguments.length?(n=S,g):n},g.duration=function(S){return arguments.length?(c=+S,g):c},g.interpolate=function(S){return arguments.length?(u=S,g):u},g.on=function(){var S=d.on.apply(d,arguments);return S===d?g:S},g.clickDistance=function(S){return arguments.length?(E=(S=+S)*S,g):Math.sqrt(E)},g.tapDistance=function(S){return arguments.length?(C=+S,g):C},g}const Ra=w.createContext(null),Yj=Ra.Provider,Dn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Xv=Dn.error001();function ve(e,t){const n=w.useContext(Ra);if(n===null)throw new Error(Xv);return vv(n,e,t)}const Fe=()=>{const e=w.useContext(Ra);if(e===null)throw new Error(Xv);return w.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},Gj=e=>e.userSelectionActive?"none":"all";function Kd({position:e,children:t,className:n,style:r,...s}){const i=ve(Gj),o=`${e}`.split("-");return z.createElement("div",{className:Ke(["react-flow__panel",n,...o]),style:{...r,pointerEvents:i},...s},t)}function Kj({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:z.createElement(Kd,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},z.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const Zj=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:s=!0,labelBgStyle:i={},labelBgPadding:o=[2,4],labelBgBorderRadius:c=2,children:u,className:d,...f})=>{const h=w.useRef(null),[m,y]=w.useState({x:0,y:0,width:0,height:0}),j=Ke(["react-flow__edge-textwrapper",d]);return w.useEffect(()=>{if(h.current){const E=h.current.getBBox();y({x:E.x,y:E.y,width:E.width,height:E.height})}},[n]),typeof n>"u"||!n?null:z.createElement("g",{transform:`translate(${e-m.width/2} ${t-m.height/2})`,className:j,visibility:m.width?"visible":"hidden",...f},s&&z.createElement("rect",{width:m.width+2*o[0],x:-o[0],y:-o[1],height:m.height+2*o[1],className:"react-flow__edge-textbg",style:i,rx:c,ry:c}),z.createElement("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:h,style:r},n),u)};var qj=w.memo(Zj);const Zd=e=>({width:e.offsetWidth,height:e.offsetHeight}),Gs=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),qd=(e={x:0,y:0},t)=>({x:Gs(e.x,t[0][0],t[1][0]),y:Gs(e.y,t[0][1],t[1][1])}),gp=(e,t,n)=>e<t?Gs(Math.abs(e-t),1,50)/50:e>n?-Gs(Math.abs(e-n),1,50)/50:0,Qv=(e,t)=>{const n=gp(e.x,35,t.width-35)*20,r=gp(e.y,35,t.height-35)*20;return[n,r]},Yv=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Gv=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),oo=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Kv=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),vp=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Jj=(e,t)=>Kv(Gv(oo(e),oo(t))),Vu=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},ek=e=>Ot(e.width)&&Ot(e.height)&&Ot(e.x)&&Ot(e.y),Ot=e=>!isNaN(e)&&isFinite(e),be=Symbol.for("internals"),Zv=["Enter"," ","Escape"],tk=(e,t)=>{},nk=e=>"nativeEvent"in e;function Bu(e){var s,i;const t=nk(e)?e.nativeEvent:e,n=((i=(s=t.composedPath)==null?void 0:s.call(t))==null?void 0:i[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const qv=e=>"clientX"in e,hr=(e,t)=>{var i,o;const n=qv(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,s=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},aa=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},vo=({id:e,path:t,labelX:n,labelY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:m,interactionWidth:y=20})=>z.createElement(z.Fragment,null,z.createElement("path",{id:e,style:f,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:h,markerStart:m}),y&&z.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:y,className:"react-flow__edge-interaction"}),s&&Ot(n)&&Ot(r)?z.createElement(qj,{x:n,y:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d}):null);vo.displayName="BaseEdge";function vi(e,t,n){return n===void 0?n:r=>{const s=t().edges.find(i=>i.id===e);s&&n(r,{...s})}}function Jv({sourceX:e,sourceY:t,targetX:n,targetY:r}){const s=Math.abs(n-e)/2,i=n<e?n+s:n-s,o=Math.abs(r-t)/2,c=r<t?r+o:r-o;return[i,c,s,o]}function ey({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:s,sourceControlY:i,targetControlX:o,targetControlY:c}){const u=e*.125+s*.375+o*.375+n*.125,d=t*.125+i*.375+c*.375+r*.125,f=Math.abs(u-e),h=Math.abs(d-t);return[u,d,f,h]}var qr;(function(e){e.Strict="strict",e.Loose="loose"})(qr||(qr={}));var Or;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Or||(Or={}));var lo;(function(e){e.Partial="partial",e.Full="full"})(lo||(lo={}));var nr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(nr||(nr={}));var ca;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(ca||(ca={}));var q;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(q||(q={}));function yp({pos:e,x1:t,y1:n,x2:r,y2:s}){return e===q.Left||e===q.Right?[.5*(t+r),n]:[t,.5*(n+s)]}function ty({sourceX:e,sourceY:t,sourcePosition:n=q.Bottom,targetX:r,targetY:s,targetPosition:i=q.Top}){const[o,c]=yp({pos:n,x1:e,y1:t,x2:r,y2:s}),[u,d]=yp({pos:i,x1:r,y1:s,x2:e,y2:t}),[f,h,m,y]=ey({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:o,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${o},${c} ${u},${d} ${r},${s}`,f,h,m,y]}const Jd=w.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:s=q.Bottom,targetPosition:i=q.Top,label:o,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:m,markerEnd:y,markerStart:j,interactionWidth:E})=>{const[C,g,v]=ty({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:r,targetPosition:i});return z.createElement(vo,{path:C,labelX:g,labelY:v,label:o,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:m,markerEnd:y,markerStart:j,interactionWidth:E})});Jd.displayName="SimpleBezierEdge";const xp={[q.Left]:{x:-1,y:0},[q.Right]:{x:1,y:0},[q.Top]:{x:0,y:-1},[q.Bottom]:{x:0,y:1}},rk=({source:e,sourcePosition:t=q.Bottom,target:n})=>t===q.Left||t===q.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},wp=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function sk({source:e,sourcePosition:t=q.Bottom,target:n,targetPosition:r=q.Top,center:s,offset:i}){const o=xp[t],c=xp[r],u={x:e.x+o.x*i,y:e.y+o.y*i},d={x:n.x+c.x*i,y:n.y+c.y*i},f=rk({source:u,sourcePosition:t,target:d}),h=f.x!==0?"x":"y",m=f[h];let y=[],j,E;const C={x:0,y:0},g={x:0,y:0},[v,x,N,T]=Jv({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[h]*c[h]===-1){j=s.x??v,E=s.y??x;const R=[{x:j,y:u.y},{x:j,y:d.y}],P=[{x:u.x,y:E},{x:d.x,y:E}];o[h]===m?y=h==="x"?R:P:y=h==="x"?P:R}else{const R=[{x:u.x,y:d.y}],P=[{x:d.x,y:u.y}];if(h==="x"?y=o.x===m?P:R:y=o.y===m?R:P,t===r){const W=Math.abs(e[h]-n[h]);if(W<=i){const S=Math.min(i-1,i-W);o[h]===m?C[h]=(u[h]>e[h]?-1:1)*S:g[h]=(d[h]>n[h]?-1:1)*S}}if(t!==r){const W=h==="x"?"y":"x",S=o[h]===c[W],$=u[W]>d[W],M=u[W]<d[W];(o[h]===1&&(!S&&$||S&&M)||o[h]!==1&&(!S&&M||S&&$))&&(y=h==="x"?R:P)}const D={x:u.x+C.x,y:u.y+C.y},F={x:d.x+g.x,y:d.y+g.y},H=Math.max(Math.abs(D.x-y[0].x),Math.abs(F.x-y[0].x)),X=Math.max(Math.abs(D.y-y[0].y),Math.abs(F.y-y[0].y));H>=X?(j=(D.x+F.x)/2,E=y[0].y):(j=y[0].x,E=(D.y+F.y)/2)}return[[e,{x:u.x+C.x,y:u.y+C.y},...y,{x:d.x+g.x,y:d.y+g.y},n],j,E,N,T]}function ik(e,t,n,r){const s=Math.min(wp(e,t)/2,wp(t,n)/2,r),{x:i,y:o}=t;if(e.x===i&&i===n.x||e.y===o&&o===n.y)return`L${i} ${o}`;if(e.y===o){const d=e.x<n.x?-1:1,f=e.y<n.y?1:-1;return`L ${i+s*d},${o}Q ${i},${o} ${i},${o+s*f}`}const c=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${i},${o+s*u}Q ${i},${o} ${i+s*c},${o}`}function Hu({sourceX:e,sourceY:t,sourcePosition:n=q.Bottom,targetX:r,targetY:s,targetPosition:i=q.Top,borderRadius:o=5,centerX:c,centerY:u,offset:d=20}){const[f,h,m,y,j]=sk({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:s},targetPosition:i,center:{x:c,y:u},offset:d});return[f.reduce((C,g,v)=>{let x="";return v>0&&v<f.length-1?x=ik(f[v-1],g,f[v+1],o):x=`${v===0?"M":"L"}${g.x} ${g.y}`,C+=x,C},""),h,m,y,j]}const Pa=w.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,sourcePosition:h=q.Bottom,targetPosition:m=q.Top,markerEnd:y,markerStart:j,pathOptions:E,interactionWidth:C})=>{const[g,v,x]=Hu({sourceX:e,sourceY:t,sourcePosition:h,targetX:n,targetY:r,targetPosition:m,borderRadius:E==null?void 0:E.borderRadius,offset:E==null?void 0:E.offset});return z.createElement(vo,{path:g,labelX:v,labelY:x,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:y,markerStart:j,interactionWidth:C})});Pa.displayName="SmoothStepEdge";const ef=w.memo(e=>{var t;return z.createElement(Pa,{...e,pathOptions:w.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});ef.displayName="StepEdge";function ok({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[s,i,o,c]=Jv({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,s,i,o,c]}const tf=w.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:m,interactionWidth:y})=>{const[j,E,C]=ok({sourceX:e,sourceY:t,targetX:n,targetY:r});return z.createElement(vo,{path:j,labelX:E,labelY:C,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:m,interactionWidth:y})});tf.displayName="StraightEdge";function al(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Np({pos:e,x1:t,y1:n,x2:r,y2:s,c:i}){switch(e){case q.Left:return[t-al(t-r,i),n];case q.Right:return[t+al(r-t,i),n];case q.Top:return[t,n-al(n-s,i)];case q.Bottom:return[t,n+al(s-n,i)]}}function ny({sourceX:e,sourceY:t,sourcePosition:n=q.Bottom,targetX:r,targetY:s,targetPosition:i=q.Top,curvature:o=.25}){const[c,u]=Np({pos:n,x1:e,y1:t,x2:r,y2:s,c:o}),[d,f]=Np({pos:i,x1:r,y1:s,x2:e,y2:t,c:o}),[h,m,y,j]=ey({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:c,sourceControlY:u,targetControlX:d,targetControlY:f});return[`M${e},${t} C${c},${u} ${d},${f} ${r},${s}`,h,m,y,j]}const ua=w.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:s=q.Bottom,targetPosition:i=q.Top,label:o,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:m,markerEnd:y,markerStart:j,pathOptions:E,interactionWidth:C})=>{const[g,v,x]=ny({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:r,targetPosition:i,curvature:E==null?void 0:E.curvature});return z.createElement(vo,{path:g,labelX:v,labelY:x,label:o,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:m,markerEnd:y,markerStart:j,interactionWidth:C})});ua.displayName="BezierEdge";const nf=w.createContext(null),lk=nf.Provider;nf.Consumer;const ak=()=>w.useContext(nf),ck=e=>"id"in e&&"source"in e&&"target"in e,uk=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,Uu=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,dk=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),ry=(e,t)=>{if(!e.source||!e.target)return t;let n;return ck(e)?n={...e}:n={...e,id:uk(e)},dk(n,t)?t:t.concat(n)},Wu=({x:e,y:t},[n,r,s],i,[o,c])=>{const u={x:(e-n)/s,y:(t-r)/s};return i?{x:o*Math.round(u.x/o),y:c*Math.round(u.y/c)}:u},sy=({x:e,y:t},[n,r,s])=>({x:e*s+n,y:t*s+r}),Ur=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],s={x:e.position.x-n,y:e.position.y-r};return{...s,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:s}},$a=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,s)=>{const{x:i,y:o}=Ur(s,t).positionAbsolute;return Gv(r,oo({x:i,y:o,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Kv(n)},iy=(e,t,[n,r,s]=[0,0,1],i=!1,o=!1,c=[0,0])=>{const u={x:(t.x-n)/s,y:(t.y-r)/s,width:t.width/s,height:t.height/s},d=[];return e.forEach(f=>{const{width:h,height:m,selectable:y=!0,hidden:j=!1}=f;if(o&&!y||j)return!1;const{positionAbsolute:E}=Ur(f,c),C={x:E.x,y:E.y,width:h||0,height:m||0},g=Vu(u,C),v=typeof h>"u"||typeof m>"u"||h===null||m===null,x=i&&g>0,N=(h||0)*(m||0);(v||x||g>=N||f.dragging)&&d.push(f)}),d},oy=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},ly=(e,t,n,r,s,i=.1)=>{const o=t/(e.width*(1+i)),c=n/(e.height*(1+i)),u=Math.min(o,c),d=Gs(u,r,s),f=e.x+e.width/2,h=e.y+e.height/2,m=t/2-f*d,y=n/2-h*d;return{x:m,y,zoom:d}},$r=(e,t=0)=>e.transition().duration(t);function Sp(e,t,n,r){return(t[n]||[]).reduce((s,i)=>{var o,c;return`${e.id}-${i.id}-${n}`!==r&&s.push({id:i.id||null,type:n,nodeId:e.id,x:(((o=e.positionAbsolute)==null?void 0:o.x)??0)+i.x+i.width/2,y:(((c=e.positionAbsolute)==null?void 0:c.y)??0)+i.y+i.height/2}),s},[])}function fk(e,t,n,r,s,i){const{x:o,y:c}=hr(e),d=t.elementsFromPoint(o,c).find(j=>j.classList.contains("react-flow__handle"));if(d){const j=d.getAttribute("data-nodeid");if(j){const E=rf(void 0,d),C=d.getAttribute("data-handleid"),g=i({nodeId:j,id:C,type:E});if(g){const v=s.find(x=>x.nodeId===j&&x.type===E&&x.id===C);return{handle:{id:C,type:E,nodeId:j,x:(v==null?void 0:v.x)||n.x,y:(v==null?void 0:v.y)||n.y},validHandleResult:g}}}}let f=[],h=1/0;if(s.forEach(j=>{const E=Math.sqrt((j.x-n.x)**2+(j.y-n.y)**2);if(E<=r){const C=i(j);E<=h&&(E<h?f=[{handle:j,validHandleResult:C}]:E===h&&f.push({handle:j,validHandleResult:C}),h=E)}}),!f.length)return{handle:null,validHandleResult:ay()};if(f.length===1)return f[0];const m=f.some(({validHandleResult:j})=>j.isValid),y=f.some(({handle:j})=>j.type==="target");return f.find(({handle:j,validHandleResult:E})=>y?j.type==="target":m?E.isValid:!0)||f[0]}const hk={source:null,target:null,sourceHandle:null,targetHandle:null},ay=()=>({handleDomNode:null,isValid:!1,connection:hk,endHandle:null});function cy(e,t,n,r,s,i,o){const c=s==="target",u=o.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),d={...ay(),handleDomNode:u};if(u){const f=rf(void 0,u),h=u.getAttribute("data-nodeid"),m=u.getAttribute("data-handleid"),y=u.classList.contains("connectable"),j=u.classList.contains("connectableend"),E={source:c?h:n,sourceHandle:c?m:r,target:c?n:h,targetHandle:c?r:m};d.connection=E,y&&j&&(t===qr.Strict?c&&f==="source"||!c&&f==="target":h!==n||m!==r)&&(d.endHandle={nodeId:h,handleId:m,type:f},d.isValid=i(E))}return d}function pk({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((s,i)=>{if(i[be]){const{handleBounds:o}=i[be];let c=[],u=[];o&&(c=Sp(i,o,"source",`${t}-${n}-${r}`),u=Sp(i,o,"target",`${t}-${n}-${r}`)),s.push(...c,...u)}return s},[])}function rf(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function bc(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function mk(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function uy({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:s,getState:i,setState:o,isValidConnection:c,edgeUpdaterType:u,onReconnectEnd:d}){const f=Yv(e.target),{connectionMode:h,domNode:m,autoPanOnConnect:y,connectionRadius:j,onConnectStart:E,panBy:C,getNodes:g,cancelConnection:v}=i();let x=0,N;const{x:T,y:b}=hr(e),R=f==null?void 0:f.elementFromPoint(T,b),P=rf(u,R),D=m==null?void 0:m.getBoundingClientRect();if(!D||!P)return;let F,H=hr(e,D),X=!1,W=null,S=!1,$=null;const M=pk({nodes:g(),nodeId:n,handleId:t,handleType:P}),B=()=>{if(!y)return;const[I,L]=Qv(H,D);C({x:I,y:L}),x=requestAnimationFrame(B)};o({connectionPosition:H,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:P,connectionStartHandle:{nodeId:n,handleId:t,type:P},connectionEndHandle:null}),E==null||E(e,{nodeId:n,handleId:t,handleType:P});function A(I){const{transform:L}=i();H=hr(I,D);const{handle:O,validHandleResult:G}=fk(I,f,Wu(H,L,!1,[1,1]),j,M,Y=>cy(Y,h,n,t,s?"target":"source",c,f));if(N=O,X||(B(),X=!0),$=G.handleDomNode,W=G.connection,S=G.isValid,o({connectionPosition:N&&S?sy({x:N.x,y:N.y},L):H,connectionStatus:mk(!!N,S),connectionEndHandle:G.endHandle}),!N&&!S&&!$)return bc(F);W.source!==W.target&&$&&(bc(F),F=$,$.classList.add("connecting","react-flow__handle-connecting"),$.classList.toggle("valid",S),$.classList.toggle("react-flow__handle-valid",S))}function k(I){var L,O;(N||$)&&W&&S&&(r==null||r(W)),(O=(L=i()).onConnectEnd)==null||O.call(L,I),u&&(d==null||d(I)),bc(F),v(),cancelAnimationFrame(x),X=!1,S=!1,W=null,$=null,f.removeEventListener("mousemove",A),f.removeEventListener("mouseup",k),f.removeEventListener("touchmove",A),f.removeEventListener("touchend",k)}f.addEventListener("mousemove",A),f.addEventListener("mouseup",k),f.addEventListener("touchmove",A),f.addEventListener("touchend",k)}const Ep=()=>!0,gk=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),vk=(e,t,n)=>r=>{const{connectionStartHandle:s,connectionEndHandle:i,connectionClickStartHandle:o}=r;return{connecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n||(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n}},dy=w.forwardRef(({type:e="source",position:t=q.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:o,onConnect:c,children:u,className:d,onMouseDown:f,onTouchStart:h,...m},y)=>{var D,F;const j=o||null,E=e==="target",C=Fe(),g=ak(),{connectOnClick:v,noPanClassName:x}=ve(gk,Ue),{connecting:N,clickConnecting:T}=ve(vk(g,j,e),Ue);g||(F=(D=C.getState()).onError)==null||F.call(D,"010",Dn.error010());const b=H=>{const{defaultEdgeOptions:X,onConnect:W,hasDefaultEdges:S}=C.getState(),$={...X,...H};if(S){const{edges:M,setEdges:B}=C.getState();B(ry($,M))}W==null||W($),c==null||c($)},R=H=>{if(!g)return;const X=qv(H);s&&(X&&H.button===0||!X)&&uy({event:H,handleId:j,nodeId:g,onConnect:b,isTarget:E,getState:C.getState,setState:C.setState,isValidConnection:n||C.getState().isValidConnection||Ep}),X?f==null||f(H):h==null||h(H)},P=H=>{const{onClickConnectStart:X,onClickConnectEnd:W,connectionClickStartHandle:S,connectionMode:$,isValidConnection:M}=C.getState();if(!g||!S&&!s)return;if(!S){X==null||X(H,{nodeId:g,handleId:j,handleType:e}),C.setState({connectionClickStartHandle:{nodeId:g,type:e,handleId:j}});return}const B=Yv(H.target),A=n||M||Ep,{connection:k,isValid:I}=cy({nodeId:g,id:j,type:e},$,S.nodeId,S.handleId||null,S.type,A,B);I&&b(k),W==null||W(H),C.setState({connectionClickStartHandle:null})};return z.createElement("div",{"data-handleid":j,"data-nodeid":g,"data-handlepos":t,"data-id":`${g}-${j}-${e}`,className:Ke(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",x,d,{source:!E,target:E,connectable:r,connectablestart:s,connectableend:i,connecting:T,connectionindicator:r&&(s&&!N||i&&N)}]),onMouseDown:R,onTouchStart:R,onClick:v?P:void 0,ref:y,...m},u)});dy.displayName="Handle";var Wr=w.memo(dy);const fy=({data:e,isConnectable:t,targetPosition:n=q.Top,sourcePosition:r=q.Bottom})=>z.createElement(z.Fragment,null,z.createElement(Wr,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,z.createElement(Wr,{type:"source",position:r,isConnectable:t}));fy.displayName="DefaultNode";var Xu=w.memo(fy);const hy=({data:e,isConnectable:t,sourcePosition:n=q.Bottom})=>z.createElement(z.Fragment,null,e==null?void 0:e.label,z.createElement(Wr,{type:"source",position:n,isConnectable:t}));hy.displayName="InputNode";var py=w.memo(hy);const my=({data:e,isConnectable:t,targetPosition:n=q.Top})=>z.createElement(z.Fragment,null,z.createElement(Wr,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);my.displayName="OutputNode";var gy=w.memo(my);const sf=()=>null;sf.displayName="GroupNode";const yk=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),cl=e=>e.id;function xk(e,t){return Ue(e.selectedNodes.map(cl),t.selectedNodes.map(cl))&&Ue(e.selectedEdges.map(cl),t.selectedEdges.map(cl))}const vy=w.memo(({onSelectionChange:e})=>{const t=Fe(),{selectedNodes:n,selectedEdges:r}=ve(yk,xk);return w.useEffect(()=>{const s={nodes:n,edges:r};e==null||e(s),t.getState().onSelectionChange.forEach(i=>i(s))},[n,r,e]),null});vy.displayName="SelectionListener";const wk=e=>!!e.onSelectionChange;function Nk({onSelectionChange:e}){const t=ve(wk);return e||t?z.createElement(vy,{onSelectionChange:e}):null}const Sk=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function fs(e,t){w.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function ie(e,t,n){w.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const Ek=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:s,onConnectStart:i,onConnectEnd:o,onClickConnectStart:c,onClickConnectEnd:u,nodesDraggable:d,nodesConnectable:f,nodesFocusable:h,edgesFocusable:m,edgesUpdatable:y,elevateNodesOnSelect:j,minZoom:E,maxZoom:C,nodeExtent:g,onNodesChange:v,onEdgesChange:x,elementsSelectable:N,connectionMode:T,snapGrid:b,snapToGrid:R,translateExtent:P,connectOnClick:D,defaultEdgeOptions:F,fitView:H,fitViewOptions:X,onNodesDelete:W,onEdgesDelete:S,onNodeDrag:$,onNodeDragStart:M,onNodeDragStop:B,onSelectionDrag:A,onSelectionDragStart:k,onSelectionDragStop:I,noPanClassName:L,nodeOrigin:O,rfId:G,autoPanOnConnect:Y,autoPanOnNodeDrag:Z,onError:ee,connectionRadius:te,isValidConnection:ce,nodeDragThreshold:ue})=>{const{setNodes:se,setEdges:Ie,setDefaultNodesAndEdges:ye,setMinZoom:Re,setMaxZoom:Oe,setTranslateExtent:Se,setNodeExtent:tt,reset:fe}=ve(Sk,Ue),J=Fe();return w.useEffect(()=>{const We=r==null?void 0:r.map(Ut=>({...Ut,...F}));return ye(n,We),()=>{fe()}},[]),ie("defaultEdgeOptions",F,J.setState),ie("connectionMode",T,J.setState),ie("onConnect",s,J.setState),ie("onConnectStart",i,J.setState),ie("onConnectEnd",o,J.setState),ie("onClickConnectStart",c,J.setState),ie("onClickConnectEnd",u,J.setState),ie("nodesDraggable",d,J.setState),ie("nodesConnectable",f,J.setState),ie("nodesFocusable",h,J.setState),ie("edgesFocusable",m,J.setState),ie("edgesUpdatable",y,J.setState),ie("elementsSelectable",N,J.setState),ie("elevateNodesOnSelect",j,J.setState),ie("snapToGrid",R,J.setState),ie("snapGrid",b,J.setState),ie("onNodesChange",v,J.setState),ie("onEdgesChange",x,J.setState),ie("connectOnClick",D,J.setState),ie("fitViewOnInit",H,J.setState),ie("fitViewOnInitOptions",X,J.setState),ie("onNodesDelete",W,J.setState),ie("onEdgesDelete",S,J.setState),ie("onNodeDrag",$,J.setState),ie("onNodeDragStart",M,J.setState),ie("onNodeDragStop",B,J.setState),ie("onSelectionDrag",A,J.setState),ie("onSelectionDragStart",k,J.setState),ie("onSelectionDragStop",I,J.setState),ie("noPanClassName",L,J.setState),ie("nodeOrigin",O,J.setState),ie("rfId",G,J.setState),ie("autoPanOnConnect",Y,J.setState),ie("autoPanOnNodeDrag",Z,J.setState),ie("onError",ee,J.setState),ie("connectionRadius",te,J.setState),ie("isValidConnection",ce,J.setState),ie("nodeDragThreshold",ue,J.setState),fs(e,se),fs(t,Ie),fs(E,Re),fs(C,Oe),fs(P,Se),fs(g,tt),null},jp={display:"none"},jk={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},yy="react-flow__node-desc",xy="react-flow__edge-desc",kk="react-flow__aria-live",Ck=e=>e.ariaLiveMessage;function _k({rfId:e}){const t=ve(Ck);return z.createElement("div",{id:`${kk}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:jk},t)}function Tk({rfId:e,disableKeyboardA11y:t}){return z.createElement(z.Fragment,null,z.createElement("div",{id:`${yy}-${e}`,style:jp},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),z.createElement("div",{id:`${xy}-${e}`,style:jp},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&z.createElement(_k,{rfId:e}))}var ao=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=w.useState(!1),s=w.useRef(!1),i=w.useRef(new Set([])),[o,c]=w.useMemo(()=>{if(e!==null){const d=(Array.isArray(e)?e:[e]).filter(h=>typeof h=="string").map(h=>h.split("+")),f=d.reduce((h,m)=>h.concat(...m),[]);return[d,f]}return[[],[]]},[e]);return w.useEffect(()=>{const u=typeof document<"u"?document:null,d=(t==null?void 0:t.target)||u;if(e!==null){const f=y=>{if(s.current=y.ctrlKey||y.metaKey||y.shiftKey,(!s.current||s.current&&!t.actInsideInputWithModifier)&&Bu(y))return!1;const E=Cp(y.code,c);i.current.add(y[E]),kp(o,i.current,!1)&&(y.preventDefault(),r(!0))},h=y=>{if((!s.current||s.current&&!t.actInsideInputWithModifier)&&Bu(y))return!1;const E=Cp(y.code,c);kp(o,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(y[E]),y.key==="Meta"&&i.current.clear(),s.current=!1},m=()=>{i.current.clear(),r(!1)};return d==null||d.addEventListener("keydown",f),d==null||d.addEventListener("keyup",h),window.addEventListener("blur",m),()=>{d==null||d.removeEventListener("keydown",f),d==null||d.removeEventListener("keyup",h),window.removeEventListener("blur",m)}}},[e,r]),n};function kp(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(s=>t.has(s)))}function Cp(e,t){return t.includes(e)?"code":"key"}function wy(e,t,n,r){var c,u;const s=e.parentNode||e.parentId;if(!s)return n;const i=t.get(s),o=Ur(i,r);return wy(i,t,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((c=i[be])==null?void 0:c.z)??0)>(n.z??0)?((u=i[be])==null?void 0:u.z)??0:n.z??0},r)}function Ny(e,t,n){e.forEach(r=>{var i;const s=r.parentNode||r.parentId;if(s&&!e.has(s))throw new Error(`Parent node ${s} not found`);if(s||n!=null&&n[r.id]){const{x:o,y:c,z:u}=wy(r,e,{...r.position,z:((i=r[be])==null?void 0:i.z)??0},t);r.positionAbsolute={x:o,y:c},r[be].z=u,n!=null&&n[r.id]&&(r[be].isParent=!0)}})}function Mc(e,t,n,r){const s=new Map,i={},o=r?1e3:0;return e.forEach(c=>{var y;const u=(Ot(c.zIndex)?c.zIndex:0)+(c.selected?o:0),d=t.get(c.id),f={...c,positionAbsolute:{x:c.position.x,y:c.position.y}},h=c.parentNode||c.parentId;h&&(i[h]=!0);const m=(d==null?void 0:d.type)&&(d==null?void 0:d.type)!==c.type;Object.defineProperty(f,be,{enumerable:!1,value:{handleBounds:m||(y=d==null?void 0:d[be])==null?void 0:y.handleBounds,z:u}}),s.set(c.id,f)}),Ny(s,n,i),s}function Sy(e,t={}){const{getNodes:n,width:r,height:s,minZoom:i,maxZoom:o,d3Zoom:c,d3Selection:u,fitViewOnInitDone:d,fitViewOnInit:f,nodeOrigin:h}=e(),m=t.initial&&!d&&f;if(c&&u&&(m||!t.initial)){const j=n().filter(C=>{var v;const g=t.includeHiddenNodes?C.width&&C.height:!C.hidden;return(v=t.nodes)!=null&&v.length?g&&t.nodes.some(x=>x.id===C.id):g}),E=j.every(C=>C.width&&C.height);if(j.length>0&&E){const C=$a(j,h),{x:g,y:v,zoom:x}=ly(C,r,s,t.minZoom??i,t.maxZoom??o,t.padding??.1),N=An.translate(g,v).scale(x);return typeof t.duration=="number"&&t.duration>0?c.transform($r(u,t.duration),N):c.transform(u,N),!0}}return!1}function bk(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[be]:r[be],selected:n.selected})}),new Map(t)}function Mk(e,t){return t.map(n=>{const r=e.find(s=>s.id===n.id);return r&&(n.selected=r.selected),n})}function ul({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:s,edges:i,onNodesChange:o,onEdgesChange:c,hasDefaultNodes:u,hasDefaultEdges:d}=n();e!=null&&e.length&&(u&&r({nodeInternals:bk(e,s)}),o==null||o(e)),t!=null&&t.length&&(d&&r({edges:Mk(t,i)}),c==null||c(t))}const hs=()=>{},Ak={zoomIn:hs,zoomOut:hs,zoomTo:hs,getZoom:()=>1,setViewport:hs,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:hs,fitBounds:hs,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},Ik=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),Rk=()=>{const e=Fe(),{d3Zoom:t,d3Selection:n}=ve(Ik,Ue);return w.useMemo(()=>n&&t?{zoomIn:s=>t.scaleBy($r(n,s==null?void 0:s.duration),1.2),zoomOut:s=>t.scaleBy($r(n,s==null?void 0:s.duration),1/1.2),zoomTo:(s,i)=>t.scaleTo($r(n,i==null?void 0:i.duration),s),getZoom:()=>e.getState().transform[2],setViewport:(s,i)=>{const[o,c,u]=e.getState().transform,d=An.translate(s.x??o,s.y??c).scale(s.zoom??u);t.transform($r(n,i==null?void 0:i.duration),d)},getViewport:()=>{const[s,i,o]=e.getState().transform;return{x:s,y:i,zoom:o}},fitView:s=>Sy(e.getState,s),setCenter:(s,i,o)=>{const{width:c,height:u,maxZoom:d}=e.getState(),f=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:d,h=c/2-s*f,m=u/2-i*f,y=An.translate(h,m).scale(f);t.transform($r(n,o==null?void 0:o.duration),y)},fitBounds:(s,i)=>{const{width:o,height:c,minZoom:u,maxZoom:d}=e.getState(),{x:f,y:h,zoom:m}=ly(s,o,c,u,d,(i==null?void 0:i.padding)??.1),y=An.translate(f,h).scale(m);t.transform($r(n,i==null?void 0:i.duration),y)},project:s=>{const{transform:i,snapToGrid:o,snapGrid:c}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Wu(s,i,o,c)},screenToFlowPosition:s=>{const{transform:i,snapToGrid:o,snapGrid:c,domNode:u}=e.getState();if(!u)return s;const{x:d,y:f}=u.getBoundingClientRect(),h={x:s.x-d,y:s.y-f};return Wu(h,i,o,c)},flowToScreenPosition:s=>{const{transform:i,domNode:o}=e.getState();if(!o)return s;const{x:c,y:u}=o.getBoundingClientRect(),d=sy(s,i);return{x:d.x+c,y:d.y+u}},viewportInitialized:!0}:Ak,[t,n])};function of(){const e=Rk(),t=Fe(),n=w.useCallback(()=>t.getState().getNodes().map(E=>({...E})),[]),r=w.useCallback(E=>t.getState().nodeInternals.get(E),[]),s=w.useCallback(()=>{const{edges:E=[]}=t.getState();return E.map(C=>({...C}))},[]),i=w.useCallback(E=>{const{edges:C=[]}=t.getState();return C.find(g=>g.id===E)},[]),o=w.useCallback(E=>{const{getNodes:C,setNodes:g,hasDefaultNodes:v,onNodesChange:x}=t.getState(),N=C(),T=typeof E=="function"?E(N):E;if(v)g(T);else if(x){const b=T.length===0?N.map(R=>({type:"remove",id:R.id})):T.map(R=>({item:R,type:"reset"}));x(b)}},[]),c=w.useCallback(E=>{const{edges:C=[],setEdges:g,hasDefaultEdges:v,onEdgesChange:x}=t.getState(),N=typeof E=="function"?E(C):E;if(v)g(N);else if(x){const T=N.length===0?C.map(b=>({type:"remove",id:b.id})):N.map(b=>({item:b,type:"reset"}));x(T)}},[]),u=w.useCallback(E=>{const C=Array.isArray(E)?E:[E],{getNodes:g,setNodes:v,hasDefaultNodes:x,onNodesChange:N}=t.getState();if(x){const b=[...g(),...C];v(b)}else if(N){const T=C.map(b=>({item:b,type:"add"}));N(T)}},[]),d=w.useCallback(E=>{const C=Array.isArray(E)?E:[E],{edges:g=[],setEdges:v,hasDefaultEdges:x,onEdgesChange:N}=t.getState();if(x)v([...g,...C]);else if(N){const T=C.map(b=>({item:b,type:"add"}));N(T)}},[]),f=w.useCallback(()=>{const{getNodes:E,edges:C=[],transform:g}=t.getState(),[v,x,N]=g;return{nodes:E().map(T=>({...T})),edges:C.map(T=>({...T})),viewport:{x:v,y:x,zoom:N}}},[]),h=w.useCallback(({nodes:E,edges:C})=>{const{nodeInternals:g,getNodes:v,edges:x,hasDefaultNodes:N,hasDefaultEdges:T,onNodesDelete:b,onEdgesDelete:R,onNodesChange:P,onEdgesChange:D}=t.getState(),F=(E||[]).map($=>$.id),H=(C||[]).map($=>$.id),X=v().reduce(($,M)=>{const B=M.parentNode||M.parentId,A=!F.includes(M.id)&&B&&$.find(I=>I.id===B);return(typeof M.deletable=="boolean"?M.deletable:!0)&&(F.includes(M.id)||A)&&$.push(M),$},[]),W=x.filter($=>typeof $.deletable=="boolean"?$.deletable:!0),S=W.filter($=>H.includes($.id));if(X||S){const $=oy(X,W),M=[...S,...$],B=M.reduce((A,k)=>(A.includes(k.id)||A.push(k.id),A),[]);if((T||N)&&(T&&t.setState({edges:x.filter(A=>!B.includes(A.id))}),N&&(X.forEach(A=>{g.delete(A.id)}),t.setState({nodeInternals:new Map(g)}))),B.length>0&&(R==null||R(M),D&&D(B.map(A=>({id:A,type:"remove"})))),X.length>0&&(b==null||b(X),P)){const A=X.map(k=>({id:k.id,type:"remove"}));P(A)}}},[]),m=w.useCallback(E=>{const C=ek(E),g=C?null:t.getState().nodeInternals.get(E.id);return!C&&!g?[null,null,C]:[C?E:vp(g),g,C]},[]),y=w.useCallback((E,C=!0,g)=>{const[v,x,N]=m(E);return v?(g||t.getState().getNodes()).filter(T=>{if(!N&&(T.id===x.id||!T.positionAbsolute))return!1;const b=vp(T),R=Vu(b,v);return C&&R>0||R>=v.width*v.height}):[]},[]),j=w.useCallback((E,C,g=!0)=>{const[v]=m(E);if(!v)return!1;const x=Vu(v,C);return g&&x>0||x>=v.width*v.height},[]);return w.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:s,getEdge:i,setNodes:o,setEdges:c,addNodes:u,addEdges:d,toObject:f,deleteElements:h,getIntersectingNodes:y,isNodeIntersecting:j}),[e,n,r,s,i,o,c,u,d,f,h,y,j])}const Pk={actInsideInputWithModifier:!1};var $k=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Fe(),{deleteElements:r}=of(),s=ao(e,Pk),i=ao(t);w.useEffect(()=>{if(s){const{edges:o,getNodes:c}=n.getState(),u=c().filter(f=>f.selected),d=o.filter(f=>f.selected);r({nodes:u,edges:d}),n.setState({nodesSelectionActive:!1})}},[s]),w.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function zk(e){const t=Fe();w.useEffect(()=>{let n;const r=()=>{var i,o;if(!e.current)return;const s=Zd(e.current);(s.height===0||s.width===0)&&((o=(i=t.getState()).onError)==null||o.call(i,"004",Dn.error004())),t.setState({width:s.width||500,height:s.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const lf={position:"absolute",width:"100%",height:"100%",top:0,left:0},Dk=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,dl=e=>({x:e.x,y:e.y,zoom:e.k}),ps=(e,t)=>e.target.closest(`.${t}`),_p=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Tp=e=>{const t=e.ctrlKey&&aa()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},Lk=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),Fk=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:s=!0,zoomOnPinch:i=!0,panOnScroll:o=!1,panOnScrollSpeed:c=.5,panOnScrollMode:u=Or.Free,zoomOnDoubleClick:d=!0,elementsSelectable:f,panOnDrag:h=!0,defaultViewport:m,translateExtent:y,minZoom:j,maxZoom:E,zoomActivationKeyCode:C,preventScrolling:g=!0,children:v,noWheelClassName:x,noPanClassName:N})=>{const T=w.useRef(),b=Fe(),R=w.useRef(!1),P=w.useRef(!1),D=w.useRef(null),F=w.useRef({x:0,y:0,zoom:0}),{d3Zoom:H,d3Selection:X,d3ZoomHandler:W,userSelectionActive:S}=ve(Lk,Ue),$=ao(C),M=w.useRef(0),B=w.useRef(!1),A=w.useRef();return zk(D),w.useEffect(()=>{if(D.current){const k=D.current.getBoundingClientRect(),I=Wv().scaleExtent([j,E]).translateExtent(y),L=Lt(D.current).call(I),O=An.translate(m.x,m.y).scale(Gs(m.zoom,j,E)),G=[[0,0],[k.width,k.height]],Y=I.constrain()(O,G,y);I.transform(L,Y),I.wheelDelta(Tp),b.setState({d3Zoom:I,d3Selection:L,d3ZoomHandler:L.on("wheel.zoom"),transform:[Y.x,Y.y,Y.k],domNode:D.current.closest(".react-flow")})}},[]),w.useEffect(()=>{X&&H&&(o&&!$&&!S?X.on("wheel.zoom",k=>{if(ps(k,x))return!1;k.preventDefault(),k.stopImmediatePropagation();const I=X.property("__zoom").k||1;if(k.ctrlKey&&i){const ce=qt(k),ue=Tp(k),se=I*Math.pow(2,ue);H.scaleTo(X,se,ce,k);return}const L=k.deltaMode===1?20:1;let O=u===Or.Vertical?0:k.deltaX*L,G=u===Or.Horizontal?0:k.deltaY*L;!aa()&&k.shiftKey&&u!==Or.Vertical&&(O=k.deltaY*L,G=0),H.translateBy(X,-(O/I)*c,-(G/I)*c,{internal:!0});const Y=dl(X.property("__zoom")),{onViewportChangeStart:Z,onViewportChange:ee,onViewportChangeEnd:te}=b.getState();clearTimeout(A.current),B.current||(B.current=!0,t==null||t(k,Y),Z==null||Z(Y)),B.current&&(e==null||e(k,Y),ee==null||ee(Y),A.current=setTimeout(()=>{n==null||n(k,Y),te==null||te(Y),B.current=!1},150))},{passive:!1}):typeof W<"u"&&X.on("wheel.zoom",function(k,I){if(!g&&k.type==="wheel"&&!k.ctrlKey||ps(k,x))return null;k.preventDefault(),W.call(this,k,I)},{passive:!1}))},[S,o,u,X,H,W,$,i,g,x,t,e,n]),w.useEffect(()=>{H&&H.on("start",k=>{var O,G;if(!k.sourceEvent||k.sourceEvent.internal)return null;M.current=(O=k.sourceEvent)==null?void 0:O.button;const{onViewportChangeStart:I}=b.getState(),L=dl(k.transform);R.current=!0,F.current=L,((G=k.sourceEvent)==null?void 0:G.type)==="mousedown"&&b.setState({paneDragging:!0}),I==null||I(L),t==null||t(k.sourceEvent,L)})},[H,t]),w.useEffect(()=>{H&&(S&&!R.current?H.on("zoom",null):S||H.on("zoom",k=>{var L;const{onViewportChange:I}=b.getState();if(b.setState({transform:[k.transform.x,k.transform.y,k.transform.k]}),P.current=!!(r&&_p(h,M.current??0)),(e||I)&&!((L=k.sourceEvent)!=null&&L.internal)){const O=dl(k.transform);I==null||I(O),e==null||e(k.sourceEvent,O)}}))},[S,H,e,h,r]),w.useEffect(()=>{H&&H.on("end",k=>{if(!k.sourceEvent||k.sourceEvent.internal)return null;const{onViewportChangeEnd:I}=b.getState();if(R.current=!1,b.setState({paneDragging:!1}),r&&_p(h,M.current??0)&&!P.current&&r(k.sourceEvent),P.current=!1,(n||I)&&Dk(F.current,k.transform)){const L=dl(k.transform);F.current=L,clearTimeout(T.current),T.current=setTimeout(()=>{I==null||I(L),n==null||n(k.sourceEvent,L)},o?150:0)}})},[H,o,h,n,r]),w.useEffect(()=>{H&&H.filter(k=>{const I=$||s,L=i&&k.ctrlKey;if((h===!0||Array.isArray(h)&&h.includes(1))&&k.button===1&&k.type==="mousedown"&&(ps(k,"react-flow__node")||ps(k,"react-flow__edge")))return!0;if(!h&&!I&&!o&&!d&&!i||S||!d&&k.type==="dblclick"||ps(k,x)&&k.type==="wheel"||ps(k,N)&&(k.type!=="wheel"||o&&k.type==="wheel"&&!$)||!i&&k.ctrlKey&&k.type==="wheel"||!I&&!o&&!L&&k.type==="wheel"||!h&&(k.type==="mousedown"||k.type==="touchstart")||Array.isArray(h)&&!h.includes(k.button)&&k.type==="mousedown")return!1;const O=Array.isArray(h)&&h.includes(k.button)||!k.button||k.button<=1;return(!k.ctrlKey||k.type==="wheel")&&O})},[S,H,s,i,o,d,h,f,$]),z.createElement("div",{className:"react-flow__renderer",ref:D,style:lf},v)},Ok=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Vk(){const{userSelectionActive:e,userSelectionRect:t}=ve(Ok,Ue);return e&&t?z.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function bp(e,t){const n=t.parentNode||t.parentId,r=e.find(s=>s.id===n);if(r){const s=t.position.x+t.width-r.width,i=t.position.y+t.height-r.height;if(s>0||i>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,s>0&&(r.style.width+=s),i>0&&(r.style.height+=i),t.position.x<0){const o=Math.abs(t.position.x);r.position.x=r.position.x-o,r.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);r.position.y=r.position.y-o,r.style.height+=o,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function Ey(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,s)=>{const i=e.filter(c=>c.id===s.id);if(i.length===0)return r.push(s),r;const o={...s};for(const c of i)if(c)switch(c.type){case"select":{o.selected=c.selected;break}case"position":{typeof c.position<"u"&&(o.position=c.position),typeof c.positionAbsolute<"u"&&(o.positionAbsolute=c.positionAbsolute),typeof c.dragging<"u"&&(o.dragging=c.dragging),o.expandParent&&bp(r,o);break}case"dimensions":{typeof c.dimensions<"u"&&(o.width=c.dimensions.width,o.height=c.dimensions.height),typeof c.updateStyle<"u"&&(o.style={...o.style||{},...c.dimensions}),typeof c.resizing=="boolean"&&(o.resizing=c.resizing),o.expandParent&&bp(r,o);break}case"remove":return r}return r.push(o),r},n)}function jy(e,t){return Ey(e,t)}function Bk(e,t){return Ey(e,t)}const Jn=(e,t)=>({id:e,type:"select",selected:t});function Ts(e,t){return e.reduce((n,r)=>{const s=t.includes(r.id);return!r.selected&&s?(r.selected=!0,n.push(Jn(r.id,!0))):r.selected&&!s&&(r.selected=!1,n.push(Jn(r.id,!1))),n},[])}const Ac=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},Hk=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),ky=w.memo(({isSelecting:e,selectionMode:t=lo.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:s,onPaneClick:i,onPaneContextMenu:o,onPaneScroll:c,onPaneMouseEnter:u,onPaneMouseMove:d,onPaneMouseLeave:f,children:h})=>{const m=w.useRef(null),y=Fe(),j=w.useRef(0),E=w.useRef(0),C=w.useRef(),{userSelectionActive:g,elementsSelectable:v,dragging:x}=ve(Hk,Ue),N=()=>{y.setState({userSelectionActive:!1,userSelectionRect:null}),j.current=0,E.current=0},T=W=>{i==null||i(W),y.getState().resetSelectedElements(),y.setState({nodesSelectionActive:!1})},b=W=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){W.preventDefault();return}o==null||o(W)},R=c?W=>c(W):void 0,P=W=>{const{resetSelectedElements:S,domNode:$}=y.getState();if(C.current=$==null?void 0:$.getBoundingClientRect(),!v||!e||W.button!==0||W.target!==m.current||!C.current)return;const{x:M,y:B}=hr(W,C.current);S(),y.setState({userSelectionRect:{width:0,height:0,startX:M,startY:B,x:M,y:B}}),r==null||r(W)},D=W=>{const{userSelectionRect:S,nodeInternals:$,edges:M,transform:B,onNodesChange:A,onEdgesChange:k,nodeOrigin:I,getNodes:L}=y.getState();if(!e||!C.current||!S)return;y.setState({userSelectionActive:!0,nodesSelectionActive:!1});const O=hr(W,C.current),G=S.startX??0,Y=S.startY??0,Z={...S,x:O.x<G?O.x:G,y:O.y<Y?O.y:Y,width:Math.abs(O.x-G),height:Math.abs(O.y-Y)},ee=L(),te=iy($,Z,B,t===lo.Partial,!0,I),ce=oy(te,M).map(se=>se.id),ue=te.map(se=>se.id);if(j.current!==ue.length){j.current=ue.length;const se=Ts(ee,ue);se.length&&(A==null||A(se))}if(E.current!==ce.length){E.current=ce.length;const se=Ts(M,ce);se.length&&(k==null||k(se))}y.setState({userSelectionRect:Z})},F=W=>{if(W.button!==0)return;const{userSelectionRect:S}=y.getState();!g&&S&&W.target===m.current&&(T==null||T(W)),y.setState({nodesSelectionActive:j.current>0}),N(),s==null||s(W)},H=W=>{g&&(y.setState({nodesSelectionActive:j.current>0}),s==null||s(W)),N()},X=v&&(e||g);return z.createElement("div",{className:Ke(["react-flow__pane",{dragging:x,selection:e}]),onClick:X?void 0:Ac(T,m),onContextMenu:Ac(b,m),onWheel:Ac(R,m),onMouseEnter:X?void 0:u,onMouseDown:X?P:void 0,onMouseMove:X?D:d,onMouseUp:X?F:void 0,onMouseLeave:X?H:f,ref:m,style:lf},h,z.createElement(Vk,null))});ky.displayName="Pane";function Cy(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:Cy(r,t):!1}function Mp(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function Uk(e,t,n,r){return Array.from(e.values()).filter(s=>(s.selected||s.id===r)&&(!s.parentNode||s.parentId||!Cy(s,e))&&(s.draggable||t&&typeof s.draggable>"u")).map(s=>{var i,o;return{id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((i=s.positionAbsolute)==null?void 0:i.x)??0),y:n.y-(((o=s.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}})}function Wk(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function _y(e,t,n,r,s=[0,0],i){const o=Wk(e,e.extent||r);let c=o;const u=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(u&&e.width&&e.height){const h=n.get(u),{x:m,y}=Ur(h,s).positionAbsolute;c=h&&Ot(m)&&Ot(y)&&Ot(h.width)&&Ot(h.height)?[[m+e.width*s[0],y+e.height*s[1]],[m+h.width-e.width+e.width*s[0],y+h.height-e.height+e.height*s[1]]]:c}else i==null||i("005",Dn.error005()),c=o;else if(e.extent&&u&&e.extent!=="parent"){const h=n.get(u),{x:m,y}=Ur(h,s).positionAbsolute;c=[[e.extent[0][0]+m,e.extent[0][1]+y],[e.extent[1][0]+m,e.extent[1][1]+y]]}let d={x:0,y:0};if(u){const h=n.get(u);d=Ur(h,s).positionAbsolute}const f=c&&c!=="parent"?qd(t,c):t;return{position:{x:f.x-d.x,y:f.y-d.y},positionAbsolute:f}}function Ic({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[e?r.find(s=>s.id===e):r[0],r]}const Ap=(e,t,n,r)=>{const s=t.querySelectorAll(e);if(!s||!s.length)return null;const i=Array.from(s),o=t.getBoundingClientRect(),c={x:o.width*r[0],y:o.height*r[1]};return i.map(u=>{const d=u.getBoundingClientRect();return{id:u.getAttribute("data-handleid"),position:u.getAttribute("data-handlepos"),x:(d.left-o.left-c.x)/n,y:(d.top-o.top-c.y)/n,...Zd(u)}})};function yi(e,t,n){return n===void 0?n:r=>{const s=t().nodeInternals.get(e);s&&n(r,{...s})}}function Qu({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:o,nodeInternals:c,onError:u}=t.getState(),d=c.get(e);if(!d){u==null||u("012",Dn.error012(e));return}t.setState({nodesSelectionActive:!1}),d.selected?(n||d.selected&&o)&&(i({nodes:[d],edges:[]}),requestAnimationFrame(()=>{var f;return(f=r==null?void 0:r.current)==null?void 0:f.blur()})):s([e])}function Xk(){const e=Fe();return w.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:s,snapToGrid:i}=e.getState(),o=n.touches?n.touches[0].clientX:n.clientX,c=n.touches?n.touches[0].clientY:n.clientY,u={x:(o-r[0])/r[2],y:(c-r[1])/r[2]};return{xSnapped:i?s[0]*Math.round(u.x/s[0]):u.x,ySnapped:i?s[1]*Math.round(u.y/s[1]):u.y,...u}},[])}function Rc(e){return(t,n,r)=>e==null?void 0:e(t,r)}function Ty({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:i,selectNodesOnDrag:o}){const c=Fe(),[u,d]=w.useState(!1),f=w.useRef([]),h=w.useRef({x:null,y:null}),m=w.useRef(0),y=w.useRef(null),j=w.useRef({x:0,y:0}),E=w.useRef(null),C=w.useRef(!1),g=w.useRef(!1),v=w.useRef(!1),x=Xk();return w.useEffect(()=>{if(e!=null&&e.current){const N=Lt(e.current),T=({x:P,y:D})=>{const{nodeInternals:F,onNodeDrag:H,onSelectionDrag:X,updateNodePositions:W,nodeExtent:S,snapGrid:$,snapToGrid:M,nodeOrigin:B,onError:A}=c.getState();h.current={x:P,y:D};let k=!1,I={x:0,y:0,x2:0,y2:0};if(f.current.length>1&&S){const O=$a(f.current,B);I=oo(O)}if(f.current=f.current.map(O=>{const G={x:P-O.distance.x,y:D-O.distance.y};M&&(G.x=$[0]*Math.round(G.x/$[0]),G.y=$[1]*Math.round(G.y/$[1]));const Y=[[S[0][0],S[0][1]],[S[1][0],S[1][1]]];f.current.length>1&&S&&!O.extent&&(Y[0][0]=O.positionAbsolute.x-I.x+S[0][0],Y[1][0]=O.positionAbsolute.x+(O.width??0)-I.x2+S[1][0],Y[0][1]=O.positionAbsolute.y-I.y+S[0][1],Y[1][1]=O.positionAbsolute.y+(O.height??0)-I.y2+S[1][1]);const Z=_y(O,G,F,Y,B,A);return k=k||O.position.x!==Z.position.x||O.position.y!==Z.position.y,O.position=Z.position,O.positionAbsolute=Z.positionAbsolute,O}),!k)return;W(f.current,!0,!0),d(!0);const L=s?H:Rc(X);if(L&&E.current){const[O,G]=Ic({nodeId:s,dragItems:f.current,nodeInternals:F});L(E.current,O,G)}},b=()=>{if(!y.current)return;const[P,D]=Qv(j.current,y.current);if(P!==0||D!==0){const{transform:F,panBy:H}=c.getState();h.current.x=(h.current.x??0)-P/F[2],h.current.y=(h.current.y??0)-D/F[2],H({x:P,y:D})&&T(h.current)}m.current=requestAnimationFrame(b)},R=P=>{var B;const{nodeInternals:D,multiSelectionActive:F,nodesDraggable:H,unselectNodesAndEdges:X,onNodeDragStart:W,onSelectionDragStart:S}=c.getState();g.current=!0;const $=s?W:Rc(S);(!o||!i)&&!F&&s&&((B=D.get(s))!=null&&B.selected||X()),s&&i&&o&&Qu({id:s,store:c,nodeRef:e});const M=x(P);if(h.current=M,f.current=Uk(D,H,M,s),$&&f.current){const[A,k]=Ic({nodeId:s,dragItems:f.current,nodeInternals:D});$(P.sourceEvent,A,k)}};if(t)N.on(".drag",null);else{const P=sE().on("start",D=>{const{domNode:F,nodeDragThreshold:H}=c.getState();H===0&&R(D),v.current=!1;const X=x(D);h.current=X,y.current=(F==null?void 0:F.getBoundingClientRect())||null,j.current=hr(D.sourceEvent,y.current)}).on("drag",D=>{var W,S;const F=x(D),{autoPanOnNodeDrag:H,nodeDragThreshold:X}=c.getState();if(D.sourceEvent.type==="touchmove"&&D.sourceEvent.touches.length>1&&(v.current=!0),!v.current){if(!C.current&&g.current&&H&&(C.current=!0,b()),!g.current){const $=F.xSnapped-(((W=h==null?void 0:h.current)==null?void 0:W.x)??0),M=F.ySnapped-(((S=h==null?void 0:h.current)==null?void 0:S.y)??0);Math.sqrt($*$+M*M)>X&&R(D)}(h.current.x!==F.xSnapped||h.current.y!==F.ySnapped)&&f.current&&g.current&&(E.current=D.sourceEvent,j.current=hr(D.sourceEvent,y.current),T(F))}}).on("end",D=>{if(!(!g.current||v.current)&&(d(!1),C.current=!1,g.current=!1,cancelAnimationFrame(m.current),f.current)){const{updateNodePositions:F,nodeInternals:H,onNodeDragStop:X,onSelectionDragStop:W}=c.getState(),S=s?X:Rc(W);if(F(f.current,!1,!1),S){const[$,M]=Ic({nodeId:s,dragItems:f.current,nodeInternals:H});S(D.sourceEvent,$,M)}}}).filter(D=>{const F=D.target;return!D.button&&(!n||!Mp(F,`.${n}`,e))&&(!r||Mp(F,r,e))});return N.call(P),()=>{N.on(".drag",null)}}}},[e,t,n,r,i,c,s,o,x]),u}function by(){const e=Fe();return w.useCallback(n=>{const{nodeInternals:r,nodeExtent:s,updateNodePositions:i,getNodes:o,snapToGrid:c,snapGrid:u,onError:d,nodesDraggable:f}=e.getState(),h=o().filter(v=>v.selected&&(v.draggable||f&&typeof v.draggable>"u")),m=c?u[0]:5,y=c?u[1]:5,j=n.isShiftPressed?4:1,E=n.x*m*j,C=n.y*y*j,g=h.map(v=>{if(v.positionAbsolute){const x={x:v.positionAbsolute.x+E,y:v.positionAbsolute.y+C};c&&(x.x=u[0]*Math.round(x.x/u[0]),x.y=u[1]*Math.round(x.y/u[1]));const{positionAbsolute:N,position:T}=_y(v,x,r,s,void 0,d);v.position=T,v.positionAbsolute=N}return v});i(g,!0,!1)},[])}const Ds={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var xi=e=>{const t=({id:n,type:r,data:s,xPos:i,yPos:o,xPosOrigin:c,yPosOrigin:u,selected:d,onClick:f,onMouseEnter:h,onMouseMove:m,onMouseLeave:y,onContextMenu:j,onDoubleClick:E,style:C,className:g,isDraggable:v,isSelectable:x,isConnectable:N,isFocusable:T,selectNodesOnDrag:b,sourcePosition:R,targetPosition:P,hidden:D,resizeObserver:F,dragHandle:H,zIndex:X,isParent:W,noDragClassName:S,noPanClassName:$,initialized:M,disableKeyboardA11y:B,ariaLabel:A,rfId:k,hasHandleBounds:I})=>{const L=Fe(),O=w.useRef(null),G=w.useRef(null),Y=w.useRef(R),Z=w.useRef(P),ee=w.useRef(r),te=x||v||f||h||m||y,ce=by(),ue=yi(n,L.getState,h),se=yi(n,L.getState,m),Ie=yi(n,L.getState,y),ye=yi(n,L.getState,j),Re=yi(n,L.getState,E),Oe=fe=>{const{nodeDragThreshold:J}=L.getState();if(x&&(!b||!v||J>0)&&Qu({id:n,store:L,nodeRef:O}),f){const We=L.getState().nodeInternals.get(n);We&&f(fe,{...We})}},Se=fe=>{if(!Bu(fe)&&!B)if(Zv.includes(fe.key)&&x){const J=fe.key==="Escape";Qu({id:n,store:L,unselect:J,nodeRef:O})}else v&&d&&Object.prototype.hasOwnProperty.call(Ds,fe.key)&&(L.setState({ariaLiveMessage:`Moved selected node ${fe.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~o}`}),ce({x:Ds[fe.key].x,y:Ds[fe.key].y,isShiftPressed:fe.shiftKey}))};w.useEffect(()=>()=>{G.current&&(F==null||F.unobserve(G.current),G.current=null)},[]),w.useEffect(()=>{if(O.current&&!D){const fe=O.current;(!M||!I||G.current!==fe)&&(G.current&&(F==null||F.unobserve(G.current)),F==null||F.observe(fe),G.current=fe)}},[D,M,I]),w.useEffect(()=>{const fe=ee.current!==r,J=Y.current!==R,We=Z.current!==P;O.current&&(fe||J||We)&&(fe&&(ee.current=r),J&&(Y.current=R),We&&(Z.current=P),L.getState().updateNodeDimensions([{id:n,nodeElement:O.current,forceUpdate:!0}]))},[n,r,R,P]);const tt=Ty({nodeRef:O,disabled:D||!v,noDragClassName:S,handleSelector:H,nodeId:n,isSelectable:x,selectNodesOnDrag:b});return D?null:z.createElement("div",{className:Ke(["react-flow__node",`react-flow__node-${r}`,{[$]:v},g,{selected:d,selectable:x,parent:W,dragging:tt}]),ref:O,style:{zIndex:X,transform:`translate(${c}px,${u}px)`,pointerEvents:te?"all":"none",visibility:M?"visible":"hidden",...C},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:ue,onMouseMove:se,onMouseLeave:Ie,onContextMenu:ye,onClick:Oe,onDoubleClick:Re,onKeyDown:T?Se:void 0,tabIndex:T?0:void 0,role:T?"button":void 0,"aria-describedby":B?void 0:`${yy}-${k}`,"aria-label":A},z.createElement(lk,{value:n},z.createElement(e,{id:n,data:s,type:r,xPos:i,yPos:o,selected:d,isConnectable:N,sourcePosition:R,targetPosition:P,dragging:tt,dragHandle:H,zIndex:X})))};return t.displayName="NodeWrapper",w.memo(t)};const Qk=e=>{const t=e.getNodes().filter(n=>n.selected);return{...$a(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function Yk({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Fe(),{width:s,height:i,x:o,y:c,transformString:u,userSelectionActive:d}=ve(Qk,Ue),f=by(),h=w.useRef(null);if(w.useEffect(()=>{var j;n||(j=h.current)==null||j.focus({preventScroll:!0})},[n]),Ty({nodeRef:h}),d||!s||!i)return null;const m=e?j=>{const E=r.getState().getNodes().filter(C=>C.selected);e(j,E)}:void 0,y=j=>{Object.prototype.hasOwnProperty.call(Ds,j.key)&&f({x:Ds[j.key].x,y:Ds[j.key].y,isShiftPressed:j.shiftKey})};return z.createElement("div",{className:Ke(["react-flow__nodesselection","react-flow__container",t]),style:{transform:u}},z.createElement("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:n?void 0:-1,onKeyDown:n?void 0:y,style:{width:s,height:i,top:c,left:o}}))}var Gk=w.memo(Yk);const Kk=e=>e.nodesSelectionActive,My=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,deleteKeyCode:c,onMove:u,onMoveStart:d,onMoveEnd:f,selectionKeyCode:h,selectionOnDrag:m,selectionMode:y,onSelectionStart:j,onSelectionEnd:E,multiSelectionKeyCode:C,panActivationKeyCode:g,zoomActivationKeyCode:v,elementsSelectable:x,zoomOnScroll:N,zoomOnPinch:T,panOnScroll:b,panOnScrollSpeed:R,panOnScrollMode:P,zoomOnDoubleClick:D,panOnDrag:F,defaultViewport:H,translateExtent:X,minZoom:W,maxZoom:S,preventScrolling:$,onSelectionContextMenu:M,noWheelClassName:B,noPanClassName:A,disableKeyboardA11y:k})=>{const I=ve(Kk),L=ao(h),O=ao(g),G=O||F,Y=O||b,Z=L||m&&G!==!0;return $k({deleteKeyCode:c,multiSelectionKeyCode:C}),z.createElement(Fk,{onMove:u,onMoveStart:d,onMoveEnd:f,onPaneContextMenu:i,elementsSelectable:x,zoomOnScroll:N,zoomOnPinch:T,panOnScroll:Y,panOnScrollSpeed:R,panOnScrollMode:P,zoomOnDoubleClick:D,panOnDrag:!L&&G,defaultViewport:H,translateExtent:X,minZoom:W,maxZoom:S,zoomActivationKeyCode:v,preventScrolling:$,noWheelClassName:B,noPanClassName:A},z.createElement(ky,{onSelectionStart:j,onSelectionEnd:E,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,panOnDrag:G,isSelecting:!!Z,selectionMode:y},e,I&&z.createElement(Gk,{onSelectionContextMenu:M,noPanClassName:A,disableKeyboardA11y:k})))};My.displayName="FlowRenderer";var Zk=w.memo(My);function qk(e){return ve(w.useCallback(n=>e?iy(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function Jk(e){const t={input:xi(e.input||py),default:xi(e.default||Xu),output:xi(e.output||gy),group:xi(e.group||sf)},n={},r=Object.keys(e).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,i)=>(s[i]=xi(e[i]||Xu),s),n);return{...t,...r}}const eC=({x:e,y:t,width:n,height:r,origin:s})=>!n||!r?{x:e,y:t}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:e,y:t}:{x:e-n*s[0],y:t-r*s[1]},tC=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Ay=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,updateNodeDimensions:i,onError:o}=ve(tC,Ue),c=qk(e.onlyRenderVisibleElements),u=w.useRef(),d=w.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const f=new ResizeObserver(h=>{const m=h.map(y=>({id:y.target.getAttribute("data-id"),nodeElement:y.target,forceUpdate:!0}));i(m)});return u.current=f,f},[]);return w.useEffect(()=>()=>{var f;(f=u==null?void 0:u.current)==null||f.disconnect()},[]),z.createElement("div",{className:"react-flow__nodes",style:lf},c.map(f=>{var T,b,R;let h=f.type||"default";e.nodeTypes[h]||(o==null||o("003",Dn.error003(h)),h="default");const m=e.nodeTypes[h]||e.nodeTypes.default,y=!!(f.draggable||t&&typeof f.draggable>"u"),j=!!(f.selectable||s&&typeof f.selectable>"u"),E=!!(f.connectable||n&&typeof f.connectable>"u"),C=!!(f.focusable||r&&typeof f.focusable>"u"),g=e.nodeExtent?qd(f.positionAbsolute,e.nodeExtent):f.positionAbsolute,v=(g==null?void 0:g.x)??0,x=(g==null?void 0:g.y)??0,N=eC({x:v,y:x,width:f.width??0,height:f.height??0,origin:e.nodeOrigin});return z.createElement(m,{key:f.id,id:f.id,className:f.className,style:f.style,type:h,data:f.data,sourcePosition:f.sourcePosition||q.Bottom,targetPosition:f.targetPosition||q.Top,hidden:f.hidden,xPos:v,yPos:x,xPosOrigin:N.x,yPosOrigin:N.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!f.selected,isDraggable:y,isSelectable:j,isConnectable:E,isFocusable:C,resizeObserver:d,dragHandle:f.dragHandle,zIndex:((T=f[be])==null?void 0:T.z)??0,isParent:!!((b=f[be])!=null&&b.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!f.width&&!!f.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:f.ariaLabel,hasHandleBounds:!!((R=f[be])!=null&&R.handleBounds)})}))};Ay.displayName="NodeRenderer";var nC=w.memo(Ay);const rC=(e,t,n)=>n===q.Left?e-t:n===q.Right?e+t:e,sC=(e,t,n)=>n===q.Top?e-t:n===q.Bottom?e+t:e,Ip="react-flow__edgeupdater",Rp=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:i,onMouseOut:o,type:c})=>z.createElement("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:o,className:Ke([Ip,`${Ip}-${c}`]),cx:rC(t,r,e),cy:sC(n,r,e),r,stroke:"transparent",fill:"transparent"}),iC=()=>!0;var ms=e=>{const t=({id:n,className:r,type:s,data:i,onClick:o,onEdgeDoubleClick:c,selected:u,animated:d,label:f,labelStyle:h,labelShowBg:m,labelBgStyle:y,labelBgPadding:j,labelBgBorderRadius:E,style:C,source:g,target:v,sourceX:x,sourceY:N,targetX:T,targetY:b,sourcePosition:R,targetPosition:P,elementsSelectable:D,hidden:F,sourceHandleId:H,targetHandleId:X,onContextMenu:W,onMouseEnter:S,onMouseMove:$,onMouseLeave:M,reconnectRadius:B,onReconnect:A,onReconnectStart:k,onReconnectEnd:I,markerEnd:L,markerStart:O,rfId:G,ariaLabel:Y,isFocusable:Z,isReconnectable:ee,pathOptions:te,interactionWidth:ce,disableKeyboardA11y:ue})=>{const se=w.useRef(null),[Ie,ye]=w.useState(!1),[Re,Oe]=w.useState(!1),Se=Fe(),tt=w.useMemo(()=>`url('#${Uu(O,G)}')`,[O,G]),fe=w.useMemo(()=>`url('#${Uu(L,G)}')`,[L,G]);if(F)return null;const J=Me=>{var ct;const{edges:_e,addSelectedEdges:wt,unselectNodesAndEdges:wn,multiSelectionActive:un}=Se.getState(),It=_e.find(On=>On.id===n);It&&(D&&(Se.setState({nodesSelectionActive:!1}),It.selected&&un?(wn({nodes:[],edges:[It]}),(ct=se.current)==null||ct.blur()):wt([n])),o&&o(Me,It))},We=vi(n,Se.getState,c),Ut=vi(n,Se.getState,W),ln=vi(n,Se.getState,S),Mt=vi(n,Se.getState,$),vt=vi(n,Se.getState,M),at=(Me,_e)=>{if(Me.button!==0)return;const{edges:wt,isValidConnection:wn}=Se.getState(),un=_e?v:g,It=(_e?X:H)||null,ct=_e?"target":"source",On=wn||iC,ts=_e,me=wt.find(Rt=>Rt.id===n);Oe(!0),k==null||k(Me,me,ct);const wr=Rt=>{Oe(!1),I==null||I(Rt,me,ct)};uy({event:Me,handleId:It,nodeId:un,onConnect:Rt=>A==null?void 0:A(me,Rt),isTarget:ts,getState:Se.getState,setState:Se.setState,isValidConnection:On,edgeUpdaterType:ct,onReconnectEnd:wr})},At=Me=>at(Me,!0),yt=Me=>at(Me,!1),xt=()=>ye(!0),Fn=()=>ye(!1),an=!D&&!o,cn=Me=>{var _e;if(!ue&&Zv.includes(Me.key)&&D){const{unselectNodesAndEdges:wt,addSelectedEdges:wn,edges:un}=Se.getState();Me.key==="Escape"?((_e=se.current)==null||_e.blur(),wt({edges:[un.find(ct=>ct.id===n)]})):wn([n])}};return z.createElement("g",{className:Ke(["react-flow__edge",`react-flow__edge-${s}`,r,{selected:u,animated:d,inactive:an,updating:Ie}]),onClick:J,onDoubleClick:We,onContextMenu:Ut,onMouseEnter:ln,onMouseMove:Mt,onMouseLeave:vt,onKeyDown:Z?cn:void 0,tabIndex:Z?0:void 0,role:Z?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":Y===null?void 0:Y||`Edge from ${g} to ${v}`,"aria-describedby":Z?`${xy}-${G}`:void 0,ref:se},!Re&&z.createElement(e,{id:n,source:g,target:v,selected:u,animated:d,label:f,labelStyle:h,labelShowBg:m,labelBgStyle:y,labelBgPadding:j,labelBgBorderRadius:E,data:i,style:C,sourceX:x,sourceY:N,targetX:T,targetY:b,sourcePosition:R,targetPosition:P,sourceHandleId:H,targetHandleId:X,markerStart:tt,markerEnd:fe,pathOptions:te,interactionWidth:ce}),ee&&z.createElement(z.Fragment,null,(ee==="source"||ee===!0)&&z.createElement(Rp,{position:R,centerX:x,centerY:N,radius:B,onMouseDown:At,onMouseEnter:xt,onMouseOut:Fn,type:"source"}),(ee==="target"||ee===!0)&&z.createElement(Rp,{position:P,centerX:T,centerY:b,radius:B,onMouseDown:yt,onMouseEnter:xt,onMouseOut:Fn,type:"target"})))};return t.displayName="EdgeWrapper",w.memo(t)};function oC(e){const t={default:ms(e.default||ua),straight:ms(e.bezier||tf),step:ms(e.step||ef),smoothstep:ms(e.step||Pa),simplebezier:ms(e.simplebezier||Jd)},n={},r=Object.keys(e).filter(s=>!["default","bezier"].includes(s)).reduce((s,i)=>(s[i]=ms(e[i]||ua),s),n);return{...t,...r}}function Pp(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,s=((n==null?void 0:n.y)||0)+t.y,i=(n==null?void 0:n.width)||t.width,o=(n==null?void 0:n.height)||t.height;switch(e){case q.Top:return{x:r+i/2,y:s};case q.Right:return{x:r+i,y:s+o/2};case q.Bottom:return{x:r+i/2,y:s+o};case q.Left:return{x:r,y:s+o/2}}}function $p(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const lC=(e,t,n,r,s,i)=>{const o=Pp(n,e,t),c=Pp(i,r,s);return{sourceX:o.x,sourceY:o.y,targetX:c.x,targetY:c.y}};function aC({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:s,targetHeight:i,width:o,height:c,transform:u}){const d={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+s),y2:Math.max(e.y+r,t.y+i)};d.x===d.x2&&(d.x2+=1),d.y===d.y2&&(d.y2+=1);const f=oo({x:(0-u[0])/u[2],y:(0-u[1])/u[2],width:o/u[2],height:c/u[2]}),h=Math.max(0,Math.min(f.x2,d.x2)-Math.max(f.x,d.x)),m=Math.max(0,Math.min(f.y2,d.y2)-Math.max(f.y,d.y));return Math.ceil(h*m)>0}function zp(e){var r,s,i,o,c;const t=((r=e==null?void 0:e[be])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)<"u"&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)||0,y:((c=e==null?void 0:e.positionAbsolute)==null?void 0:c.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const cC=[{level:0,isMaxLevel:!0,edges:[]}];function uC(e,t,n=!1){let r=-1;const s=e.reduce((o,c)=>{var f,h;const u=Ot(c.zIndex);let d=u?c.zIndex:0;if(n){const m=t.get(c.target),y=t.get(c.source),j=c.selected||(m==null?void 0:m.selected)||(y==null?void 0:y.selected),E=Math.max(((f=y==null?void 0:y[be])==null?void 0:f.z)||0,((h=m==null?void 0:m[be])==null?void 0:h.z)||0,1e3);d=(u?c.zIndex:0)+(j?E:0)}return o[d]?o[d].push(c):o[d]=[c],r=d>r?d:r,o},{}),i=Object.entries(s).map(([o,c])=>{const u=+o;return{edges:c,level:u,isMaxLevel:u===r}});return i.length===0?cC:i}function dC(e,t,n){const r=ve(w.useCallback(s=>e?s.edges.filter(i=>{const o=t.get(i.source),c=t.get(i.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(c==null?void 0:c.width)&&(c==null?void 0:c.height)&&aC({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:c.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:c.width,targetHeight:c.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[e,t]));return uC(r,t,n)}const fC=({color:e="none",strokeWidth:t=1})=>z.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),hC=({color:e="none",strokeWidth:t=1})=>z.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Dp={[ca.Arrow]:fC,[ca.ArrowClosed]:hC};function pC(e){const t=Fe();return w.useMemo(()=>{var s,i;return Object.prototype.hasOwnProperty.call(Dp,e)?Dp[e]:((i=(s=t.getState()).onError)==null||i.call(s,"009",Dn.error009(e)),null)},[e])}const mC=({id:e,type:t,color:n,width:r=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:o,orient:c="auto-start-reverse"})=>{const u=pC(t);return u?z.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:c,refX:"0",refY:"0"},z.createElement(u,{color:n,strokeWidth:o})):null},gC=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((s,i)=>([i.markerStart,i.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const c=Uu(o,t);r.includes(c)||(s.push({id:c,color:o.color||e,...o}),r.push(c))}}),s),[]).sort((s,i)=>s.id.localeCompare(i.id))},Iy=({defaultColor:e,rfId:t})=>{const n=ve(w.useCallback(gC({defaultColor:e,rfId:t}),[e,t]),(r,s)=>!(r.length!==s.length||r.some((i,o)=>i.id!==s[o].id)));return z.createElement("defs",null,n.map(r=>z.createElement(mC,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};Iy.displayName="MarkerDefinitions";var vC=w.memo(Iy);const yC=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Ry=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:s,noPanClassName:i,onEdgeContextMenu:o,onEdgeMouseEnter:c,onEdgeMouseMove:u,onEdgeMouseLeave:d,onEdgeClick:f,onEdgeDoubleClick:h,onReconnect:m,onReconnectStart:y,onReconnectEnd:j,reconnectRadius:E,children:C,disableKeyboardA11y:g})=>{const{edgesFocusable:v,edgesUpdatable:x,elementsSelectable:N,width:T,height:b,connectionMode:R,nodeInternals:P,onError:D}=ve(yC,Ue),F=dC(t,P,n);return T?z.createElement(z.Fragment,null,F.map(({level:H,edges:X,isMaxLevel:W})=>z.createElement("svg",{key:H,style:{zIndex:H},width:T,height:b,className:"react-flow__edges react-flow__container"},W&&z.createElement(vC,{defaultColor:e,rfId:r}),z.createElement("g",null,X.map(S=>{const[$,M,B]=zp(P.get(S.source)),[A,k,I]=zp(P.get(S.target));if(!B||!I)return null;let L=S.type||"default";s[L]||(D==null||D("011",Dn.error011(L)),L="default");const O=s[L]||s.default,G=R===qr.Strict?k.target:(k.target??[]).concat(k.source??[]),Y=$p(M.source,S.sourceHandle),Z=$p(G,S.targetHandle),ee=(Y==null?void 0:Y.position)||q.Bottom,te=(Z==null?void 0:Z.position)||q.Top,ce=!!(S.focusable||v&&typeof S.focusable>"u"),ue=S.reconnectable||S.updatable,se=typeof m<"u"&&(ue||x&&typeof ue>"u");if(!Y||!Z)return D==null||D("008",Dn.error008(Y,S)),null;const{sourceX:Ie,sourceY:ye,targetX:Re,targetY:Oe}=lC($,Y,ee,A,Z,te);return z.createElement(O,{key:S.id,id:S.id,className:Ke([S.className,i]),type:L,data:S.data,selected:!!S.selected,animated:!!S.animated,hidden:!!S.hidden,label:S.label,labelStyle:S.labelStyle,labelShowBg:S.labelShowBg,labelBgStyle:S.labelBgStyle,labelBgPadding:S.labelBgPadding,labelBgBorderRadius:S.labelBgBorderRadius,style:S.style,source:S.source,target:S.target,sourceHandleId:S.sourceHandle,targetHandleId:S.targetHandle,markerEnd:S.markerEnd,markerStart:S.markerStart,sourceX:Ie,sourceY:ye,targetX:Re,targetY:Oe,sourcePosition:ee,targetPosition:te,elementsSelectable:N,onContextMenu:o,onMouseEnter:c,onMouseMove:u,onMouseLeave:d,onClick:f,onEdgeDoubleClick:h,onReconnect:m,onReconnectStart:y,onReconnectEnd:j,reconnectRadius:E,rfId:r,ariaLabel:S.ariaLabel,isFocusable:ce,isReconnectable:se,pathOptions:"pathOptions"in S?S.pathOptions:void 0,interactionWidth:S.interactionWidth,disableKeyboardA11y:g})})))),C):null};Ry.displayName="EdgeRenderer";var xC=w.memo(Ry);const wC=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function NC({children:e}){const t=ve(wC);return z.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function SC(e){const t=of(),n=w.useRef(!1);w.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const EC={[q.Left]:q.Right,[q.Right]:q.Left,[q.Top]:q.Bottom,[q.Bottom]:q.Top},Py=({nodeId:e,handleType:t,style:n,type:r=nr.Bezier,CustomComponent:s,connectionStatus:i})=>{var b,R,P;const{fromNode:o,handleId:c,toX:u,toY:d,connectionMode:f}=ve(w.useCallback(D=>({fromNode:D.nodeInternals.get(e),handleId:D.connectionHandleId,toX:(D.connectionPosition.x-D.transform[0])/D.transform[2],toY:(D.connectionPosition.y-D.transform[1])/D.transform[2],connectionMode:D.connectionMode}),[e]),Ue),h=(b=o==null?void 0:o[be])==null?void 0:b.handleBounds;let m=h==null?void 0:h[t];if(f===qr.Loose&&(m=m||(h==null?void 0:h[t==="source"?"target":"source"])),!o||!m)return null;const y=c?m.find(D=>D.id===c):m[0],j=y?y.x+y.width/2:(o.width??0)/2,E=y?y.y+y.height/2:o.height??0,C=(((R=o.positionAbsolute)==null?void 0:R.x)??0)+j,g=(((P=o.positionAbsolute)==null?void 0:P.y)??0)+E,v=y==null?void 0:y.position,x=v?EC[v]:null;if(!v||!x)return null;if(s)return z.createElement(s,{connectionLineType:r,connectionLineStyle:n,fromNode:o,fromHandle:y,fromX:C,fromY:g,toX:u,toY:d,fromPosition:v,toPosition:x,connectionStatus:i});let N="";const T={sourceX:C,sourceY:g,sourcePosition:v,targetX:u,targetY:d,targetPosition:x};return r===nr.Bezier?[N]=ny(T):r===nr.Step?[N]=Hu({...T,borderRadius:0}):r===nr.SmoothStep?[N]=Hu(T):r===nr.SimpleBezier?[N]=ty(T):N=`M${C},${g} ${u},${d}`,z.createElement("path",{d:N,fill:"none",className:"react-flow__connection-path",style:n})};Py.displayName="ConnectionLine";const jC=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function kC({containerStyle:e,style:t,type:n,component:r}){const{nodeId:s,handleType:i,nodesConnectable:o,width:c,height:u,connectionStatus:d}=ve(jC,Ue);return!(s&&i&&c&&o)?null:z.createElement("svg",{style:e,width:c,height:u,className:"react-flow__edges react-flow__connectionline react-flow__container"},z.createElement("g",{className:Ke(["react-flow__connection",d])},z.createElement(Py,{nodeId:s,handleType:i,style:t,type:n,CustomComponent:r,connectionStatus:d})))}function Lp(e,t){return w.useRef(null),Fe(),w.useMemo(()=>t(e),[e])}const $y=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:s,onInit:i,onNodeClick:o,onEdgeClick:c,onNodeDoubleClick:u,onEdgeDoubleClick:d,onNodeMouseEnter:f,onNodeMouseMove:h,onNodeMouseLeave:m,onNodeContextMenu:y,onSelectionContextMenu:j,onSelectionStart:E,onSelectionEnd:C,connectionLineType:g,connectionLineStyle:v,connectionLineComponent:x,connectionLineContainerStyle:N,selectionKeyCode:T,selectionOnDrag:b,selectionMode:R,multiSelectionKeyCode:P,panActivationKeyCode:D,zoomActivationKeyCode:F,deleteKeyCode:H,onlyRenderVisibleElements:X,elementsSelectable:W,selectNodesOnDrag:S,defaultViewport:$,translateExtent:M,minZoom:B,maxZoom:A,preventScrolling:k,defaultMarkerColor:I,zoomOnScroll:L,zoomOnPinch:O,panOnScroll:G,panOnScrollSpeed:Y,panOnScrollMode:Z,zoomOnDoubleClick:ee,panOnDrag:te,onPaneClick:ce,onPaneMouseEnter:ue,onPaneMouseMove:se,onPaneMouseLeave:Ie,onPaneScroll:ye,onPaneContextMenu:Re,onEdgeContextMenu:Oe,onEdgeMouseEnter:Se,onEdgeMouseMove:tt,onEdgeMouseLeave:fe,onReconnect:J,onReconnectStart:We,onReconnectEnd:Ut,reconnectRadius:ln,noDragClassName:Mt,noWheelClassName:vt,noPanClassName:at,elevateEdgesOnSelect:At,disableKeyboardA11y:yt,nodeOrigin:xt,nodeExtent:Fn,rfId:an})=>{const cn=Lp(e,Jk),Me=Lp(t,oC);return SC(i),z.createElement(Zk,{onPaneClick:ce,onPaneMouseEnter:ue,onPaneMouseMove:se,onPaneMouseLeave:Ie,onPaneContextMenu:Re,onPaneScroll:ye,deleteKeyCode:H,selectionKeyCode:T,selectionOnDrag:b,selectionMode:R,onSelectionStart:E,onSelectionEnd:C,multiSelectionKeyCode:P,panActivationKeyCode:D,zoomActivationKeyCode:F,elementsSelectable:W,onMove:n,onMoveStart:r,onMoveEnd:s,zoomOnScroll:L,zoomOnPinch:O,zoomOnDoubleClick:ee,panOnScroll:G,panOnScrollSpeed:Y,panOnScrollMode:Z,panOnDrag:te,defaultViewport:$,translateExtent:M,minZoom:B,maxZoom:A,onSelectionContextMenu:j,preventScrolling:k,noDragClassName:Mt,noWheelClassName:vt,noPanClassName:at,disableKeyboardA11y:yt},z.createElement(NC,null,z.createElement(xC,{edgeTypes:Me,onEdgeClick:c,onEdgeDoubleClick:d,onlyRenderVisibleElements:X,onEdgeContextMenu:Oe,onEdgeMouseEnter:Se,onEdgeMouseMove:tt,onEdgeMouseLeave:fe,onReconnect:J,onReconnectStart:We,onReconnectEnd:Ut,reconnectRadius:ln,defaultMarkerColor:I,noPanClassName:at,elevateEdgesOnSelect:!!At,disableKeyboardA11y:yt,rfId:an},z.createElement(kC,{style:v,type:g,component:x,containerStyle:N})),z.createElement("div",{className:"react-flow__edgelabel-renderer"}),z.createElement(nC,{nodeTypes:cn,onNodeClick:o,onNodeDoubleClick:u,onNodeMouseEnter:f,onNodeMouseMove:h,onNodeMouseLeave:m,onNodeContextMenu:y,selectNodesOnDrag:S,onlyRenderVisibleElements:X,noPanClassName:at,noDragClassName:Mt,disableKeyboardA11y:yt,nodeOrigin:xt,nodeExtent:Fn,rfId:an})))};$y.displayName="GraphView";var CC=w.memo($y);const Yu=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Yn={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Yu,nodeExtent:Yu,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:qr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:tk,isValidConnection:void 0},_C=()=>gN((e,t)=>({...Yn,setNodes:n=>{const{nodeInternals:r,nodeOrigin:s,elevateNodesOnSelect:i}=t();e({nodeInternals:Mc(n,r,s,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(s=>({...r,...s}))})},setDefaultNodesAndEdges:(n,r)=>{const s=typeof n<"u",i=typeof r<"u",o=s?Mc(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:i?r:[],hasDefaultNodes:s,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:s,fitViewOnInit:i,fitViewOnInitDone:o,fitViewOnInitOptions:c,domNode:u,nodeOrigin:d}=t(),f=u==null?void 0:u.querySelector(".react-flow__viewport");if(!f)return;const h=window.getComputedStyle(f),{m22:m}=new window.DOMMatrixReadOnly(h.transform),y=n.reduce((E,C)=>{const g=s.get(C.id);if(g!=null&&g.hidden)s.set(g.id,{...g,[be]:{...g[be],handleBounds:void 0}});else if(g){const v=Zd(C.nodeElement);!!(v.width&&v.height&&(g.width!==v.width||g.height!==v.height||C.forceUpdate))&&(s.set(g.id,{...g,[be]:{...g[be],handleBounds:{source:Ap(".source",C.nodeElement,m,d),target:Ap(".target",C.nodeElement,m,d)}},...v}),E.push({id:g.id,type:"dimensions",dimensions:v}))}return E},[]);Ny(s,d);const j=o||i&&!o&&Sy(t,{initial:!0,...c});e({nodeInternals:new Map(s),fitViewOnInitDone:j}),(y==null?void 0:y.length)>0&&(r==null||r(y))},updateNodePositions:(n,r=!0,s=!1)=>{const{triggerNodeChanges:i}=t(),o=n.map(c=>{const u={id:c.id,type:"position",dragging:s};return r&&(u.positionAbsolute=c.positionAbsolute,u.position=c.position),u});i(o)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:s,hasDefaultNodes:i,nodeOrigin:o,getNodes:c,elevateNodesOnSelect:u}=t();if(n!=null&&n.length){if(i){const d=jy(n,c()),f=Mc(d,s,o,u);e({nodeInternals:f})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:s,getNodes:i}=t();let o,c=null;r?o=n.map(u=>Jn(u,!0)):(o=Ts(i(),n),c=Ts(s,[])),ul({changedNodes:o,changedEdges:c,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:s,getNodes:i}=t();let o,c=null;r?o=n.map(u=>Jn(u,!0)):(o=Ts(s,n),c=Ts(i(),[])),ul({changedNodes:c,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:s,getNodes:i}=t(),o=n||i(),c=r||s,u=o.map(f=>(f.selected=!1,Jn(f.id,!1))),d=c.map(f=>Jn(f.id,!1));ul({changedNodes:u,changedEdges:d,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:s}=t();r==null||r.scaleExtent([n,s]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:s}=t();r==null||r.scaleExtent([s,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),i=r().filter(c=>c.selected).map(c=>Jn(c.id,!1)),o=n.filter(c=>c.selected).map(c=>Jn(c.id,!1));ul({changedNodes:i,changedEdges:o,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(s=>{s.positionAbsolute=qd(s.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:s,height:i,d3Zoom:o,d3Selection:c,translateExtent:u}=t();if(!o||!c||!n.x&&!n.y)return!1;const d=An.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),f=[[0,0],[s,i]],h=o==null?void 0:o.constrain()(d,f,u);return o.transform(c,h),r[0]!==h.x||r[1]!==h.y||r[2]!==h.k},cancelConnection:()=>e({connectionNodeId:Yn.connectionNodeId,connectionHandleId:Yn.connectionHandleId,connectionHandleType:Yn.connectionHandleType,connectionStatus:Yn.connectionStatus,connectionStartHandle:Yn.connectionStartHandle,connectionEndHandle:Yn.connectionEndHandle}),reset:()=>e({...Yn})}),Object.is),zy=({children:e})=>{const t=w.useRef(null);return t.current||(t.current=_C()),z.createElement(Yj,{value:t.current},e)};zy.displayName="ReactFlowProvider";const Dy=({children:e})=>w.useContext(Ra)?z.createElement(z.Fragment,null,e):z.createElement(zy,null,e);Dy.displayName="ReactFlowWrapper";const TC={input:py,default:Xu,output:gy,group:sf},bC={default:ua,straight:tf,step:ef,smoothstep:Pa,simplebezier:Jd},MC=[0,0],AC=[15,15],IC={x:0,y:0,zoom:1},RC={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Ly=w.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:i=TC,edgeTypes:o=bC,onNodeClick:c,onEdgeClick:u,onInit:d,onMove:f,onMoveStart:h,onMoveEnd:m,onConnect:y,onConnectStart:j,onConnectEnd:E,onClickConnectStart:C,onClickConnectEnd:g,onNodeMouseEnter:v,onNodeMouseMove:x,onNodeMouseLeave:N,onNodeContextMenu:T,onNodeDoubleClick:b,onNodeDragStart:R,onNodeDrag:P,onNodeDragStop:D,onNodesDelete:F,onEdgesDelete:H,onSelectionChange:X,onSelectionDragStart:W,onSelectionDrag:S,onSelectionDragStop:$,onSelectionContextMenu:M,onSelectionStart:B,onSelectionEnd:A,connectionMode:k=qr.Strict,connectionLineType:I=nr.Bezier,connectionLineStyle:L,connectionLineComponent:O,connectionLineContainerStyle:G,deleteKeyCode:Y="Backspace",selectionKeyCode:Z="Shift",selectionOnDrag:ee=!1,selectionMode:te=lo.Full,panActivationKeyCode:ce="Space",multiSelectionKeyCode:ue=aa()?"Meta":"Control",zoomActivationKeyCode:se=aa()?"Meta":"Control",snapToGrid:Ie=!1,snapGrid:ye=AC,onlyRenderVisibleElements:Re=!1,selectNodesOnDrag:Oe=!0,nodesDraggable:Se,nodesConnectable:tt,nodesFocusable:fe,nodeOrigin:J=MC,edgesFocusable:We,edgesUpdatable:Ut,elementsSelectable:ln,defaultViewport:Mt=IC,minZoom:vt=.5,maxZoom:at=2,translateExtent:At=Yu,preventScrolling:yt=!0,nodeExtent:xt,defaultMarkerColor:Fn="#b1b1b7",zoomOnScroll:an=!0,zoomOnPinch:cn=!0,panOnScroll:Me=!1,panOnScrollSpeed:_e=.5,panOnScrollMode:wt=Or.Free,zoomOnDoubleClick:wn=!0,panOnDrag:un=!0,onPaneClick:It,onPaneMouseEnter:ct,onPaneMouseMove:On,onPaneMouseLeave:ts,onPaneScroll:me,onPaneContextMenu:wr,children:Vn,onEdgeContextMenu:Rt,onEdgeDoubleClick:za,onEdgeMouseEnter:Nr,onEdgeMouseMove:Bn,onEdgeMouseLeave:Js,onEdgeUpdate:Ve,onEdgeUpdateStart:Wt,onEdgeUpdateEnd:yo,onReconnect:Sr,onReconnectStart:df,onReconnectEnd:Nt,reconnectRadius:ns=10,edgeUpdaterRadius:Nn=10,onNodesChange:xo,onEdgesChange:wo,noDragClassName:Er="nodrag",noWheelClassName:No="nowheel",noPanClassName:rs="nopan",fitView:Da=!1,fitViewOptions:ss,connectOnClick:jr=!0,attributionPosition:ei,proOptions:nt,defaultEdgeOptions:So,elevateNodesOnSelect:ae=!0,elevateEdgesOnSelect:ut=!1,disableKeyboardA11y:kr=!1,autoPanOnConnect:La=!0,autoPanOnNodeDrag:Eo=!0,connectionRadius:Fa=20,isValidConnection:Cr,onError:_r,style:Sn,id:ti,nodeDragThreshold:Tr,...is},br)=>{const Hn=ti||"1";return z.createElement("div",{...is,style:{...Sn,...RC},ref:br,className:Ke(["react-flow",s]),"data-testid":"rf__wrapper",id:ti},z.createElement(Dy,null,z.createElement(CC,{onInit:d,onMove:f,onMoveStart:h,onMoveEnd:m,onNodeClick:c,onEdgeClick:u,onNodeMouseEnter:v,onNodeMouseMove:x,onNodeMouseLeave:N,onNodeContextMenu:T,onNodeDoubleClick:b,nodeTypes:i,edgeTypes:o,connectionLineType:I,connectionLineStyle:L,connectionLineComponent:O,connectionLineContainerStyle:G,selectionKeyCode:Z,selectionOnDrag:ee,selectionMode:te,deleteKeyCode:Y,multiSelectionKeyCode:ue,panActivationKeyCode:ce,zoomActivationKeyCode:se,onlyRenderVisibleElements:Re,selectNodesOnDrag:Oe,defaultViewport:Mt,translateExtent:At,minZoom:vt,maxZoom:at,preventScrolling:yt,zoomOnScroll:an,zoomOnPinch:cn,zoomOnDoubleClick:wn,panOnScroll:Me,panOnScrollSpeed:_e,panOnScrollMode:wt,panOnDrag:un,onPaneClick:It,onPaneMouseEnter:ct,onPaneMouseMove:On,onPaneMouseLeave:ts,onPaneScroll:me,onPaneContextMenu:wr,onSelectionContextMenu:M,onSelectionStart:B,onSelectionEnd:A,onEdgeContextMenu:Rt,onEdgeDoubleClick:za,onEdgeMouseEnter:Nr,onEdgeMouseMove:Bn,onEdgeMouseLeave:Js,onReconnect:Sr??Ve,onReconnectStart:df??Wt,onReconnectEnd:Nt??yo,reconnectRadius:ns??Nn,defaultMarkerColor:Fn,noDragClassName:Er,noWheelClassName:No,noPanClassName:rs,elevateEdgesOnSelect:ut,rfId:Hn,disableKeyboardA11y:kr,nodeOrigin:J,nodeExtent:xt}),z.createElement(Ek,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:y,onConnectStart:j,onConnectEnd:E,onClickConnectStart:C,onClickConnectEnd:g,nodesDraggable:Se,nodesConnectable:tt,nodesFocusable:fe,edgesFocusable:We,edgesUpdatable:Ut,elementsSelectable:ln,elevateNodesOnSelect:ae,minZoom:vt,maxZoom:at,nodeExtent:xt,onNodesChange:xo,onEdgesChange:wo,snapToGrid:Ie,snapGrid:ye,connectionMode:k,translateExtent:At,connectOnClick:jr,defaultEdgeOptions:So,fitView:Da,fitViewOptions:ss,onNodesDelete:F,onEdgesDelete:H,onNodeDragStart:R,onNodeDrag:P,onNodeDragStop:D,onSelectionDrag:S,onSelectionDragStart:W,onSelectionDragStop:$,noPanClassName:rs,nodeOrigin:J,rfId:Hn,autoPanOnConnect:La,autoPanOnNodeDrag:Eo,onError:_r,connectionRadius:Fa,isValidConnection:Cr,nodeDragThreshold:Tr}),z.createElement(Nk,{onSelectionChange:X}),Vn,z.createElement(Kj,{proOptions:nt,position:ei}),z.createElement(Tk,{rfId:Hn,disableKeyboardA11y:kr})))});Ly.displayName="ReactFlow";function Fy(e){return t=>{const[n,r]=w.useState(t),s=w.useCallback(i=>r(o=>e(i,o)),[]);return[n,r,s]}}const PC=Fy(jy),$C=Fy(Bk),Oy=({id:e,x:t,y:n,width:r,height:s,style:i,color:o,strokeColor:c,strokeWidth:u,className:d,borderRadius:f,shapeRendering:h,onClick:m,selected:y})=>{const{background:j,backgroundColor:E}=i||{},C=o||j||E;return z.createElement("rect",{className:Ke(["react-flow__minimap-node",{selected:y},d]),x:t,y:n,rx:f,ry:f,width:r,height:s,fill:C,stroke:c,strokeWidth:u,shapeRendering:h,onClick:m?g=>m(g,e):void 0})};Oy.displayName="MiniMapNode";var zC=w.memo(Oy);const DC=e=>e.nodeOrigin,LC=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),Pc=e=>e instanceof Function?e:()=>e;function FC({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s=2,nodeComponent:i=zC,onClick:o}){const c=ve(LC,Ue),u=ve(DC),d=Pc(t),f=Pc(e),h=Pc(n),m=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return z.createElement(z.Fragment,null,c.map(y=>{const{x:j,y:E}=Ur(y,u).positionAbsolute;return z.createElement(i,{key:y.id,x:j,y:E,width:y.width,height:y.height,style:y.style,selected:y.selected,className:h(y),color:d(y),borderRadius:r,strokeColor:f(y),strokeWidth:s,shapeRendering:m,onClick:o,id:y.id})}))}var OC=w.memo(FC);const VC=200,BC=150,HC=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?Jj($a(t,e.nodeOrigin),n):n,rfId:e.rfId}},UC="react-flow__minimap-desc";function Vy({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:s="",nodeBorderRadius:i=5,nodeStrokeWidth:o=2,nodeComponent:c,maskColor:u="rgb(240, 240, 240, 0.6)",maskStrokeColor:d="none",maskStrokeWidth:f=1,position:h="bottom-right",onClick:m,onNodeClick:y,pannable:j=!1,zoomable:E=!1,ariaLabel:C="React Flow mini map",inversePan:g=!1,zoomStep:v=10,offsetScale:x=5}){const N=Fe(),T=w.useRef(null),{boundingRect:b,viewBB:R,rfId:P}=ve(HC,Ue),D=(e==null?void 0:e.width)??VC,F=(e==null?void 0:e.height)??BC,H=b.width/D,X=b.height/F,W=Math.max(H,X),S=W*D,$=W*F,M=x*W,B=b.x-(S-b.width)/2-M,A=b.y-($-b.height)/2-M,k=S+M*2,I=$+M*2,L=`${UC}-${P}`,O=w.useRef(0);O.current=W,w.useEffect(()=>{if(T.current){const Z=Lt(T.current),ee=ue=>{const{transform:se,d3Selection:Ie,d3Zoom:ye}=N.getState();if(ue.sourceEvent.type!=="wheel"||!Ie||!ye)return;const Re=-ue.sourceEvent.deltaY*(ue.sourceEvent.deltaMode===1?.05:ue.sourceEvent.deltaMode?1:.002)*v,Oe=se[2]*Math.pow(2,Re);ye.scaleTo(Ie,Oe)},te=ue=>{const{transform:se,d3Selection:Ie,d3Zoom:ye,translateExtent:Re,width:Oe,height:Se}=N.getState();if(ue.sourceEvent.type!=="mousemove"||!Ie||!ye)return;const tt=O.current*Math.max(1,se[2])*(g?-1:1),fe={x:se[0]-ue.sourceEvent.movementX*tt,y:se[1]-ue.sourceEvent.movementY*tt},J=[[0,0],[Oe,Se]],We=An.translate(fe.x,fe.y).scale(se[2]),Ut=ye.constrain()(We,J,Re);ye.transform(Ie,Ut)},ce=Wv().on("zoom",j?te:null).on("zoom.wheel",E?ee:null);return Z.call(ce),()=>{Z.on("zoom",null)}}},[j,E,g,v]);const G=m?Z=>{const ee=qt(Z);m(Z,{x:ee[0],y:ee[1]})}:void 0,Y=y?(Z,ee)=>{const te=N.getState().nodeInternals.get(ee);y(Z,te)}:void 0;return z.createElement(Kd,{position:h,style:e,className:Ke(["react-flow__minimap",t]),"data-testid":"rf__minimap"},z.createElement("svg",{width:D,height:F,viewBox:`${B} ${A} ${k} ${I}`,role:"img","aria-labelledby":L,ref:T,onClick:G},C&&z.createElement("title",{id:L},C),z.createElement(OC,{onClick:Y,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:s,nodeStrokeWidth:o,nodeComponent:c}),z.createElement("path",{className:"react-flow__minimap-mask",d:`M${B-M},${A-M}h${k+M*2}v${I+M*2}h${-k-M*2}z
        M${R.x},${R.y}h${R.width}v${R.height}h${-R.width}z`,fill:u,fillRule:"evenodd",stroke:d,strokeWidth:f,pointerEvents:"none"})))}Vy.displayName="MiniMap";var WC=w.memo(Vy);function XC(){return z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},z.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function QC(){return z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},z.createElement("path",{d:"M0 0h32v4.2H0z"}))}function YC(){return z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},z.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function GC(){return z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},z.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function KC(){return z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},z.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const _i=({children:e,className:t,...n})=>z.createElement("button",{type:"button",className:Ke(["react-flow__controls-button",t]),...n},e);_i.displayName="ControlButton";const ZC=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),By=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:o,onFitView:c,onInteractiveChange:u,className:d,children:f,position:h="bottom-left"})=>{const m=Fe(),[y,j]=w.useState(!1),{isInteractive:E,minZoomReached:C,maxZoomReached:g}=ve(ZC,Ue),{zoomIn:v,zoomOut:x,fitView:N}=of();if(w.useEffect(()=>{j(!0)},[]),!y)return null;const T=()=>{v(),i==null||i()},b=()=>{x(),o==null||o()},R=()=>{N(s),c==null||c()},P=()=>{m.setState({nodesDraggable:!E,nodesConnectable:!E,elementsSelectable:!E}),u==null||u(!E)};return z.createElement(Kd,{className:Ke(["react-flow__controls",d]),position:h,style:e,"data-testid":"rf__controls"},t&&z.createElement(z.Fragment,null,z.createElement(_i,{onClick:T,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:g},z.createElement(XC,null)),z.createElement(_i,{onClick:b,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:C},z.createElement(QC,null))),n&&z.createElement(_i,{className:"react-flow__controls-fitview",onClick:R,title:"fit view","aria-label":"fit view"},z.createElement(YC,null)),r&&z.createElement(_i,{className:"react-flow__controls-interactive",onClick:P,title:"toggle interactivity","aria-label":"toggle interactivity"},E?z.createElement(KC,null):z.createElement(GC,null)),f)};By.displayName="Controls";var qC=w.memo(By),rn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(rn||(rn={}));function JC({color:e,dimensions:t,lineWidth:n}){return z.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function e_({color:e,radius:t}){return z.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const t_={[rn.Dots]:"#91919a",[rn.Lines]:"#eee",[rn.Cross]:"#e2e2e2"},n_={[rn.Dots]:1,[rn.Lines]:1,[rn.Cross]:6},r_=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Hy({id:e,variant:t=rn.Dots,gap:n=20,size:r,lineWidth:s=1,offset:i=2,color:o,style:c,className:u}){const d=w.useRef(null),{transform:f,patternId:h}=ve(r_,Ue),m=o||t_[t],y=r||n_[t],j=t===rn.Dots,E=t===rn.Cross,C=Array.isArray(n)?n:[n,n],g=[C[0]*f[2]||1,C[1]*f[2]||1],v=y*f[2],x=E?[v,v]:g,N=j?[v/i,v/i]:[x[0]/i,x[1]/i];return z.createElement("svg",{className:Ke(["react-flow__background",u]),style:{...c,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:d,"data-testid":"rf__background"},z.createElement("pattern",{id:h+e,x:f[0]%g[0],y:f[1]%g[1],width:g[0],height:g[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${N[0]},-${N[1]})`},j?z.createElement(e_,{color:m,radius:v/i}):z.createElement(JC,{dimensions:x,color:m,lineWidth:s})),z.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${h+e})`}))}Hy.displayName="Background";var s_=w.memo(Hy);const fl=[{id:"dashboard",title:"Dashboard",subtitle:"Visao geral dos dispositivos e conversas."},{id:"devices",title:"Dispositivos",subtitle:"Gerencie sessoes WhatsApp e QR sob demanda."},{id:"atendimento",title:"Atendimento",subtitle:"Listagem e acompanhamento dos atendimentos."},{id:"chatbot",title:"Chatbot",subtitle:"Comandos # e respostas rapidas por dispositivo."},{id:"variables",title:"Variaveis",subtitle:"Gerencie variaveis para usar em {#nome_da_variavel}."},{id:"flows",title:"Fluxos de Chatbot",subtitle:"Gerencie e edite fluxos visuais do chatbot."},{id:"followups",title:"Follow-ups",subtitle:"Reatribua dispositivos e acompanhe retornos."},{id:"tests",title:"Requisicoes NEWBR",subtitle:"Execucoes registradas da API NewBR."}],$c=[{value:"today",label:"Hoje"},{value:"7d",label:"Ultimos 7 dias"},{value:"30d",label:"Ultimos 30 dias"}],Fp=[{value:"",label:"Todos"},{value:"today",label:"Hoje"},{value:"7d",label:"Ultimos 7 dias"},{value:"30d",label:"Ultimos 30 dias"}],zc=8,Dc=6,i_={includes:"Contem",exact:"Frase exata",starts_with:"Comeca",list:"Lista"},Gu=[{type:"text",label:"Enviar Texto",icon:"TXT",hint:"Esse bloco envia um texto para o usuario interagir com o fluxo."},{type:"image",label:"Enviar Imagem",icon:"IMG",hint:"Esse bloco envia uma imagem para o usuario interagir com o fluxo."},{type:"video",label:"Enviar Video",icon:"VID",hint:"Esse bloco envia um video para o usuario interagir com o fluxo."},{type:"audio",label:"Enviar Audio",icon:"AUD",hint:"Esse bloco envia um audio para o usuario interagir com o fluxo."},{type:"document",label:"Enviar Documento",icon:"DOC",hint:"Esse bloco envia um documento para o usuario interagir com o fluxo."},{type:"responses",label:"Respostas",icon:"RSP",hint:"Esse bloco espera uma resposta para seguir o fluxo."},{type:"list",label:"Enviar Lista",icon:"LST",hint:"Esse bloco envia uma lista para o usuario interagir com o fluxo."}],Al=Gu.reduce((e,t)=>(e[t.type]=t,e),{}),af="__flow_meta",pn="flow-start",Uy=[{value:"minutes",label:"Minutos"},{value:"hours",label:"Horas"},{value:"days",label:"Dias"}],o_=16*1024*1024,l_=16,Lc={image:"image/jpeg,image/png,image/webp,image/gif",video:"video/mp4,video/quicktime,video/3gpp,video/x-msvideo",audio:"audio/*",document:".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.zip,.json,.csv"},hl={image:"Tipos aceitos: JPEG, PNG, WEBP, GIF. Max 16MB.",video:"Tipos aceitos: MP4, MOV, 3GP, AVI. Max 16MB.",audio:"Tipos aceitos: audio. Max 16MB.",document:"Tipos aceitos: PDF, DOC, DOCX, XLS, XLSX, PPT, PPTX, ZIP, JSON, CSV. Max 16MB."},Op=[{name:"nome",label:"Nome do contato",source:"Contato do WhatsApp (nome do cliente)."},{name:"telefone",label:"Telefone do contato",source:"WhatsApp do cliente no formato E.164."},{name:"usuario",label:"Usuario do teste",source:"Extraido do retorno do NewBR (texto ou URL)."},{name:"senha",label:"Senha do teste",source:"Extraido do retorno do NewBR (texto ou URL)."},{name:"http1",label:"Primeiro link HTTP",source:"Primeiro link encontrado no retorno do NewBR."},{name:"http2",label:"Segundo link HTTP",source:"Segundo link encontrado no retorno do NewBR."}],wi={open:!1,device:null,status:"disconnected",imageUrl:null,issuedAt:null,expiresAt:null,connected:!1,message:"",waiting:!1},Ls="/admin/".replace(/\/$/,"");function Fc(e){const t=e.startsWith("/")?e:`/${e}`;return!Ls||Ls==="/"?t:`${Ls}${t}`}function Vp(e){const t=Ls&&Ls!=="/"?Ls:"";let n=e||"/";if(t&&n.startsWith(t)&&(n=n.slice(t.length)),n.startsWith("/")||(n=`/${n}`),n==="/atendimento")return{view:"atendimento",attendanceId:null};const r="/atendimento/visualizar/";if(n.startsWith(r)){const s=n.slice(r.length).trim();if(s)return{view:"atendimento",attendanceId:s}}return null}async function oe(e,t={}){const n=await fetch(e,{headers:{"Content-Type":"application/json"},credentials:"same-origin",...t});if(!n.ok){const r=await n.text();throw new Error(r||"Erro na API")}return n.status===204?null:n.json()}function Gn(e){if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString()}function Bp(e){return(e||"disconnected").toString()}function a_(e){const t=Math.max(0,Math.ceil(e/1e3)),n=Math.floor(t/60),r=t%60;return`${String(n).padStart(2,"0")}:${String(r).padStart(2,"0")}`}function c_(e){if(!Number.isFinite(e)||e<0)return"--";const t=Math.floor(e/1e3),n=Math.floor(t/3600),r=Math.floor(t%3600/60),s=t%60;return`${String(n).padStart(2,"0")}:${String(r).padStart(2,"0")}:${String(s).padStart(2,"0")}`}function Gt(e){return e===0?"0":e?String(e):"--"}function Hp(e){return e==="closed"?{label:"Finalizado",pill:"danger",header:"Finalizado",situation:"Finalizado"}:{label:"Ativo",pill:"success",header:"Em atendimento",situation:"Nao finalizado"}}function Up(e){if(!e)return"Device";const t=e.devicePhone?` (${e.devicePhone})`:"";return`${e.name||e.id}${t}`}function Wp(e){return i_[e]||e||"Custom"}function cf(){return{__type:af,version:1,triggers:{anyMessage:!1,keywordMessage:!0,firstMessageDay:!1,firstMessage:!1},reactivation:{value:0,unit:"minutes"},rules:{allowGroups:!1,scheduleOnly:!1,ignoreOpen:!1,customSignature:!1,simulateTyping:!0,crmIgnore:!1,crmIgnoreAll:!1,crmOnly:!1,tagIgnore:!1,tagIgnoreAll:!1,tagOnly:!1}}}function uf(e){const t=cf();if(!e||typeof e!="object")return t;const n={...t,triggers:{...t.triggers,...e.triggers||{}},reactivation:{...t.reactivation,...e.reactivation||{}},rules:{...t.rules,...e.rules||{}}};n.__type=af,n.version=t.version,new Set(Uy.map(i=>i.value)).has(n.reactivation.unit)||(n.reactivation.unit=t.reactivation.unit);const s=Number(n.reactivation.value);return n.reactivation.value=Number.isNaN(s)||s<0?0:s,n}function pl(e){const t=Array.isArray(e)?e:[],n=[];let r=null;return t.forEach(s=>{if(s&&typeof s=="object"&&s.__type===af){r=s;return}if(typeof s=="string"){const i=s.trim();i&&n.push(i)}}),{keywords:n,meta:uf(r)}}function Oc(e,t){return[...(Array.isArray(e)?e:[]).map(s=>String(s||"").trim()).filter(s=>s),uf(t)]}function Xp(e,t){const n=cf();return n.triggers={...n.triggers,anyMessage:!!(e!=null&&e.anyMessage),keywordMessage:!!(e!=null&&e.keywordMessage),firstMessageDay:!!(e!=null&&e.firstMessageDay),firstMessage:!!(e!=null&&e.firstMessage)},n.rules={...n.rules,allowGroups:!!(e!=null&&e.allowGroups),scheduleOnly:!!(e!=null&&e.scheduleOnly),ignoreOpen:!!(e!=null&&e.ignoreOpen),customSignature:!!(e!=null&&e.customSignature),simulateTyping:!!(e!=null&&e.simulateTyping),crmIgnore:!!(e!=null&&e.crmIgnore),crmIgnoreAll:!!(e!=null&&e.crmIgnoreAll),crmOnly:!!(e!=null&&e.crmOnly),tagIgnore:!!(e!=null&&e.tagIgnore),tagIgnoreAll:!!(e!=null&&e.tagIgnoreAll),tagOnly:!!(e!=null&&e.tagOnly)},n.reactivation={value:Number(t==null?void 0:t.value)||0,unit:(t==null?void 0:t.unit)||n.reactivation.unit},uf(n)}function pr(e){const t=Math.random().toString(16).slice(2,10);return`${e}-${t}`}function Qp(e){const t=Array.isArray(e)?e:[];let n=0;return t.forEach(r=>{const s=/^node-(\d+)$/.exec((r==null?void 0:r.id)||"");if(s){const i=Number(s[1]);i>n&&(n=i)}}),n+1}function da(e){return e==="text"?{message:"",saveVar:"",tags:[],timeoutMinutes:0}:e==="image"||e==="video"?{fileName:"",caption:"",saveVar:"",timeoutMinutes:0}:e==="document"?{fileName:"",saveVar:"",timeoutMinutes:0}:e==="audio"?{fileName:"",caption:"",saveVar:"",recording:!1,timeoutMinutes:0}:e==="responses"?{message:"",options:[{id:pr("option"),label:""}],matchType:"includes",saveVar:"",fallbackRepeat:!1,timeoutMinutes:0}:e==="list"?{title:"",description:"",footer:"",buttonText:"",categories:[{id:pr("category"),title:"",items:[]}],saveVar:"",fallbackRepeat:!1,timeoutMinutes:0}:{message:""}}function Wy(e,t){const n=Array.isArray(e)?e:[];return n.length?n.map(r=>({id:(r==null?void 0:r.id)||pr("option"),label:(r==null?void 0:r.label)||(r==null?void 0:r.text)||""})):t}function Xy(e,t){const n=Array.isArray(e)?e:[];return n.length?n.map(r=>({id:(r==null?void 0:r.id)||pr("category"),title:(r==null?void 0:r.title)||(r==null?void 0:r.name)||"",items:Array.isArray(r==null?void 0:r.items)?r.items.map(s=>({id:(s==null?void 0:s.id)||pr("item"),title:(s==null?void 0:s.title)||(s==null?void 0:s.label)||(s==null?void 0:s.name)||"",description:(s==null?void 0:s.description)||""})):[]})):t}function u_(e,t){const n=da(e);if(!t||typeof t!="object")return n;const r=t.data&&typeof t.data=="object"?t.data:t,s={...n,...r};(e==="text"||e==="responses")&&(s.message=r.message||r.text||r.label||r.title||""),e==="responses"&&(s.options=Wy(r.options,n.options)),e==="list"&&(s.categories=Xy(r.categories,n.categories));const i=Number(s.timeoutMinutes);return s.timeoutMinutes=Number.isFinite(i)&&i>0?i:0,s}function d_(e,t){const n=Number((t==null?void 0:t.timeoutMinutes)||0);if(e==="responses"){const i=(Array.isArray(t==null?void 0:t.options)?t.options:[]).map((o,c)=>({id:`option-${o.id||c}`,label:o.label||`Opcao ${c+1}`,type:"option"}));return n>0&&i.push({id:"timeout",label:`${n} minutos sem responder`,type:"timeout"}),i}if(e==="list"){const s=Array.isArray(t==null?void 0:t.categories)?t.categories:[],i=[];return s.forEach((o,c)=>{const u=o.title||`Categoria ${c+1}`,d=Array.isArray(o.items)?o.items:[];d.length?d.forEach((f,h)=>{const m=f.title||`Item ${h+1}`;i.push({id:`item-${f.id||`${c}-${h}`}`,label:`${u}: ${m}`,type:"option"})}):i.push({id:`category-${o.id||c}`,label:u,type:"option"})}),i.length===0&&i.push({id:"next",label:"Chamar proximo bloco",type:"next"}),n>0&&i.push({id:"timeout",label:`${n} minutos sem responder`,type:"timeout"}),i}const r=[{id:"next",label:"Chamar proximo bloco",type:"next"},{id:"reply",label:"Quando responder",type:"reply"}];return n>0&&r.push({id:"timeout",label:`${n} minutos sem responder`,type:"timeout"}),r}function Yp(e){const t=Array.isArray(e)?e:[],n=t.map((o,c)=>{var y;let u="text",d=da("text");typeof o=="string"?(d=da("text"),d.message=o):o&&typeof o=="object"&&(u=o.type||(o.message,"text"),d=u_(u,o));const f=(o==null?void 0:o.id)||`node-${c+1}`,h=o!=null&&o.position&&typeof o.position=="object"?o.position:null,m={x:Number(h==null?void 0:h.x)||0,y:Number(h==null?void 0:h.y)||c*140};return{id:f,type:"flowAction",position:m,data:{kind:u,label:((y=Al[u])==null?void 0:y.label)||"Bloco",config:d}}}),r=new Set(n.map(o=>o.id)),s=t.some(o=>o&&typeof o=="object"&&o.connections&&Object.keys(o.connections).length),i=[];if(s)t.forEach((o,c)=>{var d;const u=(d=n[c])==null?void 0:d.id;!u||!o||typeof o!="object"||!o.connections||Object.entries(o.connections).forEach(([f,h])=>{!h||!r.has(h)||i.push({id:`edge-${u}-${f}-${h}`,source:u,sourceHandle:f,target:h,type:"smoothstep"})})});else for(let o=0;o<n.length-1;o+=1)i.push({id:`edge-${n[o].id}-next-${n[o+1].id}`,source:n[o].id,sourceHandle:"next",target:n[o+1].id,type:"smoothstep"});return{nodes:n,edges:i}}function Qy(e,t){const n=t&&typeof t=="object"?{...t}:{};e==="responses"&&(n.options=Wy(n.options,[])),e==="list"&&(n.categories=Xy(n.categories,[]));const r=Number(n.timeoutMinutes);return n.timeoutMinutes=Number.isFinite(r)&&r>0?r:0,n}function f_(e,t){const n=e.filter(s=>s.id!==pn),r=new Map;return t.forEach(s=>{if(!s.source||s.source===pn)return;const i=s.sourceHandle||"next";r.has(s.source)||r.set(s.source,{}),r.get(s.source)[i]=s.target}),n.map(s=>{var d,f;const i=((d=s.data)==null?void 0:d.kind)||"text",o=Qy(i,((f=s.data)==null?void 0:f.config)||{}),c={id:s.id,type:i,position:s.position,data:o},u=r.get(s.id);return u&&Object.keys(u).length&&(c.connections=u),(i==="text"||i==="responses")&&(c.message=o.message||""),c})}function Ti(e){const t=(e||"").trim();if(!t)return[];const n=JSON.parse(t);if(!Array.isArray(n))throw new Error("JSON precisa ser uma lista");return n}function Gp(e){try{return Ti(e)}catch{return[]}}function Kp({initialName:e,confirmLabel:t,onCancel:n,onSubmit:r}){const[s,i]=w.useState(e||"");return a.jsxs("div",{className:"flow-name-form",children:[a.jsx("input",{className:"input",placeholder:"Nome do fluxo",value:s,onChange:o=>i(o.target.value)}),a.jsxs("div",{className:"form-row",children:[a.jsx("button",{className:"secondary",onClick:n,children:"Cancelar"}),a.jsx("button",{className:"primary",onClick:()=>r(s),children:t})]})]})}function h_(e,t){return e==="text"?(t==null?void 0:t.message)||"Mensagem vazia":e==="image"?t!=null&&t.fileName?`Imagem: ${t.fileName}`:"Imagem nao definida":e==="video"?t!=null&&t.fileName?`Video: ${t.fileName}`:"Video nao definido":e==="audio"?t!=null&&t.fileName?`Audio: ${t.fileName}`:"Audio nao definido":e==="document"?t!=null&&t.fileName?`Documento: ${t.fileName}`:"Documento nao definido":e==="responses"?(t==null?void 0:t.message)||"Pergunta nao definida":e==="list"?(t==null?void 0:t.title)||"Lista sem titulo":"Bloco configuravel"}function Yy(e){const t=new Date;if(e==="today")return t.setHours(0,0,0,0),t;const n=e==="30d"?30:7;return new Date(t.getTime()-n*24*60*60*1e3)}function Zp(e,t){if(!t)return!0;if(!e)return!1;const n=new Date(e);if(Number.isNaN(n.getTime()))return!1;const r=Yy(t);return r?n>=r:!0}function qp(e,t,n){const r=t==="30d"?30:t==="today"?1:7,s=new Map;e.filter(n).forEach(c=>{const u=new Date(c.createdAt||Date.now());if(Number.isNaN(u.getTime()))return;u.setHours(0,0,0,0);const d=u.toISOString().slice(0,10);s.set(d,(s.get(d)||0)+1)});const i=[],o=[];for(let c=r-1;c>=0;c-=1){const u=new Date;u.setHours(0,0,0,0),u.setDate(u.getDate()-c);const d=u.toISOString().slice(0,10);o.push(s.get(d)||0),i.push(u.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}))}return{labels:i,values:o}}function p_(){var Lf,Ff,Of;const[e,t]=w.useState({status:"checking",user:null}),[n,r]=w.useState({username:"",password:"",error:""}),[s,i]=w.useState(fl[0].id),[o,c]=w.useState("7d"),[u,d]=w.useState([]),[f,h]=w.useState(""),[m,y]=w.useState(""),[j,E]=w.useState("offline"),[C,g]=w.useState(wi),[v,x]=w.useState(12e4),N=w.useRef(null),T=w.useRef(null),[b,R]=w.useState(""),[P,D]=w.useState([]),[F,H]=w.useState([]),[X,W]=w.useState([]),[S,$]=w.useState([]),[M,B]=w.useState(""),[A,k]=w.useState(""),[I,L]=w.useState({trigger:"",responseTemplate:"",commandType:"test",enabled:!0,deviceId:""}),[O,G]=w.useState({trigger:"",response:"",matchType:"includes",enabled:!0,deviceId:""}),[Y,Z]=w.useState({name:"",triggers:"[]",stages:"[]",flowType:"custom",enabled:!1,deviceId:""}),[ee,te]=w.useState(""),[ce,ue]=w.useState("trigger"),[se,Ie]=w.useState(""),[ye,Re]=w.useState(1),[Oe,Se]=w.useState(null),[tt,fe]=w.useState(null),[J,We]=w.useState(null),[Ut,ln]=w.useState(!1),[Mt,vt]=w.useState("select"),[at,At]=w.useState(null),[yt,xt]=w.useState(null),[Fn,an]=w.useState(!1),[cn,Me]=w.useState(null),[_e,wt]=w.useState({name:"",value:"",deviceId:""}),[wn,un]=w.useState(!1),[It,ct]=w.useState(""),[On,ts]=w.useState(!1),[me,wr]=w.useState({anyMessage:!1,keywordMessage:!0,firstMessageDay:!1,firstMessage:!1,allowGroups:!1,scheduleOnly:!1,ignoreOpen:!1,customSignature:!1,simulateTyping:!0,crmIgnore:!1,crmIgnoreAll:!1,crmOnly:!1,tagIgnore:!1,tagIgnoreAll:!1,tagOnly:!1}),[Vn,Rt]=w.useState({value:0,unit:"minutes"}),[za,Nr]=w.useState(!1),[Bn,Js]=w.useState(null),[Ve,Wt]=w.useState({name:"",triggers:"[]",stages:"[]",flowType:"custom",enabled:!0,deviceId:""}),[yo,Sr]=w.useState(""),[df,Nt]=w.useState(!1),[ns,Nn,xo]=PC([]),[wo,Er,No]=$C([]),[rs,Da]=w.useState(null),ss=w.useRef(1),jr=w.useRef([]),ei=w.useRef(null),[nt,So]=w.useState({open:!1,nodeId:null,kind:""}),[ae,ut]=w.useState(null),[kr,La]=w.useState([]),[Eo,Fa]=w.useState([]),[Cr,_r]=w.useState({q:"",deviceId:"",entryRange:"",exitRange:""}),[Sn,ti]=w.useState({q:"",deviceId:"",entryRange:"",exitRange:""}),[Tr,is]=w.useState(1),[br,Hn]=w.useState(null),[ne,jo]=w.useState(null),[ff,ko]=w.useState(""),[Gy,Ky]=w.useState(""),[Zy,qy]=w.useState(Date.now()),[Mr,Jy]=w.useState([]),[St,Co]=w.useState({status:"",from:"",to:"",deviceId:""}),[os,e0]=w.useState([]),[Xt,t0]=w.useState([]),[Oa,ls]=w.useState({open:!1,title:"",content:null}),hf=w.useMemo(()=>fl.find(l=>l.id===s)||fl[0],[s]),dn=w.useMemo(()=>u.map(l=>({value:l.id,label:Up(l)})),[u]),n0=w.useMemo(()=>new Set(Op.map(l=>l.name)),[]),as=w.useMemo(()=>{const l=new Map;return u.forEach(p=>{l.set(p.id,Up(p))}),l},[u]),Pt=w.useMemo(()=>X.find(l=>l.id===Bn)||null,[X,Bn]),pf=w.useMemo(()=>{const l=F.length,p=F.filter(_=>_.enabled).length;return{total:l,active:p,inactive:l-p}},[F]),mf=w.useMemo(()=>{const l=P.length,p=P.filter(V=>V.enabled).length,_=P.filter(V=>V.commandType==="test").length;return{total:l,active:p,inactive:l-p,tests:_}},[P]),ni=w.useMemo(()=>{let l=F;if(se&&(l=l.filter(p=>p.matchType===se)),ee.trim()){const p=ee.trim().toLowerCase();l=l.filter(_=>((ce==="response"?_.response:_.trigger)||"").toLowerCase().includes(p))}return l},[F,ee,ce,se]),gf=w.useMemo(()=>{let l=S;if(A.trim()){const p=A.trim().toLowerCase();l=l.filter(_=>{const V=(_.name||"").toLowerCase(),Q=(_.value||"").toLowerCase();return V.includes(p)||Q.includes(p)})}return l},[S,A]),ri=w.useMemo(()=>Math.max(1,Math.ceil(ni.length/Dc)),[ni.length]),vf=w.useMemo(()=>{const l=(ye-1)*Dc;return ni.slice(l,l+Dc)},[ni,ye]),yf=w.useMemo(()=>{const l=(ne==null?void 0:ne.deviceId)||"";return(F||[]).filter(p=>p.enabled!==!1).filter(p=>!p.deviceId||!l||p.deviceId===l)},[F,ne]),xf=w.useMemo(()=>((ne==null?void 0:ne.messages)||[]).map((p,_)=>({msg:p,index:_})).sort((p,_)=>{const V=new Date(p.msg.createdAt).getTime(),Q=new Date(_.msg.createdAt).getTime(),re=Number.isFinite(V),he=Number.isFinite(Q);if(re&&he&&V!==Q)return V-Q;if(re!==he)return re?-1:1;const Xe=(p.msg.origin||"").toUpperCase(),$e=(_.msg.origin||"").toUpperCase(),xe=Xe==="AGENTE";if(xe&&$e==="BOT"||Xe==="BOT"&&$e==="AGENTE")return xe?-1:1;const Ka=Number(p.msg.id),Za=Number(_.msg.id);return Number.isFinite(Ka)&&Number.isFinite(Za)&&Ka!==Za?Ka-Za:p.index-_.index}).map(p=>p.msg),[ne]),_o=w.useMemo(()=>{const l=Sn.q.trim().toLowerCase(),p=Sn.deviceId,_=Sn.entryRange,V=Sn.exitRange;return Eo.filter(Q=>!(p&&Q.deviceId!==p||_&&!Zp(Q.startedAt,_)||V&&!Zp(Q.closedAt,V)||l&&!`${Q.name||""} ${Q.phone||""} ${Q.protocol||""} ${Q.deviceName||""} ${Q.deviceId||""}`.toLowerCase().includes(l)))},[Eo,Sn]),si=w.useMemo(()=>Math.max(1,Math.ceil(_o.length/zc)),[_o.length]),wf=w.useMemo(()=>{const l=(Tr-1)*zc;return _o.slice(l,l+zc)},[_o,Tr]),To=w.useMemo(()=>{const l=Gp(Ve.triggers);return pl(l).keywords},[Ve.triggers]),bo=w.useMemo(()=>{try{return{stages:Ti(Ve.stages),error:""}}catch(l){return{stages:[],error:l.message||"JSON invalido"}}},[Ve.stages]),Mo=w.useMemo(()=>{const l=u.length,p=u.filter(xe=>xe.status==="connected").length,_=kr.length,V=kr.filter(xe=>xe.status==="open").length,Q=Mr.length,re=Mr.filter(xe=>xe.status==="error").length,he=Xt.filter(xe=>["message_received","message_sent"].includes(xe.eventType)).length,Xe=os.length,$e=new Set(kr.map(xe=>xe.phone).filter(Boolean)).size;return{totalDevices:l,connectedDevices:p,totalConversations:_,openConversations:V,totalTests:Q,testErrors:re,totalMessages:he,pendingSchedules:Xe,contacts:$e}},[u,kr,Mr,Xt,os]),Va=w.useMemo(()=>qp(Xt,o,l=>["message_received","message_sent"].includes(l.eventType)),[Xt,o]),Ao=w.useMemo(()=>qp(Xt,o,l=>l.origin==="BOT"&&l.eventType==="message_sent"),[Xt,o]),ii=w.useMemo(()=>{const l=Xt.filter(Q=>Q.origin==="BOT").length,p=Mr.length,_=os.length,V=Xt.filter(Q=>Q.origin==="AGENTE"&&Q.eventType==="message_sent").length;return[{label:"Chatbot",value:l,color:"#22c55e"},{label:"API",value:p,color:"#f97316"},{label:"Mensagem Agendada",value:_,color:"#8b5cf6"},{label:"list-message-response",value:V,color:"#0ea5e9"}]},[Xt,Mr,os]),cs=w.useMemo(()=>ii.reduce((l,p)=>l+(Number(p.value)||0),0),[ii]),r0=w.useMemo(()=>{if(!cs)return"conic-gradient(#1f2937 0deg 360deg)";let l=0;return`conic-gradient(${ii.map(_=>{const V=(Number(_.value)||0)/cs*360,Q=l,re=l+V;return l=re,`${_.color} ${Q}deg ${re}deg`}).join(", ")})`},[ii,cs]),Nf=w.useMemo(()=>u.map(l=>{const p=Xt.filter(_=>_.deviceId===l.id).length;return{...l,messageCount:p}}),[u,Xt]),s0=w.useMemo(()=>{const l=Va.values;if(!l.length)return"";const p=Math.max(...l,1),_=320,V=120,Q=10,re=10;return l.map((he,Xe)=>{const $e=l.length===1?_/2:Q+Xe/(l.length-1)*(_-Q*2),xe=V-re-he/p*(V-re*2);return`${$e},${xe}`}).join(" ")},[Va.values]),i0=w.useMemo(()=>Math.max(...Ao.values,1),[Ao.values]),Ba=w.useCallback(async()=>{try{const l=await oe("/api/me");t({status:"ready",user:l.user||null})}catch{t({status:"login",user:null})}},[]),$t=w.useCallback(async()=>{const l=await oe("/api/devices");d(Array.isArray(l)?l:[])},[]),Qt=w.useCallback(async()=>{const l=new URLSearchParams;b&&l.set("deviceId",b);const p=l.toString()?`?${l.toString()}`:"",[_,V]=await Promise.all([oe(`/api/chatbot/agent-commands${p}`),oe(`/api/chatbot/quick-replies${p}`)]);D(_||[]),H(V||[])},[b]),Un=w.useCallback(async()=>{const l=new URLSearchParams;M&&l.set("deviceId",M);const p=l.toString()?`?${l.toString()}`:"",_=await oe(`/api/chatbot/variables${p}`);$(_||[])},[M]),En=w.useCallback(async()=>{const l=new URLSearchParams;b&&l.set("deviceId",b);const p=l.toString()?`?${l.toString()}`:"",_=await oe(`/api/chatbot/flows${p}`);W(_||[])},[b]),Io=w.useCallback(async()=>{const l=await oe("/api/conversations");La(l||[])},[]),Wn=w.useCallback(async(l=Sn)=>{const p=new URLSearchParams;l.q&&p.set("q",l.q),l.deviceId&&p.set("deviceId",l.deviceId);const _=p.toString()?`?${p.toString()}`:"",V=await oe(`/api/conversations${_}`);Fa(V||[])},[Sn]),Ro=w.useCallback(async l=>{if(!l)return;const p=await oe(`/api/conversations/${l}`);jo(p||null),Ky((p==null?void 0:p.deviceId)||"")},[]),Sf=w.useCallback(async()=>{const l=await oe("/api/chatbot/quick-replies");H(l||[])},[]),Ar=w.useCallback(async()=>{const l=new URLSearchParams;St.status&&l.set("status",St.status),St.from&&l.set("from",St.from),St.to&&l.set("to",St.to),St.deviceId&&l.set("deviceId",St.deviceId);const p=l.toString()?`?${l.toString()}`:"",_=await oe(`/api/tests${p}`);Jy(_||[])},[St]),Ir=w.useCallback(async()=>{const l=await oe("/api/followups");e0(l||[])},[]),Po=w.useCallback(async()=>{const l=new URLSearchParams,p=Yy(o);p&&l.set("from",p.toISOString());const _=l.toString()?`?${l.toString()}`:"",V=await oe(`/api/interactions${_}`);t0(V||[])},[o]);w.useEffect(()=>{Ba().catch(()=>{})},[Ba]),w.useEffect(()=>{const l=Vp(window.location.pathname);l&&(i(l.view),Hn(l.attendanceId||null))},[]),w.useEffect(()=>{const l=()=>{const p=Vp(window.location.pathname);p&&(i(p.view),Hn(p.attendanceId||null))};return window.addEventListener("popstate",l),()=>window.removeEventListener("popstate",l)},[]),w.useEffect(()=>{e.status==="ready"&&$t().catch(()=>{})},[e.status,$t]),w.useEffect(()=>{e.status==="ready"&&(s==="dashboard"&&($t().catch(()=>{}),Io().catch(()=>{}),Ar().catch(()=>{}),Ir().catch(()=>{}),Po().catch(()=>{})),s==="chatbot"&&Qt().catch(()=>{}),s==="variables"&&Un().catch(()=>{}),s==="flows"&&En().catch(()=>{}),s==="atendimento"&&(Wn().catch(()=>{}),Sf().catch(()=>{})),s==="tests"&&Ar().catch(()=>{}),s==="followups"&&Ir().catch(()=>{}))},[e.status,s,$t,Qt,Un,En,Io,Wn,Sf,Ar,Ir,Po]),w.useEffect(()=>{if(e.status!=="ready")return;const l=setInterval(()=>{s==="dashboard"&&($t().catch(()=>{}),Io().catch(()=>{}),Ar().catch(()=>{}),Ir().catch(()=>{}),Po().catch(()=>{})),s==="devices"&&$t().catch(()=>{}),s==="chatbot"&&Qt().catch(()=>{}),s==="variables"&&Un().catch(()=>{}),s==="flows"&&En().catch(()=>{}),s==="atendimento"&&Wn().catch(()=>{}),s==="tests"&&Ar().catch(()=>{}),s==="followups"&&Ir().catch(()=>{})},6e3);return()=>clearInterval(l)},[e.status,s,$t,Qt,Un,En,Io,Wn,Ar,Ir,Po]),w.useEffect(()=>{if(!br){jo(null);return}e.status==="ready"&&Ro(br).catch(()=>{})},[br,Ro,e.status]),w.useEffect(()=>{Tr>si&&is(si)},[Tr,si]),w.useEffect(()=>{if(s!=="atendimento")return;const l=setInterval(()=>{qy(Date.now())},1e3);return()=>clearInterval(l)},[s]),w.useEffect(()=>{var l;if(!Bn&&X.length){Js(X[0].id);return}Bn&&!X.some(p=>p.id===Bn)&&Js(((l=X[0])==null?void 0:l.id)||null)},[X,Bn]),w.useEffect(()=>{if(!Pt){Wt({name:"",triggers:"[]",stages:"[]",flowType:"custom",enabled:!0,deviceId:""}),Sr("");const re=cf();wr(he=>({...he,...re.triggers,...re.rules})),Rt(re.reactivation),Nn([]),Er([]),Nt(!1);return}const{keywords:l,meta:p}=pl(Pt.triggers||[]);Wt({name:Pt.name||"",triggers:JSON.stringify(Oc(l,p),null,2),stages:JSON.stringify(Pt.stages||[],null,2),flowType:Pt.flowType||"custom",enabled:!!Pt.enabled,deviceId:Pt.deviceId||""}),wr(re=>({...re,...p.triggers,...p.rules})),Rt(p.reactivation);const _=Yp(Pt.stages||[]),V={id:pn,type:"flowStart",position:{x:-220,y:0},draggable:!1,selectable:!1,data:{label:"Inicio"}},Q=_.nodes.length?[{id:`edge-${pn}-${_.nodes[0].id}`,source:pn,sourceHandle:"next",target:_.nodes[0].id,type:"smoothstep"}]:[];Nn([V,..._.nodes]),Er([...Q,..._.edges]),ss.current=Qp(_.nodes),Nt(!1),Sr("")},[Pt]),w.useEffect(()=>{jr.current=ns},[ns]),w.useEffect(()=>{const l=Xp(me,Vn);Wt(p=>{const _=Gp(p.triggers),{keywords:V}=pl(_),Q=JSON.stringify(Oc(V,l),null,2);return Q===p.triggers?p:{...p,triggers:Q}})},[me,Vn]),w.useEffect(()=>{L(l=>({...l,deviceId:b||""})),G(l=>({...l,deviceId:b||""})),Z(l=>({...l,deviceId:b||""}))},[b]),w.useEffect(()=>{wt(l=>({...l,deviceId:M||""}))},[M]),w.useEffect(()=>{Re(1),Se(null),fe(null)},[ee,ce,se,b]),w.useEffect(()=>{ye>ri&&Re(ri)},[ye,ri]),w.useEffect(()=>{if(!C.open||!C.device)return;const l=C.device.id;let p=!0;const _=async()=>{try{const Q=await oe(`/api/devices/${l}/qr`);if(!p)return;const re=(Q==null?void 0:Q.status)||"disconnected";if(re==="connected"){g($e=>({...$e,status:re,connected:!0,message:"CONECTADO! Pode fechar a tela."}));return}const he=(Q==null?void 0:Q.issuedAt)||null,Xe=(Q==null?void 0:Q.imageUrl)||null;g($e=>{const xe={...$e,status:re};if(Xe){xe.imageUrl=Xe,xe.issuedAt=he||new Date().toISOString(),xe.connected=!1,xe.message="Escaneie o QR abaixo.";const Xn=he?new Date(he).getTime():Date.now();xe.expiresAt=Number.isNaN(Xn)?Date.now()+2*60*1e3:Xn+2*60*1e3}else $e.imageUrl||(xe.message=re==="awaiting_qr"?"Gerando QR...":"QR ainda nao gerado.");return xe})}catch{}};_();const V=setInterval(_,4e3);return()=>{p=!1,clearInterval(V)}},[C.open,C.device]),w.useEffect(()=>{if(!C.open||!C.expiresAt){x(12e4);return}const l=()=>{x(Math.max(0,C.expiresAt-Date.now()))};l();const p=setInterval(l,1e3);return()=>clearInterval(p)},[C.open,C.expiresAt]),w.useEffect(()=>{if(!C.open||!C.connected)return;const l=setTimeout(()=>{g(wi)},1200);return()=>clearTimeout(l)},[C.open,C.connected]),w.useEffect(()=>{if(e.status!=="ready")return;let l=!0;const p=()=>{if(!l)return;N.current&&(N.current.close(),N.current=null);const _=window.location.protocol==="https:"?"wss":"ws",V=new WebSocket(`${_}://${window.location.host}/ws`);N.current=V,E("conectando"),V.addEventListener("open",()=>E("online")),V.addEventListener("close",()=>{E("offline"),l&&(T.current=setTimeout(p,4e3))}),V.addEventListener("message",Q=>{var re;try{(re=JSON.parse(Q.data).type)!=null&&re.startsWith("device.")&&$t().catch(()=>{})}catch{}})};return p(),()=>{l=!1,T.current&&clearTimeout(T.current),N.current&&N.current.close(),N.current=null}},[e.status,$t]);const o0=async l=>{l.preventDefault(),r(p=>({...p,error:""}));try{await oe("/api/login",{method:"POST",body:JSON.stringify({username:n.username,password:n.password})}),await Ba()}catch(p){r(_=>({..._,error:p.message||"Falha no login."}))}},l0=async()=>{try{await oe("/api/logout",{method:"POST"})}catch{}t({status:"login",user:null})},a0=async()=>{const l=m.trim();if(l)try{await oe("/api/devices",{method:"POST",body:JSON.stringify({name:l})}),y(""),await $t()}catch(p){alert(p.message||"Erro ao criar dispositivo.")}},c0=async l=>{try{await oe(`/api/devices/${l}/reconnect`,{method:"POST"}),await $t()}catch(p){alert(p.message||"Erro ao reconectar.")}},u0=async l=>{if(confirm("Remover esta sessao?"))try{await oe(`/api/devices/${l}`,{method:"DELETE"}),await $t()}catch(p){alert(p.message||"Erro ao remover.")}},d0=async l=>{g({...wi,open:!0,device:l,status:l.status||"disconnected",message:"Gerando QR..."});try{await oe(`/api/devices/${l.id}/qr`,{method:"POST"})}catch(p){g(_=>({..._,message:p.message||"Falha ao solicitar QR."}))}},f0=async()=>{if(C.device){g(l=>({...l,imageUrl:null,issuedAt:null,expiresAt:null,message:"Gerando QR..."}));try{await oe(`/api/devices/${C.device.id}/reconnect`,{method:"POST"})}catch(l){g(p=>({...p,message:l.message||"Falha ao gerar QR."}))}}},Ha=(l={})=>{G({trigger:"",response:"",matchType:"includes",enabled:!0,deviceId:b||"",...l})},h0=(l=null)=>{vt("reply"),xt(null),l?(At(l.id),Ha({trigger:l.trigger||"",response:l.response||"",matchType:l.matchType||"includes",enabled:!!l.enabled,deviceId:l.deviceId||""})):(At(null),Ha()),ln(!0)},p0=()=>{xt(null),At(null),Ha(),L({trigger:"",responseTemplate:"",commandType:"test",enabled:!0,deviceId:b||""}),vt("select"),ln(!0)},m0=async()=>{(at?await Mf({id:at,...O}):await W0())&&us()},g0=()=>{te(""),ue("trigger"),Ie(""),R("")},v0=async l=>{await Mf({...l,enabled:!l.enabled})},Ef=l=>{const p=Xp(me,Vn),_=Oc(l,p);Wt(V=>({...V,triggers:JSON.stringify(_,null,2)}))},jf=()=>{const l=It.trim();if(!l)return;const p=Array.from(new Set([...To,l]));Ef(p),ct("")},y0=l=>{Ef(To.filter(p=>p!==l))},rt=l=>{wr(p=>({...p,[l]:!p[l]}))},kf=w.useCallback(()=>{const l=new Set((jr.current||[]).map(_=>_.id));let p=ss.current||1;for(;l.has(`node-${p}`);)p+=1;return ss.current=p+1,`node-${p}`},[]),Cf=w.useCallback((l,p)=>{var Q;const _=((Q=Al[l])==null?void 0:Q.label)||"Bloco",V=da(l);return{id:kf(),type:"flowAction",position:p,data:{kind:l,label:_,config:V}}},[kf]),x0=w.useCallback(l=>{xo(l),l.some(p=>p.type!=="select")&&Nt(!0)},[xo]),w0=w.useCallback(l=>{No(l),l.some(p=>p.type!=="select")&&Nt(!0)},[No]),N0=w.useCallback(l=>{!l.source||!l.target||l.source!==l.target&&(Er(p=>{const _=p.filter(V=>!(V.source===l.source&&V.sourceHandle===l.sourceHandle));return ry({...l,type:"smoothstep"},_)}),Nt(!0))},[]),S0=(l,p)=>{l.dataTransfer.setData("application/flow-action",p),l.dataTransfer.effectAllowed="move"},E0=l=>{l.preventDefault(),l.dataTransfer.dropEffect="move"},j0=w.useCallback(l=>{l.preventDefault();const p=l.dataTransfer.getData("application/flow-action");if(!p||!rs||!ei.current)return;const _=ei.current.getBoundingClientRect(),V=rs.project({x:l.clientX-_.left,y:l.clientY-_.top}),Q=Cf(p,V);Nn(re=>{const he=re.concat(Q);return jr.current=he,he}),Nt(!0)},[rs,Cf,Nn]),k0=w.useCallback(l=>{var Q,re;const p=jr.current.find(he=>he.id===l);if(!p||p.id===pn)return;const _=((Q=p.data)==null?void 0:Q.kind)||"text",V=Qy(_,((re=p.data)==null?void 0:re.config)||{});ut(JSON.parse(JSON.stringify(V))),So({open:!0,nodeId:l,kind:_})},[]),$o=()=>{So({open:!1,nodeId:null,kind:""}),ut(null)},C0=()=>{!nt.nodeId||!ae||(Nn(l=>l.map(p=>p.id===nt.nodeId?{...p,data:{...p.data,config:ae}}:p)),Nt(!0),$o())},Pe=l=>{ut(p=>p&&{...p,...l})},Ua=l=>{const p=l.target.files&&l.target.files[0];if(p){if(p.size>o_){alert(`Arquivo acima de ${l_}MB.`),l.target.value="";return}Pe({fileName:p.name,fileType:p.type,fileSize:p.size})}},_0=()=>{ut(l=>{if(!l)return l;const p=Array.isArray(l.options)?l.options:[];return{...l,options:[...p,{id:pr("option"),label:""}]}})},T0=(l,p)=>{ut(_=>{if(!_)return _;const V=Array.isArray(_.options)?_.options:[];return{..._,options:V.map(Q=>Q.id===l?{...Q,label:p}:Q)}})},b0=l=>{ut(p=>{if(!p)return p;const _=Array.isArray(p.options)?p.options:[];return{...p,options:_.filter(V=>V.id!==l)}})},M0=()=>{ut(l=>{if(!l)return l;const p=Array.isArray(l.categories)?l.categories:[];return p.length>=10?l:{...l,categories:[...p,{id:pr("category"),title:"",items:[]}]}})},A0=(l,p)=>{ut(_=>{if(!_)return _;const V=Array.isArray(_.categories)?_.categories:[];return{..._,categories:V.map(Q=>Q.id===l?{...Q,title:p}:Q)}})},I0=l=>{ut(p=>{if(!p)return p;const _=Array.isArray(p.categories)?p.categories:[];return{...p,categories:_.filter(V=>V.id!==l)}})},R0=l=>{ut(p=>{if(!p)return p;const _=Array.isArray(p.categories)?p.categories:[];return{...p,categories:_.map(V=>{if(V.id!==l)return V;const Q=Array.isArray(V.items)?V.items:[];return{...V,items:[...Q,{id:pr("item"),title:"",description:""}]}})}})},_f=(l,p,_,V)=>{ut(Q=>{if(!Q)return Q;const re=Array.isArray(Q.categories)?Q.categories:[];return{...Q,categories:re.map(he=>{if(he.id!==l)return he;const Xe=Array.isArray(he.items)?he.items:[];return{...he,items:Xe.map($e=>$e.id===p?{...$e,[_]:V}:$e)}})}})},P0=(l,p)=>{ut(_=>{if(!_)return _;const V=Array.isArray(_.categories)?_.categories:[];return{..._,categories:V.map(Q=>{if(Q.id!==l)return Q;const re=Array.isArray(Q.items)?Q.items:[];return{...Q,items:re.filter(he=>he.id!==p)}})}})},$0=w.useCallback(l=>{!l||l===pn||(Nn(p=>{const _=p.filter(V=>V.id!==l);return jr.current=_,_}),Er(p=>p.filter(_=>_.source!==l&&_.target!==l)),Nt(!0))},[]),z0=()=>{const l=bo.stages,p=Yp(l),_={id:pn,type:"flowStart",position:{x:-220,y:0},draggable:!1,selectable:!1,data:{label:"Inicio"}},V=p.nodes.length?[{id:`edge-${pn}-${p.nodes[0].id}`,source:pn,sourceHandle:"next",target:p.nodes[0].id,type:"smoothstep"}]:[];Nn([_,...p.nodes]),Er([...V,...p.edges]),ss.current=Qp(p.nodes),Nt(!0)},Tf=l=>{Js(l.id),un(!0),ct(""),ts(!1),Sr(""),Nt(!1)},D0=()=>{un(!1)},L0=()=>{Z({name:"",triggers:"[]",stages:"[]",flowType:"custom",enabled:!1,deviceId:b||""}),Nr(!0)},F0=async()=>{await J0()&&Nr(!1)},O0=(l=null)=>{vt("command"),At(null),l?(xt(l.id),L({trigger:l.trigger||"",responseTemplate:l.responseTemplate||"",commandType:l.commandType||"reply",enabled:!!l.enabled,deviceId:l.deviceId||""})):(xt(null),L({trigger:"",responseTemplate:"",commandType:"test",enabled:!0,deviceId:b||""})),ln(!0)},us=()=>{ln(!1),xt(null),At(null),vt("select")},V0=async()=>{const l=I.trigger.trim(),p=I.responseTemplate.trim();if(!l||!l.startsWith("#")||l.length<=1)return alert("A frase precisa iniciar com #."),!1;if(!p)return alert("Resposta obrigatoria."),!1;try{return await oe("/api/chatbot/agent-commands",{method:"POST",body:JSON.stringify({trigger:l,responseTemplate:p,commandType:I.commandType,enabled:I.enabled,deviceId:I.deviceId||null})}),L(_=>({..._,trigger:"",responseTemplate:""})),await Qt(),!0}catch(_){return alert(_.message||"Erro ao criar comando #."),!1}},bf=async l=>{try{return await oe(`/api/chatbot/agent-commands/${l.id}`,{method:"PUT",body:JSON.stringify({trigger:l.trigger,responseTemplate:l.responseTemplate,commandType:l.commandType,enabled:l.enabled,deviceId:l.deviceId||null})}),await Qt(),!0}catch(p){return alert(p.message||"Erro ao atualizar comando #."),!1}},B0=async()=>{const l={id:yt,trigger:I.trigger.trim(),responseTemplate:I.responseTemplate.trim(),commandType:I.commandType,enabled:I.enabled,deviceId:I.deviceId||null};if(!l.trigger||!l.trigger.startsWith("#")||l.trigger.length<=1){alert("A frase precisa iniciar com #.");return}if(!l.responseTemplate){alert("Resposta obrigatoria.");return}let p=!1;yt?p=await bf(l):p=await V0(),p&&us()},H0=async l=>{if(confirm("Excluir comando #?"))try{await oe(`/api/chatbot/agent-commands/${l}`,{method:"DELETE"}),await Qt()}catch(p){alert(p.message||"Erro ao excluir comando #.")}},U0=async l=>{await bf({...l,enabled:!l.enabled})},W0=async()=>{const l=O.trigger.trim(),p=O.response.trim();if(!l||!p)return alert("Gatilho e resposta sao obrigatorios."),!1;try{return await oe("/api/chatbot/quick-replies",{method:"POST",body:JSON.stringify({trigger:l,response:p,matchType:O.matchType,enabled:O.enabled,deviceId:O.deviceId||null})}),G(_=>({..._,trigger:"",response:""})),await Qt(),!0}catch(_){return alert(_.message||"Erro ao criar resposta rapida."),!1}},Mf=async l=>{try{return await oe(`/api/chatbot/quick-replies/${l.id}`,{method:"PUT",body:JSON.stringify({trigger:l.trigger,response:l.response,matchType:l.matchType,enabled:l.enabled,deviceId:l.deviceId||null})}),await Qt(),!0}catch(p){return alert(p.message||"Erro ao atualizar resposta rapida."),!1}},X0=async l=>{if(confirm("Excluir resposta rapida?"))try{await oe(`/api/chatbot/quick-replies/${l}`,{method:"DELETE"}),await Qt()}catch(p){alert(p.message||"Erro ao excluir resposta.")}},Af=l=>{const p=(l||"").trim().toLowerCase();return n0.has(p)},Q0=l=>{const p=l?`{#${l}}`:"esta variavel";return alert(`Atencao: ${p} e uma variavel do sistema. Nao altere sem necessidade.`),confirm("Deseja continuar com a alteracao?")?confirm("Confirmar a alteracao da variavel do sistema?"):!1},Y0=l=>{const p=(l||"").trim().toLowerCase();if(!p)return;alert(`Variavel do sistema: {#${p}}. Evite alterar.`);const _=S.find(V=>(V.name||"").toLowerCase()===p);if(_){Wa(_);return}Me(null),zo({name:p,value:""}),an(!0)},zo=(l={})=>{wt({name:"",value:"",deviceId:M||"",...l})},Wa=(l=null)=>{l?(Me(l.id),zo({name:l.name||"",value:l.value||"",deviceId:l.deviceId||""})):(Me(null),zo()),an(!0)},Do=()=>{an(!1),Me(null)},G0=async()=>{const l=_e.name.trim().toLowerCase(),p=_e.value.trim();if(!l)return alert("Nome da variavel obrigatorio."),!1;if(!/^[a-zA-Z0-9_]+$/.test(l))return alert("Use apenas letras, numeros e _ no nome."),!1;if(!p)return alert("Valor da variavel obrigatorio."),!1;try{return await oe("/api/chatbot/variables",{method:"POST",body:JSON.stringify({name:l,value:p,deviceId:_e.deviceId||null})}),zo({name:"",value:""}),await Un(),!0}catch(_){return alert(_.message||"Erro ao criar variavel."),!1}},K0=async l=>{try{return await oe(`/api/chatbot/variables/${l.id}`,{method:"PUT",body:JSON.stringify({name:l.name,value:l.value,deviceId:l.deviceId||null})}),await Un(),!0}catch(p){return alert(p.message||"Erro ao atualizar variavel."),!1}},Z0=async()=>{const l={id:cn,name:_e.name.trim(),value:_e.value.trim(),deviceId:_e.deviceId||null};if(!l.name){alert("Nome da variavel obrigatorio.");return}if(!/^[a-zA-Z0-9_]+$/.test(l.name)){alert("Use apenas letras, numeros e _ no nome.");return}if(!l.value){alert("Valor da variavel obrigatorio.");return}if(l.name=l.name.toLowerCase(),Af(l.name)&&!Q0(l.name))return;let p=!1;cn?p=await K0(l):p=await G0(),p&&Do()},q0=async l=>{if(confirm("Excluir variavel?"))try{await oe(`/api/chatbot/variables/${l}`,{method:"DELETE"}),await Un()}catch(p){alert(p.message||"Erro ao excluir variavel.")}},J0=async()=>{const l=Y.name.trim();if(!l)return alert("Nome do fluxo obrigatorio."),!1;try{const p=Ti(Y.triggers),_=Ti(Y.stages);return await oe("/api/chatbot/flows",{method:"POST",body:JSON.stringify({name:l,triggers:p,stages:_,flowType:Y.flowType,enabled:!1,deviceId:Y.deviceId||null})}),Z(V=>({...V,name:"",triggers:"[]",stages:"[]"})),await En(),!0}catch(p){return alert(p.message||"Erro ao criar fluxo."),!1}},ex=async()=>{if(Pt)try{const l=Ti(Ve.triggers),p=f_(ns,wo);return await oe(`/api/chatbot/flows/${Pt.id}`,{method:"PUT",body:JSON.stringify({name:Ve.name,triggers:l,stages:p,flowType:Ve.flowType,enabled:Ve.enabled,deviceId:Ve.deviceId||null})}),Sr(""),Wt(_=>({..._,stages:JSON.stringify(p,null,2)})),Nt(!1),await En(),!0}catch(l){return Sr(l.message||"Erro ao salvar fluxo."),!1}},tx=async l=>{if(confirm("Excluir fluxo?"))try{await oe(`/api/chatbot/flows/${l}`,{method:"DELETE"}),await En()}catch(p){alert(p.message||"Erro ao excluir fluxo.")}},Xa=(l,p={})=>({name:p.name??(l==null?void 0:l.name)??"",triggers:Array.isArray(p.triggers??(l==null?void 0:l.triggers))?p.triggers??(l==null?void 0:l.triggers):[],stages:Array.isArray(p.stages??(l==null?void 0:l.stages))?p.stages??(l==null?void 0:l.stages):[],flowType:p.flowType??(l==null?void 0:l.flowType)??"custom",enabled:p.enabled??(l==null?void 0:l.enabled)??!1,deviceId:p.deviceId??(l==null?void 0:l.deviceId)??null}),Lo=()=>{ls({open:!1,title:"",content:null})},If=async(l,p)=>{l!=null&&l.id&&(await oe(`/api/chatbot/flows/${l.id}`,{method:"PUT",body:JSON.stringify(p)}),await En())},nx=async l=>{try{const p=Xa(l,{enabled:!l.enabled});await If(l,p)}catch(p){alert(p.message||"Erro ao atualizar fluxo.")}},rx=async(l,p)=>{const _=(p||"").trim();if(!_){alert("Nome do fluxo obrigatorio.");return}try{const V=Xa(l,{name:_});await If(l,V),Lo()}catch(V){alert(V.message||"Erro ao renomear fluxo.")}},sx=async(l,p)=>{const _=(p||"").trim();if(!_){alert("Nome do fluxo obrigatorio.");return}try{const V=Xa(l,{name:_});await oe("/api/chatbot/flows",{method:"POST",body:JSON.stringify(V)}),await En(),Lo()}catch(V){alert(V.message||"Erro ao duplicar fluxo.")}},ix=l=>{l&&ls({open:!0,title:"Renomear fluxo",content:a.jsx(Kp,{initialName:l.name||"",confirmLabel:"Renomear",onCancel:Lo,onSubmit:p=>rx(l,p)})})},ox=l=>{if(!l)return;const p=l.name?`${l.name} copia`:"Fluxo copia";ls({open:!0,title:"Duplicar fluxo",content:a.jsx(Kp,{initialName:p,confirmLabel:"Duplicar",onCancel:Lo,onSubmit:_=>sx(l,_)})})},lx=()=>{const l={...Cr};ti(l),is(1),Wn(l).catch(()=>{})},ax=()=>{const l={q:"",deviceId:"",entryRange:"",exitRange:""};_r(l),ti(l),is(1),Wn(l).catch(()=>{})},cx=l=>{if(l){jo(null),ko(""),Hn(l),i("atendimento");try{window.history.pushState({view:"atendimento",attendanceId:l},"",Fc(`/atendimento/visualizar/${l}`))}catch{}}},Rf=()=>{Hn(null),jo(null),ko(""),i("atendimento");try{window.history.pushState({view:"atendimento"},"",Fc("/atendimento"))}catch{}},Pf=async l=>{if(!ne)return;const p=typeof l=="string"?l.trim():ff.trim();if(!p)return;const _=Gy||ne.deviceId||"";if(!_){alert("Device nao definido.");return}try{await oe(`/api/conversations/${ne.id}/send`,{method:"POST",body:JSON.stringify({message:p,deviceId:_})}),typeof l!="string"&&ko(""),await Ro(ne.id),await Wn()}catch(V){alert(V.message||"Erro ao enviar mensagem.")}},$f=async l=>{if(l&&confirm("Finalizar este atendimento?"))try{await oe(`/api/conversations/${l}/close`,{method:"POST"}),String(br)===String(l)&&await Ro(l),await Wn()}catch(p){alert(p.message||"Erro ao finalizar atendimento.")}},ux=async()=>{ne&&await $f(ne.id)},Qa=async l=>{if(l)try{await navigator.clipboard.writeText(String(l))}catch{alert("Falha ao copiar.")}},dx=l=>{ls({open:!0,title:`Teste #${l.id}`,content:a.jsxs("div",{children:[a.jsx("div",{className:"device-meta",children:Gn(l.createdAt)}),a.jsxs("div",{className:"device-meta",children:["Device: ",l.deviceId||"-"]}),a.jsx("h4",{children:"Payload"}),a.jsx("pre",{children:JSON.stringify(l.payload||{},null,2)}),a.jsx("h4",{children:"Resposta"}),a.jsx("pre",{children:JSON.stringify(l.response||{},null,2)}),l.errorText?a.jsxs("div",{className:"hint",children:["Erro: ",l.errorText]}):null]})})},fx=async(l,p)=>{try{await oe(`/api/followups/${l}`,{method:"PATCH",body:JSON.stringify({deviceId:p||null})}),await Ir()}catch(_){alert(_.message||"Erro ao atualizar follow-up.")}},hx=l=>{if(l==="atendimento"){Rf();return}if(i(l),window.location.pathname.includes("/atendimento"))try{window.history.pushState({view:l},"",Fc("/"))}catch{}},px={flowAction:({id:l,data:p})=>{var $e,xe;const _=(p==null?void 0:p.kind)||"text",V=(p==null?void 0:p.config)||{},Q=d_(_,V),re=h_(_,V),he=V.saveVar||"",Xe=Al[_]||{};return a.jsxs("div",{className:`flow-node flow-node-action flow-node-${_}`,children:[a.jsxs("div",{className:"flow-node-head",children:[a.jsxs("div",{className:"flow-node-title",children:[a.jsx("span",{className:`flow-node-icon flow-node-icon-${_}`,children:Xe.icon||"BLK"}),a.jsx("span",{children:(p==null?void 0:p.label)||"Bloco"})]}),a.jsxs("div",{className:"flow-node-actions",children:[a.jsx("button",{className:"flow-node-btn",onClick:()=>k0(l),children:"Editar"}),a.jsx("button",{className:"flow-node-btn danger",onClick:()=>$0(l),children:"Excluir"})]})]}),Xe.hint?a.jsx("div",{className:"flow-node-desc",children:Xe.hint}):null,a.jsxs("div",{className:"flow-node-body",children:[a.jsx("div",{className:"flow-node-preview",children:re}),he?a.jsxs("div",{className:"flow-node-meta",children:["Salvar em: ",he]}):null,_==="responses"?a.jsxs("div",{className:"flow-node-meta",children:[(($e=V.options)==null?void 0:$e.length)||0," opcoes"]}):null,_==="list"?a.jsxs("div",{className:"flow-node-meta",children:[((xe=V.categories)==null?void 0:xe.length)||0," categorias"]}):null]}),a.jsx(Wr,{type:"target",position:q.Left,id:"in",className:"flow-handle"}),a.jsx("div",{className:"flow-node-output-list",children:Q.map(Xn=>a.jsxs("div",{className:`flow-node-output flow-node-output-${Xn.type||"default"}`,children:[a.jsx("span",{className:"flow-node-output-label",children:Xn.label}),a.jsx(Wr,{type:"source",position:q.Right,id:Xn.id,className:"flow-handle flow-handle-output",style:{top:"50%"}})]},Xn.id))})]})},flowStart:({data:l})=>a.jsxs("div",{className:"flow-node flow-node-start",children:[a.jsxs("div",{className:"flow-node-title",children:[a.jsx("span",{className:"flow-node-icon flow-node-icon-start",children:"IN"}),a.jsx("span",{children:(l==null?void 0:l.label)||"Inicio"})]}),a.jsx("div",{className:"flow-node-desc",children:"Entrada principal"}),a.jsx(Wr,{type:"source",position:q.Right,id:"next",className:"flow-handle"})]})},zf=u.filter(l=>{const p=`${l.name||""} ${l.status||""} ${l.devicePhone||""}`.toLowerCase().trim(),_=f.trim().toLowerCase();return!_||p.includes(_)}),mx=v<=0,Ya=!!(yt||at),gx=!Ya&&Mt==="select",vx=Ya?yt?"Editar comando #":"Editar resposta rapida":"",Df=Hp(ne==null?void 0:ne.status),Ga=ne&&(as.get(ne.deviceId)||ne.deviceName||ne.deviceId)||"Sem agente",oi=(ne==null?void 0:ne.status)==="closed",Fo=Array.isArray(ae==null?void 0:ae.categories)?ae.categories:[],yx=Fo.reduce((l,p)=>{const _=Array.isArray(p.items)?p.items.length:0;return l+_},0);return a.jsxs("div",{className:"app",children:[a.jsxs("aside",{className:"sidebar",children:[a.jsxs("div",{className:"brand",children:[a.jsx("div",{className:"logo",children:"+TVBOT"}),a.jsxs("div",{children:[a.jsx("h1",{children:"+TVBOT"}),a.jsx("p",{children:"WhatsApp + Chatbot"})]})]}),a.jsx("div",{className:"nav",children:fl.map(l=>a.jsx("button",{className:`nav-btn ${s===l.id?"active":""}`,onClick:()=>hx(l.id),children:l.title},l.id))}),a.jsxs("div",{className:"sidebar-footer",children:[a.jsxs("div",{className:"status-pill",children:["WS: ",j]}),a.jsx("button",{className:"ghost",onClick:l0,children:"Sair"})]})]}),a.jsxs("main",{className:"content",children:[a.jsxs("div",{className:"topbar",children:[a.jsxs("div",{children:[a.jsx("h2",{children:hf.title}),a.jsx("p",{children:hf.subtitle})]}),a.jsx("div",{className:"user-chip",children:((Lf=e.user)==null?void 0:Lf.username)||"admin"})]}),a.jsxs("section",{className:`view ${s==="dashboard"?"active":""}`,children:[a.jsxs("div",{className:"kpi-grid",children:[a.jsxs("div",{className:"kpi-card",children:[a.jsxs("div",{children:[a.jsx("div",{className:"kpi-label",children:"Dispositivos"}),a.jsx("div",{className:"kpi-value",children:Mo.totalDevices})]}),a.jsx("div",{className:"kpi-icon",children:"D"})]}),a.jsxs("div",{className:"kpi-card",children:[a.jsxs("div",{children:[a.jsx("div",{className:"kpi-label",children:"Total de mensagens"}),a.jsx("div",{className:"kpi-value",children:Mo.totalMessages})]}),a.jsx("div",{className:"kpi-icon",children:"M"})]}),a.jsxs("div",{className:"kpi-card",children:[a.jsxs("div",{children:[a.jsx("div",{className:"kpi-label",children:"Agendamentos pendentes"}),a.jsx("div",{className:"kpi-value",children:Mo.pendingSchedules})]}),a.jsx("div",{className:"kpi-icon",children:"A"})]}),a.jsxs("div",{className:"kpi-card",children:[a.jsxs("div",{children:[a.jsx("div",{className:"kpi-label",children:"Contatos"}),a.jsx("div",{className:"kpi-value",children:Mo.contacts})]}),a.jsx("div",{className:"kpi-icon",children:"C"})]})]}),a.jsxs("div",{className:"chart-grid",children:[a.jsxs("div",{className:"chart-card",children:[a.jsxs("div",{className:"chart-head",children:[a.jsx("h3",{children:"Transacoes de Mensagens"}),a.jsx("select",{className:"select chart-filter",value:o,onChange:l=>c(l.target.value),children:$c.map(l=>a.jsx("option",{value:l.value,children:l.label},l.value))})]}),a.jsxs("div",{className:"chart-body",children:[a.jsxs("svg",{className:"chart-svg",viewBox:"0 0 320 140",role:"img","aria-label":"Transacoes",children:[a.jsx("polyline",{points:s0,fill:"none",stroke:"url(#lineGradient)",strokeWidth:"3"}),a.jsx("defs",{children:a.jsxs("linearGradient",{id:"lineGradient",x1:"0",y1:"0",x2:"1",y2:"0",children:[a.jsx("stop",{offset:"0%",stopColor:"#22c55e"}),a.jsx("stop",{offset:"100%",stopColor:"#8b5cf6"})]})})]}),a.jsx("div",{className:"chart-axis",children:Va.labels.map(l=>a.jsx("span",{children:l},l))})]})]}),a.jsxs("div",{className:"chart-card",children:[a.jsxs("div",{className:"chart-head",children:[a.jsx("h3",{children:"Respostas Automaticas"}),a.jsx("select",{className:"select chart-filter",value:o,onChange:l=>c(l.target.value),children:$c.map(l=>a.jsx("option",{value:l.value,children:l.label},l.value))})]}),a.jsxs("div",{className:"chart-body",children:[a.jsx("div",{className:"bar-chart",children:Ao.values.map((l,p)=>a.jsx("div",{className:"bar",children:a.jsx("span",{style:{height:`${Math.round(l/i0*100)}%`}})},`${l}-${p}`))}),a.jsx("div",{className:"chart-axis",children:Ao.labels.map(l=>a.jsx("span",{children:l},l))})]})]})]}),a.jsxs("div",{className:"chart-grid",children:[a.jsxs("div",{className:"chart-card",children:[a.jsxs("div",{className:"chart-head",children:[a.jsx("h3",{children:"Mensagens"}),a.jsx("select",{className:"select chart-filter",value:o,onChange:l=>c(l.target.value),children:$c.map(l=>a.jsx("option",{value:l.value,children:l.label},l.value))})]}),a.jsxs("div",{className:"donut-wrap",children:[a.jsx("div",{className:"donut-chart",style:{background:r0},children:a.jsxs("div",{className:"donut-center",children:[a.jsx("div",{className:"donut-value",children:cs}),a.jsx("div",{className:"donut-label",children:"mensagens"})]})}),a.jsx("div",{className:"donut-legend",children:ii.map(l=>{const p=cs?Math.round(l.value/cs*100):0;return a.jsxs("div",{className:"legend-item",children:[a.jsx("span",{className:"legend-dot",style:{background:l.color}}),a.jsx("span",{children:l.label}),a.jsxs("span",{className:"legend-pct",children:[p,"%"]})]},l.label)})})]})]}),a.jsxs("div",{className:"chart-card",children:[a.jsx("div",{className:"chart-head",children:a.jsx("h3",{children:"Estatisticas de Dispositivos"})}),a.jsx("div",{className:"device-stats",children:Nf.length===0?a.jsx("div",{className:"empty-state",children:"Nenhum dispositivo cadastrado."}):Nf.map(l=>a.jsxs("div",{className:"device-stat",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"device-title",children:[l.name||l.id," ",l.devicePhone?`(${l.devicePhone})`:""]}),a.jsxs("div",{className:"device-sub",children:[a.jsx("span",{className:`dot ${l.status==="connected"?"on":"off"}`}),l.status==="connected"?"Online":"Offline"]})]}),a.jsxs("div",{className:"device-metric",children:[l.messageCount," mensagens"]})]},l.id))})]})]})]}),a.jsxs("section",{className:`view ${s==="devices"?"active":""}`,children:[a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"card-head",children:[a.jsx("h3",{children:"Dispositivos"}),a.jsx("span",{className:"badge",children:"Sessao por QR sob demanda"})]}),a.jsxs("div",{className:"form-row",children:[a.jsx("input",{className:"input",placeholder:"Nome do dispositivo",value:m,onChange:l=>y(l.target.value)}),a.jsx("button",{className:"primary",onClick:a0,children:"Criar"}),a.jsx("input",{className:"input",placeholder:"Filtrar por nome, status ou telefone",value:f,onChange:l=>h(l.target.value)})]})]}),a.jsx("div",{className:"card",children:a.jsx("div",{className:"device-grid",children:zf.length===0?a.jsx("div",{className:"device-card",children:"Nenhum dispositivo encontrado."}):zf.map(l=>a.jsxs("div",{className:"device-card",children:[a.jsx("div",{className:"title",children:l.name||l.id}),a.jsx("div",{className:`status ${Bp(l.status)}`,children:Bp(l.status).replace("_"," ")}),a.jsxs("div",{className:"device-meta",children:[a.jsxs("div",{children:["Telefone: ",l.devicePhone||"-"]}),a.jsxs("div",{children:["Ultima atividade: ",Gn(l.lastActivity)]}),l.lastError?a.jsxs("div",{children:["Erro: ",l.lastError]}):null]}),a.jsxs("div",{className:"form-row",children:[a.jsx("button",{className:"secondary",onClick:()=>d0(l),children:"QR"}),a.jsx("button",{className:"secondary",onClick:()=>c0(l.id),children:"Reconectar"}),a.jsx("button",{className:"danger",onClick:()=>u0(l.id),children:"Remover"})]})]},l.id))})})]}),a.jsxs("section",{className:`view ${s==="chatbot"?"active":""}`,children:[a.jsxs("div",{className:"chatbot-header",children:[a.jsxs("div",{children:[a.jsx("h3",{children:"Respostas Automaticas"}),a.jsx("div",{className:"device-meta",children:"Configure comandos # e respostas rapidas por dispositivo."})]}),a.jsxs("div",{className:"chatbot-actions",children:[a.jsx("button",{className:"secondary",onClick:()=>Qt().catch(()=>{}),children:"Atualizar"}),a.jsx("button",{className:"primary",onClick:p0,children:"Criar comando/resposta"})]})]}),a.jsxs("div",{className:"summary-grid",children:[a.jsxs("div",{className:"summary-card",children:[a.jsxs("div",{children:[a.jsx("div",{className:"summary-label",children:"Comandos #"}),a.jsx("div",{className:"summary-value",children:mf.total})]}),a.jsx("div",{className:"summary-icon",children:"#"})]}),a.jsxs("div",{className:"summary-card",children:[a.jsxs("div",{children:[a.jsx("div",{className:"summary-label",children:"Comandos teste"}),a.jsx("div",{className:"summary-value",children:mf.tests})]}),a.jsx("div",{className:"summary-icon",children:"T"})]}),a.jsxs("div",{className:"summary-card",children:[a.jsxs("div",{children:[a.jsx("div",{className:"summary-label",children:"Respostas rapidas"}),a.jsx("div",{className:"summary-value",children:pf.total})]}),a.jsx("div",{className:"summary-icon",children:"R"})]}),a.jsxs("div",{className:"summary-card",children:[a.jsxs("div",{children:[a.jsx("div",{className:"summary-label",children:"Respostas ativas"}),a.jsx("div",{className:"summary-value",children:pf.active})]}),a.jsx("div",{className:"summary-icon",children:"A"})]})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"card-head",children:[a.jsx("h3",{children:"Comandos #"}),a.jsx("span",{className:"badge",children:P.length})]}),a.jsx("div",{className:"command-list",children:P.length===0?a.jsx("div",{className:"empty-state",children:"Nenhum comando # cadastrado."}):P.map(l=>{const p=l.responseTemplate&&l.responseTemplate.length>120?`${l.responseTemplate.slice(0,117)}...`:l.responseTemplate||"-",_=l.deviceId?as.get(l.deviceId)||l.deviceId:"Todos",V=tt===l.id,Q=l.commandType==="test"?"Teste NewBR":"Resposta normal";return a.jsxs("div",{className:`reply-item ${V?"expanded":""}`,children:[a.jsxs("div",{className:"reply-main",children:[a.jsxs("div",{className:"reply-left",children:[a.jsx("div",{className:"reply-icon",children:"#"}),a.jsxs("div",{children:[a.jsx("div",{className:"reply-label",children:Q}),a.jsx("div",{className:"reply-title",children:l.trigger||"-"}),a.jsx("div",{className:"reply-meta",children:p})]})]}),a.jsxs("div",{className:"reply-actions",children:[a.jsx("span",{className:`pill ${l.enabled?"success":"danger"}`,children:l.enabled?"Ativo":"Inativo"}),a.jsx("button",{className:"icon",onClick:()=>fe(V?null:l.id),children:V?"Fechar":"Abrir"})]})]}),V?a.jsxs("div",{className:"reply-expanded",children:[a.jsxs("div",{className:"reply-detail",children:[a.jsx("div",{className:"reply-detail-title",children:"Resposta"}),a.jsx("div",{className:"reply-detail-text",children:l.responseTemplate||"-"})]}),a.jsxs("div",{className:"reply-detail-row",children:[a.jsx("span",{children:"Device:"})," ",_]}),a.jsxs("div",{className:"reply-detail-row",children:[a.jsx("span",{children:"Tipo:"})," ",Q]}),a.jsxs("div",{className:"form-row",children:[a.jsx("button",{className:"secondary",onClick:()=>O0(l),children:"Editar"}),a.jsx("button",{className:"secondary",onClick:()=>U0(l),children:l.enabled?"Desativar":"Ativar"}),a.jsx("button",{className:"danger",onClick:()=>H0(l.id),children:"Excluir"})]})]}):null]},l.id)})})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"filter-bar",children:[a.jsx("input",{className:"input",placeholder:"Buscar",value:ee,onChange:l=>te(l.target.value)}),a.jsxs("select",{className:"select",value:ce,onChange:l=>ue(l.target.value),children:[a.jsx("option",{value:"trigger",children:"Palavra-chave"}),a.jsx("option",{value:"response",children:"Resposta"})]}),a.jsxs("select",{className:"select",value:b,onChange:l=>R(l.target.value),children:[a.jsx("option",{value:"",children:"Todos os Dispositivos"}),dn.map(l=>a.jsx("option",{value:l.value,children:l.label},l.value))]}),a.jsxs("select",{className:"select",value:se,onChange:l=>Ie(l.target.value),children:[a.jsx("option",{value:"",children:"Todas Palavras-chave"}),a.jsx("option",{value:"exact",children:"Frase Exata"}),a.jsx("option",{value:"list",children:"Lista"}),a.jsx("option",{value:"includes",children:"Contem"}),a.jsx("option",{value:"starts_with",children:"Comeca"})]}),a.jsx("button",{className:"primary",onClick:()=>Re(1),children:"Buscar"}),a.jsx("button",{className:"ghost",onClick:g0,children:"Limpar tudo"})]})}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"card-head",children:[a.jsx("h3",{children:"Respostas rapidas"}),a.jsx("span",{className:"badge",children:ni.length})]}),a.jsx("div",{className:"reply-list",children:vf.length===0?a.jsx("div",{className:"empty-state",children:"Nenhuma resposta encontrada."}):vf.map(l=>{const p=l.response&&l.response.length>120?`${l.response.slice(0,117)}...`:l.response||"-",_=l.deviceId?as.get(l.deviceId)||l.deviceId:"Todos",V=Oe===l.id;return a.jsxs("div",{className:`reply-item ${V?"expanded":""}`,children:[a.jsxs("div",{className:"reply-main",children:[a.jsxs("div",{className:"reply-left",children:[a.jsx("div",{className:"reply-icon",children:"RB"}),a.jsxs("div",{children:[a.jsx("div",{className:"reply-label",children:Wp(l.matchType)}),a.jsx("div",{className:"reply-title",children:l.trigger||"-"}),a.jsx("div",{className:"reply-meta",children:p})]})]}),a.jsxs("div",{className:"reply-actions",children:[a.jsx("span",{className:`pill ${l.enabled?"success":"danger"}`,children:l.enabled?"Ativa":"Inativa"}),a.jsx("button",{className:"icon",onClick:()=>Se(V?null:l.id),children:V?"Fechar":"Abrir"})]})]}),V?a.jsxs("div",{className:"reply-expanded",children:[a.jsxs("div",{className:"reply-detail",children:[a.jsx("div",{className:"reply-detail-title",children:"Resposta"}),a.jsx("div",{className:"reply-detail-text",children:l.response||"-"})]}),a.jsxs("div",{className:"reply-detail-row",children:[a.jsx("span",{children:"Device:"})," ",_]}),a.jsxs("div",{className:"reply-detail-row",children:[a.jsx("span",{children:"Tipo:"})," ",Wp(l.matchType)]}),a.jsxs("div",{className:"form-row",children:[a.jsx("button",{className:"secondary",onClick:()=>h0(l),children:"Editar"}),a.jsx("button",{className:"secondary",onClick:()=>v0(l),children:l.enabled?"Desativar":"Ativar"}),a.jsx("button",{className:"danger",onClick:()=>X0(l.id),children:"Excluir"})]})]}):null]},l.id)})}),ri>1?a.jsx("div",{className:"pagination",children:Array.from({length:ri},(l,p)=>p+1).map(l=>a.jsx("button",{className:`page-btn ${l===ye?"active":""}`,onClick:()=>Re(l),children:l},`reply-page-${l}`))}):null]})]}),a.jsxs("section",{className:`view ${s==="variables"?"active":""}`,children:[a.jsxs("div",{className:"chatbot-header",children:[a.jsxs("div",{children:[a.jsx("h3",{children:"Variaveis"}),a.jsxs("div",{className:"device-meta",children:["Use ","{#nome_da_variavel}"," nas respostas e comandos."]})]}),a.jsxs("div",{className:"chatbot-actions",children:[a.jsx("button",{className:"secondary",onClick:()=>Un().catch(()=>{}),children:"Atualizar"}),a.jsx("button",{className:"primary",onClick:()=>Wa(),children:"Criar variavel"})]})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"card-head",children:[a.jsx("h3",{children:"Variaveis pre-criadas"}),a.jsx("span",{className:"badge",children:"Sistema"})]}),a.jsx("div",{className:"list",children:Op.map(l=>{const p=`{#${l.name}}`;return a.jsxs("div",{className:"list-item",children:[a.jsx("div",{className:"title",children:p}),a.jsx("div",{className:"meta",children:l.label}),a.jsxs("div",{className:"mini-note",children:["Puxa: ",l.source]}),a.jsx("div",{className:"form-row",children:a.jsx("button",{className:"secondary",onClick:()=>Y0(l.name),children:"Sobrescrever"})})]},l.name)})}),a.jsx("div",{className:"hint",children:"Nao altere essas variaveis do sistema sem necessidade. A alteracao pede confirmacao extra."})]}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"filter-bar",children:[a.jsx("input",{className:"input",placeholder:"Buscar variavel ou valor",value:A,onChange:l=>k(l.target.value)}),a.jsxs("select",{className:"select",value:M,onChange:l=>B(l.target.value),children:[a.jsx("option",{value:"",children:"Todos os Dispositivos"}),dn.map(l=>a.jsx("option",{value:l.value,children:l.label},l.value))]})]})}),a.jsx("div",{className:"card",children:a.jsx("div",{className:"reply-list",children:gf.length===0?a.jsx("div",{className:"empty-state",children:"Nenhuma variavel cadastrada."}):gf.map(l=>{const p=l.value&&l.value.length>120?`${l.value.slice(0,117)}...`:l.value||"-",_=l.deviceId?as.get(l.deviceId)||l.deviceId:"Todos",V=J===l.id,Q=l.name?`{#${l.name}}`:"-";return a.jsxs("div",{className:`reply-item ${V?"expanded":""}`,children:[a.jsxs("div",{className:"reply-main",children:[a.jsxs("div",{className:"reply-left",children:[a.jsx("div",{className:"reply-icon",children:"VAR"}),a.jsxs("div",{children:[a.jsx("div",{className:"reply-label",children:"Variavel"}),a.jsx("div",{className:"reply-title",children:Q}),a.jsx("div",{className:"reply-meta",children:p})]})]}),a.jsx("div",{className:"reply-actions",children:a.jsx("button",{className:"icon",onClick:()=>We(V?null:l.id),children:V?"Fechar":"Abrir"})})]}),V?a.jsxs("div",{className:"reply-expanded",children:[a.jsxs("div",{className:"reply-detail",children:[a.jsx("div",{className:"reply-detail-title",children:"Valor"}),a.jsx("div",{className:"reply-detail-text",children:l.value||"-"})]}),a.jsxs("div",{className:"reply-detail-row",children:[a.jsx("span",{children:"Token:"})," ",Q]}),a.jsxs("div",{className:"reply-detail-row",children:[a.jsx("span",{children:"Device:"})," ",_]}),a.jsxs("div",{className:"form-row",children:[a.jsx("button",{className:"secondary",onClick:()=>Wa(l),children:"Editar"}),a.jsx("button",{className:"danger",onClick:()=>q0(l.id),children:"Excluir"})]})]}):null]},l.id)})})})]}),a.jsx("section",{className:`view ${s==="flows"?"active":""}`,children:a.jsxs("div",{className:"card flow-list-card",children:[a.jsxs("div",{className:"card-head flow-list-head",children:[a.jsxs("div",{className:"flow-list-title",children:[a.jsx("h3",{children:"Fluxos de Chatbot"}),a.jsx("span",{className:"badge",children:"Versao Beta"})]}),a.jsx("div",{className:"form-row",children:a.jsxs("select",{className:"select",value:b,onChange:l=>R(l.target.value),children:[a.jsx("option",{value:"",children:"Todos os Dispositivos"}),dn.map(l=>a.jsx("option",{value:l.value,children:l.label},l.value))]})})]}),a.jsxs("div",{className:"flow-list-grid",children:[a.jsxs("button",{className:"flow-card flow-create-card",onClick:L0,type:"button",children:[a.jsx("div",{className:"flow-create-icon",children:"+"}),a.jsx("div",{className:"flow-create-text",children:"Criar novo fluxo"})]}),X.length===0?a.jsxs("div",{className:"flow-card flow-empty-card",children:[a.jsx("div",{className:"flow-empty-text",children:"Nenhum fluxo cadastrado."}),a.jsx("div",{className:"device-meta",children:"Crie um fluxo para comecar a desenhar a logica."})]}):X.map(l=>{const{keywords:p}=pl(l.triggers||[]);return a.jsx("div",{className:"flow-card flow-card-item",onClick:()=>Tf(l),role:"button",tabIndex:0,onKeyDown:_=>{_.key==="Enter"&&Tf(l)},children:a.jsxs("div",{className:"flow-card-head",children:[a.jsxs("div",{className:"flow-card-info",children:[a.jsx("div",{className:"flow-bot-icon",children:"BOT"}),a.jsxs("div",{children:[a.jsx("div",{className:"flow-title",children:l.name||"Sem nome"}),a.jsxs("div",{className:"flow-card-meta",children:[a.jsx("span",{className:`pill ${l.enabled?"success":"danger"}`,children:l.enabled?"Ativo":"Inativo"}),a.jsxs("span",{className:"device-meta",children:[p.length," gatilhos | ",(l.stages||[]).length," blocos"]})]})]})]}),a.jsxs("div",{className:"flow-card-actions",onClick:_=>_.stopPropagation(),children:[a.jsxs("label",{className:"flow-card-toggle",children:[a.jsx("input",{type:"checkbox",checked:!!l.enabled,onChange:()=>nx(l)}),a.jsx("span",{className:"flow-card-slider"})]}),a.jsxs("details",{className:"flow-card-menu",children:[a.jsx("summary",{className:"icon","aria-label":"Opcoes",children:""}),a.jsxs("div",{className:"flow-card-menu-list",children:[a.jsx("button",{type:"button",onClick:()=>ix(l),children:"Renomear"}),a.jsx("button",{type:"button",onClick:()=>ox(l),children:"Duplicar"}),a.jsx("button",{type:"button",className:"flow-menu-danger",onClick:()=>tx(l.id),children:"Excluir"})]})]})]})]})},l.id)})]})]})}),a.jsx("section",{className:`view ${s==="atendimento"?"active":""}`,children:br?ne?a.jsxs("div",{className:"attendance-detail",children:[a.jsxs("div",{className:"attendance-detail-top",children:[a.jsx("button",{className:"secondary",onClick:Rf,children:"Voltar"}),a.jsxs("div",{className:"device-meta",children:["Atendimento ",Gt(ne.protocol||ne.id)]})]}),a.jsxs("div",{className:"card attendance-header",children:[a.jsxs("div",{className:"attendance-header-main",children:[a.jsx("div",{className:"attendance-status-text",children:Df.header}),a.jsxs("div",{className:"attendance-header-info",children:[a.jsxs("span",{className:"channel-label whatsapp",children:[a.jsx("span",{className:"channel-dot"}),"WhatsApp"]}),a.jsxs("span",{children:["Agente: ",Ga]}),a.jsxs("span",{children:["Entrada: ",Gn(ne.startedAt)]}),a.jsxs("span",{children:["Situacao: ",Df.situation]})]})]}),a.jsx("div",{className:"attendance-header-actions",children:a.jsx("button",{className:"danger",onClick:ux,disabled:oi,children:"Finalizar Chamada"})})]}),a.jsxs("div",{className:"attendance-grid",children:[a.jsxs("div",{className:"attendance-main",children:[a.jsxs("div",{className:"card",children:[a.jsx("div",{className:"card-head",children:a.jsx("h3",{children:"Cliente"})}),a.jsxs("div",{className:"attendance-fields",children:[a.jsxs("div",{className:"attendance-field",children:[a.jsx("span",{className:"attendance-field-label",children:"Nome"}),a.jsx("span",{className:"attendance-field-value",children:Gt(ne.name)})]}),a.jsxs("div",{className:"attendance-field",children:[a.jsx("span",{className:"attendance-field-label",children:"Telefone"}),a.jsx("span",{className:"attendance-field-value",children:Gt(ne.phone)})]}),a.jsxs("div",{className:"attendance-field",children:[a.jsx("span",{className:"attendance-field-label",children:"E-mail"}),a.jsx("span",{className:"attendance-field-value",children:Gt(ne.email)})]}),a.jsxs("div",{className:"attendance-field",children:[a.jsx("span",{className:"attendance-field-label",children:"Numero de protocolo"}),a.jsx("span",{className:"attendance-field-value",children:Gt(ne.protocol)})]})]})]}),a.jsxs("div",{className:"card attendance-chat-card",children:[a.jsx("div",{className:"card-head",children:a.jsx("h3",{children:"Conversa"})}),a.jsx("div",{className:"attendance-chat-history",children:xf.length===0?a.jsx("div",{className:"device-meta",children:"Sem mensagens registradas."}):xf.map(l=>{const p=l.direction==="out"||l.origin==="AGENTE"||l.origin==="BOT",_=l.origin==="BOT",V=p?_?"Bot":Ga:ne.name||"Cliente",Q=p?_?"BOT":Ga.trim().slice(0,2).toUpperCase():"WA";return a.jsxs("div",{className:`attendance-message ${p?"out":"in"} ${_?"bot":""}`,children:[p?null:a.jsx("div",{className:"attendance-avatar whatsapp",children:Q}),a.jsxs("div",{className:"attendance-bubble",children:[a.jsxs("div",{className:"attendance-bubble-head",children:[a.jsx("span",{className:"attendance-sender",children:V}),a.jsx("span",{className:"attendance-time",children:Gn(l.createdAt)})]}),a.jsx("div",{className:"attendance-text",children:l.content})]}),p?a.jsx("div",{className:`attendance-avatar ${_?"bot":"agent"}`,children:Q}):null]},l.id)})}),yf.length?a.jsx("div",{className:"attendance-quick-replies",children:yf.map(l=>a.jsx("button",{className:"quick-reply-btn",onClick:()=>Pf(l.response||""),disabled:oi,title:l.response||l.trigger||"",children:l.trigger||l.response||"Resposta"},l.id))}):null,a.jsxs("div",{className:"attendance-chat-input",children:[a.jsx("textarea",{className:"textarea",placeholder:oi?"Atendimento finalizado.":"Escreva uma mensagem...",value:ff,onChange:l=>ko(l.target.value),disabled:oi}),a.jsx("div",{className:"attendance-input-actions",children:a.jsx("button",{className:"primary",onClick:()=>Pf(),disabled:oi,children:"Enviar"})})]})]})]}),a.jsx("aside",{className:"attendance-sidebar",children:a.jsxs("div",{className:"card attendance-side-card",children:[a.jsxs("div",{className:"side-block",children:[a.jsx("div",{className:"side-block-title",children:"Numero de protocolo"}),a.jsxs("div",{className:"side-row",children:[a.jsx("span",{children:Gt(ne.protocol)}),a.jsx("button",{className:"copy-btn",onClick:()=>Qa(ne.protocol),disabled:!ne.protocol,children:"Copiar"})]})]}),a.jsxs("div",{className:"side-block",children:[a.jsx("div",{className:"side-block-title",children:"Contato"}),a.jsxs("div",{className:"side-row",children:[a.jsx("span",{children:Gt(ne.name)}),a.jsx("button",{className:"copy-btn",onClick:()=>Qa(ne.name),disabled:!ne.name,children:"Copiar"})]}),a.jsxs("div",{className:"side-row",children:[a.jsx("span",{children:Gt(ne.phone)}),a.jsx("button",{className:"copy-btn",onClick:()=>Qa(ne.phone),disabled:!ne.phone,children:"Copiar"})]})]}),a.jsxs("div",{className:"side-block",children:[a.jsx("div",{className:"side-block-title",children:"Informacoes extras"}),a.jsx("div",{className:"device-meta",children:"--"})]})]})})]})]}):a.jsx("div",{className:"card",children:a.jsx("div",{className:"empty-state",children:"Carregando atendimento..."})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"card",children:[a.jsx("div",{className:"card-head",children:a.jsx("h3",{children:"Atendimento"})}),a.jsxs("div",{className:"attendance-filter-bar",children:[a.jsxs("div",{className:"attendance-filter-fields",children:[a.jsx("input",{className:"input",placeholder:"Busca por filtro",value:Cr.q,onChange:l=>_r(p=>({...p,q:l.target.value}))}),a.jsxs("select",{className:"select",value:Cr.deviceId,onChange:l=>_r(p=>({...p,deviceId:l.target.value})),children:[a.jsx("option",{value:"",children:"Agente (Dispositivo)"}),dn.map(l=>a.jsx("option",{value:l.value,children:l.label},l.value))]}),a.jsxs("select",{className:"select",value:Cr.entryRange,onChange:l=>_r(p=>({...p,entryRange:l.target.value})),children:[a.jsx("option",{value:"",children:"Entrada"}),Fp.filter(l=>l.value).map(l=>a.jsx("option",{value:l.value,children:l.label},`entry-${l.value}`))]}),a.jsxs("select",{className:"select",value:Cr.exitRange,onChange:l=>_r(p=>({...p,exitRange:l.target.value})),children:[a.jsx("option",{value:"",children:"Termino"}),Fp.filter(l=>l.value).map(l=>a.jsx("option",{value:l.value,children:l.label},`exit-${l.value}`))]})]}),a.jsxs("div",{className:"attendance-filter-actions",children:[a.jsx("button",{className:"primary",onClick:lx,children:"Buscar"}),a.jsx("button",{className:"secondary",onClick:ax,children:"Limpar filtros"})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("div",{className:"attendance-table-wrap",children:a.jsxs("div",{className:"attendance-table",children:[a.jsxs("div",{className:"attendance-row header",children:[a.jsx("div",{children:"Acoes"}),a.jsx("div",{children:"Cod."}),a.jsx("div",{children:"Agente"}),a.jsx("div",{children:"Contato"}),a.jsx("div",{children:"Numero de protocolo"}),a.jsx("div",{children:"Entrada"}),a.jsx("div",{children:"Termino"}),a.jsx("div",{children:"Status"}),a.jsx("div",{children:"Tempo Atendimento"})]}),wf.length===0?a.jsx("div",{className:"empty-state",children:"Nenhum atendimento encontrado."}):wf.map(l=>{const p=Hp(l.status),_=l.startedAt?new Date(l.startedAt):null,V=l.closedAt?new Date(l.closedAt):new Date(Zy),Q=_&&!Number.isNaN(_.getTime()),re=V&&!Number.isNaN(V.getTime()),he=Q&&re?V.getTime()-_.getTime():NaN,Xe=c_(he),$e=as.get(l.deviceId)||l.deviceName||l.deviceId||"Sem agente";return a.jsxs("div",{className:"attendance-row",children:[a.jsxs("div",{className:"attendance-actions",children:[a.jsx("button",{className:"secondary",onClick:()=>cx(l.id),children:"Visualizar"}),a.jsx("button",{className:"danger",onClick:()=>$f(l.id),disabled:l.status==="closed",children:"Finalizar"})]}),a.jsx("div",{children:Gt(l.id)}),a.jsxs("div",{className:"attendance-cell",children:[a.jsx("div",{children:$e}),a.jsxs("span",{className:"channel-label whatsapp",children:[a.jsx("span",{className:"channel-dot"}),"WhatsApp"]})]}),a.jsxs("div",{className:"attendance-cell",children:[a.jsx("div",{children:l.name||"Sem nome"}),a.jsx("div",{className:"attendance-sub",children:Gt(l.phone)})]}),a.jsx("div",{children:Gt(l.protocol)}),a.jsx("div",{children:Gn(l.startedAt)}),a.jsx("div",{children:l.closedAt?Gn(l.closedAt):"--"}),a.jsx("div",{children:a.jsx("span",{className:`pill ${p.pill}`,children:p.label})}),a.jsx("div",{children:Xe})]},l.id)})]})}),si>1?a.jsx("div",{className:"pagination",children:Array.from({length:si}).map((l,p)=>{const _=p+1;return a.jsx("button",{className:`page-btn ${Tr===_?"active":""}`,onClick:()=>is(_),children:_},`attendance-page-${_}`)})}):null]})]})}),a.jsxs("section",{className:`view ${s==="tests"?"active":""}`,children:[a.jsxs("div",{className:"card",children:[a.jsx("div",{className:"card-head",children:a.jsx("h3",{children:"Requisicoes NEWBR"})}),a.jsxs("div",{className:"form-row",children:[a.jsxs("select",{className:"select",value:St.status,onChange:l=>Co(p=>({...p,status:l.target.value})),children:[a.jsx("option",{value:"",children:"Todos"}),a.jsx("option",{value:"success",children:"Sucesso"}),a.jsx("option",{value:"error",children:"Erro"})]}),a.jsx("input",{className:"input",type:"datetime-local",value:St.from,onChange:l=>Co(p=>({...p,from:l.target.value}))}),a.jsx("input",{className:"input",type:"datetime-local",value:St.to,onChange:l=>Co(p=>({...p,to:l.target.value}))}),a.jsxs("select",{className:"select",value:St.deviceId,onChange:l=>Co(p=>({...p,deviceId:l.target.value})),children:[a.jsx("option",{value:"",children:"Todos"}),dn.map(l=>a.jsx("option",{value:l.value,children:l.label},l.value))]}),a.jsx("button",{className:"secondary",onClick:()=>Ar().catch(()=>{}),children:"Atualizar"})]})]}),a.jsx("div",{className:"card",children:a.jsx("div",{className:"list",children:Mr.length===0?a.jsx("div",{className:"list-item",children:"Nenhum teste registrado."}):Mr.map(l=>a.jsxs("div",{className:"list-item",onClick:()=>dx(l),children:[a.jsxs("div",{className:"title",children:["#",l.id," ",l.flow||"-"," (",l.status||"-",")"]}),a.jsxs("div",{className:"meta",children:[Gn(l.createdAt)," | ",l.deviceId||"sem device"]})]},l.id))})})]}),a.jsx("section",{className:`view ${s==="followups"?"active":""}`,children:a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"card-head",children:[a.jsx("h3",{children:"Follow-ups"}),a.jsx("span",{className:"badge",children:"Reassign device"})]}),a.jsx("div",{className:"list",children:os.length===0?a.jsx("div",{className:"list-item",children:"Nenhum follow-up pendente."}):os.map(l=>a.jsxs("div",{className:"list-item",children:[a.jsxs("div",{className:"title",children:[l.clientName||"Sem nome"," (",l.clientPhone||"-",")"]}),a.jsxs("div",{className:"meta",children:["Criado: ",Gn(l.createdAt)," | Sessao: ",l.sessionName||"-"]}),a.jsxs("div",{className:"meta",children:["Chat: ",l.chatId||"-"]}),a.jsx("div",{className:"form-row",children:a.jsxs("select",{className:"select",value:l.deviceId||"",onChange:p=>fx(l.id,p.target.value),children:[a.jsx("option",{value:"",children:"Automatico"}),dn.map(p=>a.jsx("option",{value:p.value,children:p.label},p.value))]})})]},l.id))})]})})]}),wn&&Pt?a.jsx("div",{className:"flow-editor-overlay",children:a.jsxs("div",{className:"flow-editor-shell",children:[a.jsxs("div",{className:"flow-editor-topbar",children:[a.jsxs("div",{className:"flow-editor-left",children:[a.jsx("button",{className:"icon",onClick:D0,children:"Voltar"}),a.jsxs("div",{className:"flow-editor-title",children:[a.jsxs("div",{className:"flow-editor-title-row",children:[a.jsx("input",{className:"flow-title-input",value:Ve.name,onChange:l=>Wt(p=>({...p,name:l.target.value}))}),a.jsx("span",{className:"badge flow-beta",children:"Versao Beta"})]}),a.jsx("div",{className:"device-meta",children:Ve.deviceId?`Device: ${as.get(Ve.deviceId)||Ve.deviceId}`:"Global"})]})]}),a.jsxs("div",{className:"flow-editor-actions",children:[a.jsxs("select",{className:"select compact",value:Ve.deviceId,onChange:l=>Wt(p=>({...p,deviceId:l.target.value})),children:[a.jsx("option",{value:"",children:"Todos"}),dn.map(l=>a.jsx("option",{value:l.value,children:l.label},l.value))]}),a.jsx("button",{className:"secondary",onClick:()=>alert("Simulacao do fluxo em breve."),children:"Simular fluxo"}),a.jsxs("label",{className:"flow-switch",children:[a.jsx("span",{children:"Ativado"}),a.jsx("input",{type:"checkbox",checked:Ve.enabled,onChange:l=>Wt(p=>({...p,enabled:l.target.checked}))})]}),a.jsx("button",{className:"primary",onClick:ex,children:"Salvar"})]})]}),a.jsxs("div",{className:"flow-editor-body",children:[a.jsxs("aside",{className:"flow-editor-sidebar",children:[a.jsxs("details",{className:"flow-dropdown",open:!0,children:[a.jsxs("summary",{className:"flow-section-head",children:[a.jsx("span",{className:"flow-dot green"}),"Acionamentos"]}),a.jsxs("div",{className:"flow-section-body",children:[a.jsxs("label",{className:"flow-toggle",children:[a.jsx("input",{type:"checkbox",checked:me.anyMessage,onChange:()=>rt("anyMessage")}),a.jsx("span",{children:"Quando qualquer mensagem e recebida."})]}),a.jsxs("label",{className:"flow-toggle",children:[a.jsx("input",{type:"checkbox",checked:me.keywordMessage,onChange:()=>rt("keywordMessage")}),a.jsx("span",{children:"Quando a mensagem contem palavras-chave."})]}),a.jsx("div",{className:"flow-tags",children:To.length===0?a.jsx("div",{className:"device-meta",children:"Nenhuma palavra-chave configurada."}):To.map(l=>a.jsxs("span",{className:"flow-tag",children:[l,a.jsx("button",{className:"tag-close",onClick:()=>y0(l),children:"x"})]},l))}),a.jsxs("div",{className:"flow-tag-input",children:[a.jsx("input",{className:"input",placeholder:"Digite uma palavra chave",value:It,onChange:l=>ct(l.target.value),disabled:!me.keywordMessage,onKeyDown:l=>{l.key==="Enter"&&(l.preventDefault(),jf())}}),a.jsx("button",{className:"secondary",onClick:jf,disabled:!me.keywordMessage,children:"Adicionar"})]}),a.jsxs("label",{className:"flow-toggle",children:[a.jsx("input",{type:"checkbox",checked:me.firstMessageDay,onChange:()=>rt("firstMessageDay")}),a.jsx("span",{children:"Primeira mensagem do cliente no dia."})]}),a.jsxs("label",{className:"flow-toggle",children:[a.jsx("input",{type:"checkbox",checked:me.firstMessage,onChange:()=>rt("firstMessage")}),a.jsx("span",{children:"Primeira mensagem do cliente."})]}),a.jsxs("div",{className:"flow-reactivation",children:[a.jsx("div",{className:"flow-reactivation-title",children:"Intervalo de reativacao"}),a.jsxs("div",{className:"flow-reactivation-row",children:[a.jsx("input",{className:"input",type:"number",min:"0",value:Vn.value,onChange:l=>Rt(p=>({...p,value:Number(l.target.value)}))}),a.jsx("select",{className:"select",value:Vn.unit,onChange:l=>Rt(p=>({...p,unit:l.target.value})),children:Uy.map(l=>a.jsx("option",{value:l.value,children:l.label},l.value))})]}),a.jsx("div",{className:"device-meta",children:"0 = sem bloqueio"})]})]})]}),a.jsxs("details",{className:"flow-dropdown",open:!0,children:[a.jsxs("summary",{className:"flow-section-head",children:[a.jsx("span",{className:"flow-dot amber"}),"Blocos de acoes (",Gu.length,")"]}),a.jsxs("div",{className:"flow-section-body",children:[a.jsx("div",{className:"flow-action-grid",children:Gu.map(l=>a.jsxs("div",{className:"flow-action-card",draggable:!0,onDragStart:p=>S0(p,l.type),children:[a.jsx("div",{className:"flow-action-icon",children:l.icon||"BLK"}),a.jsx("div",{className:"flow-action-label",children:l.label})]},l.type))}),a.jsx("div",{className:"device-meta",children:"Arraste um bloco para o canvas."})]})]}),a.jsxs("details",{className:"flow-dropdown",open:!0,children:[a.jsxs("summary",{className:"flow-section-head",children:[a.jsx("span",{className:"flow-dot purple"}),"Regras"]}),a.jsxs("div",{className:"flow-section-body",children:[a.jsx("div",{className:"flow-subhead",children:"Regras gerais:"}),a.jsxs("label",{className:"flow-toggle",children:[a.jsx("input",{type:"checkbox",checked:me.allowGroups,onChange:()=>rt("allowGroups")}),a.jsx("span",{children:"Permitir responder a grupos."})]}),a.jsxs("label",{className:"flow-toggle",children:[a.jsx("input",{type:"checkbox",checked:me.scheduleOnly,onChange:()=>rt("scheduleOnly")}),a.jsx("span",{children:"Permitir respostas apenas em dias e horarios definidos."})]}),a.jsxs("label",{className:"flow-toggle",children:[a.jsx("input",{type:"checkbox",checked:me.ignoreOpen,onChange:()=>rt("ignoreOpen")}),a.jsx("span",{children:"Nao responder se a conversa estiver aberta."})]}),a.jsxs("label",{className:"flow-toggle",children:[a.jsx("input",{type:"checkbox",checked:me.customSignature,onChange:()=>rt("customSignature")}),a.jsx("span",{children:"Personalizar ou desativar assinatura."})]}),a.jsxs("label",{className:"flow-toggle",children:[a.jsx("input",{type:"checkbox",checked:me.simulateTyping,onChange:()=>rt("simulateTyping")}),a.jsx("span",{children:"Simular que esta digitando ou gravando audio."})]}),a.jsx("div",{className:"flow-subhead",children:"Regras de CRM:"}),a.jsxs("label",{className:"flow-toggle",children:[a.jsx("input",{type:"checkbox",checked:me.crmIgnore,onChange:()=>rt("crmIgnore")}),a.jsx("span",{children:"Nao responder se o contato estiver em um CRM."})]}),a.jsxs("label",{className:"flow-toggle",children:[a.jsx("input",{type:"checkbox",checked:me.crmIgnoreAll,onChange:()=>rt("crmIgnoreAll")}),a.jsx("span",{children:"Nao responder os CRMs."})]}),a.jsxs("label",{className:"flow-toggle",children:[a.jsx("input",{type:"checkbox",checked:me.crmOnly,onChange:()=>rt("crmOnly")}),a.jsx("span",{children:"Responder apenas os CRMs."})]}),a.jsx("div",{className:"flow-subhead",children:"Regras de etiqueta:"}),a.jsxs("label",{className:"flow-toggle",children:[a.jsx("input",{type:"checkbox",checked:me.tagIgnore,onChange:()=>rt("tagIgnore")}),a.jsx("span",{children:"Nao responder se o contato estiver etiquetado."})]}),a.jsxs("label",{className:"flow-toggle",children:[a.jsx("input",{type:"checkbox",checked:me.tagIgnoreAll,onChange:()=>rt("tagIgnoreAll")}),a.jsx("span",{children:"Nao responder as etiquetas."})]}),a.jsxs("label",{className:"flow-toggle",children:[a.jsx("input",{type:"checkbox",checked:me.tagOnly,onChange:()=>rt("tagOnly")}),a.jsx("span",{children:"Responder apenas as etiquetas."})]})]})]}),a.jsxs("div",{className:"flow-section",children:[a.jsx("button",{className:"ghost",onClick:()=>ts(l=>!l),children:On?"Ocultar JSON":"Editor JSON"}),On?a.jsxs("div",{className:"flow-json",children:[a.jsx("div",{className:"flow-json-label",children:"Etapas (JSON)"}),a.jsx("textarea",{className:"textarea",value:Ve.stages,onChange:l=>Wt(p=>({...p,stages:l.target.value}))}),bo.error?a.jsx("div",{className:"hint",children:bo.error}):null,a.jsx("div",{className:"form-row",children:a.jsx("button",{className:"secondary",onClick:z0,disabled:!!bo.error,children:"Aplicar no canvas"})})]}):null,yo?a.jsx("div",{className:"hint",children:yo}):null]})]}),a.jsx("div",{className:"flow-editor-canvas",ref:ei,children:a.jsxs(Ly,{nodes:ns,edges:wo,onNodesChange:x0,onEdgesChange:w0,onConnect:N0,nodeTypes:px,onInit:Da,onDrop:j0,onDragOver:E0,fitView:!0,panOnScroll:!0,deleteKeyCode:null,children:[a.jsx(s_,{variant:"dots",gap:24,size:1,color:"rgba(148, 163, 184, 0.2)"}),a.jsx(qC,{}),a.jsx(WC,{})]})})]})]})}):null,nt.open&&ae?a.jsx("div",{className:"modal",onClick:l=>{l.target.classList.contains("modal")&&$o()},children:a.jsxs("div",{className:"modal-card wide",onClick:l=>l.stopPropagation(),children:[a.jsxs("div",{className:"modal-head",children:[a.jsx("h3",{children:((Ff=Al[nt.kind])==null?void 0:Ff.label)||"Bloco"}),a.jsx("button",{className:"icon",onClick:$o,children:"X"})]}),a.jsxs("div",{className:"modal-body flow-node-modal",children:[nt.kind==="text"?a.jsxs(a.Fragment,{children:[a.jsx("textarea",{className:"textarea",placeholder:"Mensagem",value:ae.message||"",onChange:l=>Pe({message:l.target.value})}),a.jsx("div",{className:"form-row",children:a.jsx("button",{className:"secondary",type:"button",onClick:()=>Pe({message:`${ae.message||""} {#nome}`.trim()}),children:"#Tag"})}),a.jsx("input",{className:"input",placeholder:"Salvar resposta em variavel",value:ae.saveVar||"",onChange:l=>Pe({saveVar:l.target.value})})]}):null,["image","video"].includes(nt.kind)?a.jsxs(a.Fragment,{children:[a.jsx("input",{className:"input",type:"file",accept:Lc[nt.kind]||"*",onChange:Ua}),hl[nt.kind]?a.jsx("div",{className:"device-meta",children:hl[nt.kind]}):null,ae.fileName?a.jsx("div",{className:"device-meta",children:ae.fileName}):null,a.jsx("input",{className:"input",placeholder:"Legenda",value:ae.caption||"",onChange:l=>Pe({caption:l.target.value})}),a.jsx("input",{className:"input",placeholder:"Salvar resposta em variavel",value:ae.saveVar||"",onChange:l=>Pe({saveVar:l.target.value})})]}):null,nt.kind==="document"?a.jsxs(a.Fragment,{children:[a.jsx("input",{className:"input",type:"file",accept:Lc.document,onChange:Ua}),a.jsx("div",{className:"device-meta",children:hl.document}),ae.fileName?a.jsx("div",{className:"device-meta",children:ae.fileName}):null,a.jsx("input",{className:"input",placeholder:"Salvar resposta em variavel",value:ae.saveVar||"",onChange:l=>Pe({saveVar:l.target.value})})]}):null,nt.kind==="audio"?a.jsxs(a.Fragment,{children:[a.jsx("input",{className:"input",type:"file",accept:Lc.audio,onChange:Ua}),a.jsx("div",{className:"device-meta",children:hl.audio}),ae.fileName?a.jsx("div",{className:"device-meta",children:ae.fileName}):null,a.jsx("div",{className:"form-row",children:a.jsx("button",{className:"secondary",type:"button",onClick:()=>Pe({recording:!ae.recording}),children:ae.recording?"Parar gravacao":"Gravar audio"})}),a.jsx("input",{className:"input",placeholder:"Salvar resposta em variavel",value:ae.saveVar||"",onChange:l=>Pe({saveVar:l.target.value})})]}):null,nt.kind==="responses"?a.jsxs(a.Fragment,{children:[a.jsx("textarea",{className:"textarea",placeholder:"Mensagem principal",value:ae.message||"",onChange:l=>Pe({message:l.target.value})}),a.jsxs("select",{className:"select",value:ae.matchType||"includes",onChange:l=>Pe({matchType:l.target.value}),children:[a.jsx("option",{value:"includes",children:"Contem"}),a.jsx("option",{value:"exact",children:"Igual"}),a.jsx("option",{value:"starts_with",children:"Comeca com"}),a.jsx("option",{value:"ends_with",children:"Termina com"})]}),a.jsxs("div",{className:"flow-option-list",children:[(ae.options||[]).map((l,p)=>a.jsxs("div",{className:"flow-option-row",children:[a.jsx("input",{className:"input",placeholder:`Opcao ${p+1}`,value:l.label||"",onChange:_=>T0(l.id,_.target.value)}),a.jsx("button",{className:"icon",type:"button",onClick:()=>b0(l.id),children:"X"})]},l.id)),a.jsx("button",{className:"secondary",type:"button",onClick:_0,children:"Adicionar opcao"})]}),a.jsx("input",{className:"input",placeholder:"Salvar resposta em variavel",value:ae.saveVar||"",onChange:l=>Pe({saveVar:l.target.value})}),a.jsxs("label",{className:"flow-switch inline",children:[a.jsx("span",{children:"Repetir bloco de perguntas"}),a.jsx("input",{type:"checkbox",checked:!!ae.fallbackRepeat,onChange:l=>Pe({fallbackRepeat:l.target.checked})})]})]}):null,nt.kind==="list"?a.jsxs(a.Fragment,{children:[a.jsx("input",{className:"input",placeholder:"Titulo (opcional)",value:ae.title||"",onChange:l=>Pe({title:l.target.value})}),a.jsx("textarea",{className:"textarea",placeholder:"Descricao",value:ae.description||"",onChange:l=>Pe({description:l.target.value})}),a.jsx("input",{className:"input",placeholder:"Rodape",value:ae.footer||"",onChange:l=>Pe({footer:l.target.value})}),a.jsx("input",{className:"input",placeholder:"Texto do botao",value:ae.buttonText||"",onChange:l=>Pe({buttonText:l.target.value})}),a.jsxs("div",{className:"flow-list-stats",children:[a.jsxs("span",{children:["Categorias: ",Fo.length]}),a.jsxs("span",{children:["Produtos: ",yx]})]}),a.jsx("div",{className:"flow-list-categories",children:Fo.map((l,p)=>a.jsxs("div",{className:"flow-category-card",children:[a.jsxs("div",{className:"flow-category-head",children:[a.jsx("input",{className:"input",placeholder:`Categoria ${p+1}`,value:l.title||"",onChange:_=>A0(l.id,_.target.value)}),a.jsx("button",{className:"icon",type:"button",onClick:()=>I0(l.id),children:"X"})]}),a.jsx("div",{className:"flow-category-items",children:Array.isArray(l.items)&&l.items.length?l.items.map(_=>a.jsxs("div",{className:"flow-item-row",children:[a.jsx("input",{className:"input",placeholder:"Produto",value:_.title||"",onChange:V=>_f(l.id,_.id,"title",V.target.value)}),a.jsx("input",{className:"input",placeholder:"Descricao",value:_.description||"",onChange:V=>_f(l.id,_.id,"description",V.target.value)}),a.jsx("button",{className:"icon",type:"button",onClick:()=>P0(l.id,_.id),children:"X"})]},_.id)):a.jsx("div",{className:"device-meta",children:"Sem produtos nesta categoria."})}),a.jsx("button",{className:"secondary",type:"button",onClick:()=>R0(l.id),children:"Adicionar produto"})]},l.id))}),a.jsx("button",{className:"secondary",type:"button",onClick:M0,disabled:Fo.length>=10,children:"Adicionar categoria"}),a.jsx("input",{className:"input",placeholder:"Salvar resposta em variavel",value:ae.saveVar||"",onChange:l=>Pe({saveVar:l.target.value})}),a.jsxs("label",{className:"flow-switch inline",children:[a.jsx("span",{children:"Repetir bloco de listas"}),a.jsx("input",{type:"checkbox",checked:!!ae.fallbackRepeat,onChange:l=>Pe({fallbackRepeat:l.target.checked})})]})]}):null,a.jsxs("div",{className:"flow-timeout",children:[a.jsx("div",{className:"flow-timeout-label",children:"Minutos sem responder"}),a.jsx("input",{className:"input",type:"number",min:"0",value:ae.timeoutMinutes||0,onChange:l=>Pe({timeoutMinutes:Number(l.target.value)||0})}),a.jsx("div",{className:"device-meta",children:"0 = sem fallback de tempo."})]}),a.jsxs("div",{className:"form-row",children:[a.jsx("button",{className:"secondary",type:"button",onClick:$o,children:"Cancelar"}),a.jsx("button",{className:"primary",type:"button",onClick:C0,children:"Salvar"})]})]})]})}):null,Ut?a.jsx("div",{className:"modal",onClick:l=>{l.target.classList.contains("modal")&&us()},children:a.jsxs("div",{className:"modal-card wide",onClick:l=>l.stopPropagation(),children:[a.jsxs("div",{className:"modal-head",children:[Ya?a.jsx("h3",{children:vx}):a.jsxs("div",{className:"modal-tabs",children:[a.jsx("button",{className:`modal-tab ${Mt==="command"?"active":""}`,onClick:()=>vt("command"),children:"Comando #"}),a.jsx("button",{className:`modal-tab ${Mt==="reply"?"active":""}`,onClick:()=>vt("reply"),children:"Resposta rapida"})]}),a.jsx("button",{className:"icon",onClick:us,children:"X"})]}),a.jsxs("div",{className:"modal-body chatbot-modal",children:[a.jsx("div",{className:"chatbot-form",children:gx?a.jsx("div",{className:"empty-state",children:"Selecione o tipo para continuar."}):Mt==="command"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"form-row",children:a.jsxs("select",{className:"select",value:I.deviceId,onChange:l=>L(p=>({...p,deviceId:l.target.value})),children:[a.jsx("option",{value:"",children:"Todos os Dispositivos"}),dn.map(l=>a.jsx("option",{value:l.value,children:l.label},l.value))]})}),a.jsx("input",{className:"input",placeholder:"#frase exata enviada pelo agente",value:I.trigger,onChange:l=>L(p=>({...p,trigger:l.target.value}))}),a.jsxs("div",{className:"command-type",children:[a.jsxs("label",{className:"command-radio",children:[a.jsx("input",{type:"radio",name:"commandType",value:"test",checked:I.commandType==="test",onChange:l=>L(p=>({...p,commandType:l.target.value}))}),a.jsx("span",{children:"Gera teste no NewBR"})]}),a.jsxs("label",{className:"command-radio",children:[a.jsx("input",{type:"radio",name:"commandType",value:"reply",checked:I.commandType==="reply",onChange:l=>L(p=>({...p,commandType:l.target.value}))}),a.jsx("span",{children:"Apenas resposta normal"})]})]}),a.jsx("textarea",{className:"textarea",placeholder:"Resposta",value:I.responseTemplate,onChange:l=>L(p=>({...p,responseTemplate:l.target.value}))}),a.jsxs("label",{className:"flow-switch inline",children:[a.jsx("span",{children:"Ativo"}),a.jsx("input",{type:"checkbox",checked:I.enabled,onChange:l=>L(p=>({...p,enabled:l.target.checked}))})]}),a.jsxs("div",{className:"form-row",children:[a.jsx("button",{className:"secondary",onClick:us,children:"Cancelar"}),a.jsx("button",{className:"primary",onClick:B0,children:yt?"Salvar":"Criar"})]})]}):Mt==="reply"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"form-row",children:[a.jsxs("select",{className:"select",value:O.deviceId,onChange:l=>G(p=>({...p,deviceId:l.target.value})),children:[a.jsx("option",{value:"",children:"Todos os Dispositivos"}),dn.map(l=>a.jsx("option",{value:l.value,children:l.label},l.value))]}),a.jsxs("select",{className:"select",value:O.matchType,onChange:l=>G(p=>({...p,matchType:l.target.value})),children:[a.jsx("option",{value:"exact",children:"Frase Exata"}),a.jsx("option",{value:"list",children:"Lista"}),a.jsx("option",{value:"includes",children:"Contem"}),a.jsx("option",{value:"starts_with",children:"Comeca"})]})]}),a.jsx("input",{className:"input",placeholder:"Palavra-chave",value:O.trigger,onChange:l=>G(p=>({...p,trigger:l.target.value}))}),a.jsx("textarea",{className:"textarea",placeholder:"Resposta",value:O.response,onChange:l=>G(p=>({...p,response:l.target.value}))}),a.jsxs("label",{className:"flow-switch inline",children:[a.jsx("span",{children:"Ativa"}),a.jsx("input",{type:"checkbox",checked:O.enabled,onChange:l=>G(p=>({...p,enabled:l.target.checked}))})]}),a.jsxs("div",{className:"form-row",children:[a.jsx("button",{className:"secondary",onClick:us,children:"Cancelar"}),a.jsx("button",{className:"primary",onClick:m0,children:at?"Salvar":"Criar"})]})]}):null}),a.jsxs("aside",{className:"vars-panel",children:[a.jsx("div",{className:"vars-title",children:"Variaveis disponiveis"}),a.jsxs("div",{className:"vars-list",children:[a.jsxs("div",{children:[a.jsx("span",{className:"vars-token",children:"{#nome}"})," Nome do contato ou WhatsApp"]}),a.jsxs("div",{children:[a.jsx("span",{className:"vars-token",children:"{#telefone}"})," Telefone do contato"]}),a.jsxs("div",{children:[a.jsx("span",{className:"vars-token",children:"{#usuario}"})," Usuario do teste NewBR"]}),a.jsxs("div",{children:[a.jsx("span",{className:"vars-token",children:"{#senha}"})," Senha do teste NewBR"]}),a.jsxs("div",{children:[a.jsx("span",{className:"vars-token",children:"{#http1}"})," Primeiro link HTTP curto"]}),a.jsxs("div",{children:[a.jsx("span",{className:"vars-token",children:"{#http2}"})," Segundo link HTTP curto"]})]}),a.jsx("div",{className:"vars-note",children:"Variaveis de teste funcionam apenas quando o comando # esta marcado como NewBR. Links HTTP usam URLs curtas (ex: http://bludx.top)."}),a.jsx("div",{className:"vars-title",children:"Modelo de resposta"}),a.jsx("pre",{className:"vars-example",children:`LAZER PLAY

Cod: br99
Usuario: {#usuario}
Senha: {#senha}`})]})]})]})}):null,Fn?a.jsx("div",{className:"modal",onClick:l=>{l.target.classList.contains("modal")&&Do()},children:a.jsxs("div",{className:"modal-card",onClick:l=>l.stopPropagation(),children:[a.jsxs("div",{className:"modal-head",children:[a.jsx("h3",{children:cn?"Editar variavel":"Criar variavel"}),a.jsx("button",{className:"icon",onClick:Do,children:"X"})]}),a.jsxs("div",{className:"modal-body",children:[a.jsx("div",{className:"form-row",children:a.jsxs("select",{className:"select",value:_e.deviceId,onChange:l=>wt(p=>({...p,deviceId:l.target.value})),children:[a.jsx("option",{value:"",children:"Todos os Dispositivos"}),dn.map(l=>a.jsx("option",{value:l.value,children:l.label},l.value))]})}),a.jsx("input",{className:"input",placeholder:"nome_da_variavel",value:_e.name,onChange:l=>wt(p=>({...p,name:l.target.value}))}),Af(_e.name)?a.jsx("div",{className:"hint",children:"Variavel do sistema. Alterar somente se souber o impacto."}):null,a.jsx("div",{className:"mini-note",children:"Use apenas letras, numeros e _."}),a.jsx("textarea",{className:"textarea",placeholder:"Valor da variavel",value:_e.value,onChange:l=>wt(p=>({...p,value:l.target.value}))}),a.jsxs("div",{className:"form-row",children:[a.jsx("button",{className:"secondary",onClick:Do,children:"Cancelar"}),a.jsx("button",{className:"primary",onClick:Z0,children:cn?"Salvar":"Criar"})]})]})]})}):null,za?a.jsx("div",{className:"modal",onClick:l=>{l.target.classList.contains("modal")&&Nr(!1)},children:a.jsxs("div",{className:"modal-card wide",onClick:l=>l.stopPropagation(),children:[a.jsxs("div",{className:"modal-head",children:[a.jsx("h3",{children:"Criar fluxo"}),a.jsx("button",{className:"icon",onClick:()=>Nr(!1),children:"X"})]}),a.jsxs("div",{className:"modal-body flow-create-body",children:[a.jsx("input",{className:"input",placeholder:"Nome do fluxo",value:Y.name,onChange:l=>Z(p=>({...p,name:l.target.value}))}),a.jsx("div",{className:"device-meta",children:"O fluxo sera criado inativo por padrao."}),a.jsxs("div",{className:"form-row",children:[a.jsx("button",{className:"secondary",onClick:()=>Nr(!1),children:"Cancelar"}),a.jsx("button",{className:"primary",onClick:F0,children:"Criar fluxo"})]})]})]})}):null,C.open?a.jsx("div",{className:"modal",onClick:()=>g(wi),children:a.jsxs("div",{className:"modal-card",onClick:l=>l.stopPropagation(),children:[a.jsxs("div",{className:"modal-head",children:[a.jsxs("h3",{children:["QR - ",((Of=C.device)==null?void 0:Of.name)||"Sessao"]}),a.jsx("button",{className:"icon",onClick:()=>g(wi),children:"X"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("div",{className:"qr-modal",children:[a.jsxs("div",{className:"qr-info",children:[a.jsx("div",{className:"qr-title",children:"Escaneie o QR abaixo."}),a.jsx("div",{className:"qr-notice",children:"QR ativo por 2 minutos."}),a.jsx("div",{className:"qr-timer",children:a_(v)})]}),a.jsx("div",{className:`qr-box ${mx?"expired":""}`,children:C.imageUrl?a.jsx("img",{src:C.imageUrl,alt:"QR"}):null}),a.jsx("div",{className:"qr-status",children:C.message||(C.imageUrl?"Escaneie o QR abaixo.":"Gerando QR...")}),a.jsx("div",{className:"form-row qr-actions",children:a.jsx("button",{className:"secondary",onClick:f0,children:"Gerar novo QR"})})]})})]})}):null,Oa.open?a.jsx("div",{className:"modal",onClick:l=>{l.target.classList.contains("modal")&&ls({open:!1,title:"",content:null})},children:a.jsxs("div",{className:"modal-card",onClick:l=>l.stopPropagation(),children:[a.jsxs("div",{className:"modal-head",children:[a.jsx("h3",{children:Oa.title}),a.jsx("button",{className:"icon",onClick:()=>ls({open:!1,title:"",content:null}),children:"X"})]}),a.jsx("div",{className:"modal-body",children:Oa.content})]})}):null,e.status!=="ready"?a.jsx("div",{className:"login-screen",children:a.jsxs("div",{className:"login-card",children:[a.jsx("h2",{children:"Login"}),a.jsx("p",{children:"Entre para acessar o painel."}),a.jsxs("form",{onSubmit:o0,style:{display:"grid",gap:10,marginTop:8},children:[a.jsx("input",{className:"input",placeholder:"Usuario",value:n.username,onChange:l=>r(p=>({...p,username:l.target.value}))}),a.jsx("input",{className:"input",type:"password",placeholder:"Senha",value:n.password,onChange:l=>r(p=>({...p,password:l.target.value}))}),n.error?a.jsx("div",{className:"hint",children:n.error}):null,a.jsx("button",{className:"primary",type:"submit",children:"Entrar"})]})]})}):null]})}const m_=fv(document.getElementById("root"));m_.render(a.jsx(p_,{}));
